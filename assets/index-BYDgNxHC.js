function ub(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function db(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var q5={exports:{}},Gf={},V5={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Symbol.for("react.element"),fb=Symbol.for("react.portal"),hb=Symbol.for("react.fragment"),pb=Symbol.for("react.strict_mode"),mb=Symbol.for("react.profiler"),gb=Symbol.for("react.provider"),vb=Symbol.for("react.context"),yb=Symbol.for("react.forward_ref"),wb=Symbol.for("react.suspense"),xb=Symbol.for("react.memo"),bb=Symbol.for("react.lazy"),Pg=Symbol.iterator;function _b(e){return e===null||typeof e!="object"?null:(e=Pg&&e[Pg]||e["@@iterator"],typeof e=="function"?e:null)}var W5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H5=Object.assign,G5={};function Al(e,t,r){this.props=e,this.context=t,this.refs=G5,this.updater=r||W5}Al.prototype.isReactComponent={};Al.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Al.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function J5(){}J5.prototype=Al.prototype;function z1(e,t,r){this.props=e,this.context=t,this.refs=G5,this.updater=r||W5}var q1=z1.prototype=new J5;q1.constructor=z1;H5(q1,Al.prototype);q1.isPureReactComponent=!0;var Cg=Array.isArray,K5=Object.prototype.hasOwnProperty,V1={current:null},X5={key:!0,ref:!0,__self:!0,__source:!0};function Y5(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)K5.call(t,n)&&!X5.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:mu,type:e,key:s,ref:o,props:i,_owner:V1.current}}function Sb(e,t){return{$$typeof:mu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function W1(e){return typeof e=="object"&&e!==null&&e.$$typeof===mu}function Nb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Eg=/\/+/g;function mp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nb(""+e.key):t.toString(36)}function Hd(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case mu:case fb:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+mp(o,0):n,Cg(i)?(r="",e!=null&&(r=e.replace(Eg,"$&/")+"/"),Hd(i,t,r,"",function(d){return d})):i!=null&&(W1(i)&&(i=Sb(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Eg,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Cg(e))for(var a=0;a<e.length;a++){s=e[a];var l=n+mp(s,a);o+=Hd(s,t,r,l,i)}else if(l=_b(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=n+mp(s,a++),o+=Hd(s,t,r,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vd(e,t,r){if(e==null)return e;var n=[],i=0;return Hd(e,n,"","",function(s){return t.call(r,s,i++)}),n}function jb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var cn={current:null},Gd={transition:null},kb={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:Gd,ReactCurrentOwner:V1};function Q5(){throw Error("act(...) is not supported in production builds of React.")}mt.Children={map:vd,forEach:function(e,t,r){vd(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vd(e,function(){t++}),t},toArray:function(e){return vd(e,function(t){return t})||[]},only:function(e){if(!W1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};mt.Component=Al;mt.Fragment=hb;mt.Profiler=mb;mt.PureComponent=z1;mt.StrictMode=pb;mt.Suspense=wb;mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kb;mt.act=Q5;mt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=H5({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=V1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)K5.call(t,l)&&!X5.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:mu,type:e.type,key:i,ref:s,props:n,_owner:o}};mt.createContext=function(e){return e={$$typeof:vb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gb,_context:e},e.Consumer=e};mt.createElement=Y5;mt.createFactory=function(e){var t=Y5.bind(null,e);return t.type=e,t};mt.createRef=function(){return{current:null}};mt.forwardRef=function(e){return{$$typeof:yb,render:e}};mt.isValidElement=W1;mt.lazy=function(e){return{$$typeof:bb,_payload:{_status:-1,_result:e},_init:jb}};mt.memo=function(e,t){return{$$typeof:xb,type:e,compare:t===void 0?null:t}};mt.startTransition=function(e){var t=Gd.transition;Gd.transition={};try{e()}finally{Gd.transition=t}};mt.unstable_act=Q5;mt.useCallback=function(e,t){return cn.current.useCallback(e,t)};mt.useContext=function(e){return cn.current.useContext(e)};mt.useDebugValue=function(){};mt.useDeferredValue=function(e){return cn.current.useDeferredValue(e)};mt.useEffect=function(e,t){return cn.current.useEffect(e,t)};mt.useId=function(){return cn.current.useId()};mt.useImperativeHandle=function(e,t,r){return cn.current.useImperativeHandle(e,t,r)};mt.useInsertionEffect=function(e,t){return cn.current.useInsertionEffect(e,t)};mt.useLayoutEffect=function(e,t){return cn.current.useLayoutEffect(e,t)};mt.useMemo=function(e,t){return cn.current.useMemo(e,t)};mt.useReducer=function(e,t,r){return cn.current.useReducer(e,t,r)};mt.useRef=function(e){return cn.current.useRef(e)};mt.useState=function(e){return cn.current.useState(e)};mt.useSyncExternalStore=function(e,t,r){return cn.current.useSyncExternalStore(e,t,r)};mt.useTransition=function(){return cn.current.useTransition()};mt.version="18.3.1";V5.exports=mt;var be=V5.exports;const Ge=z5(be),Ab=ub({__proto__:null,default:Ge},[be]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb=be,Pb=Symbol.for("react.element"),Cb=Symbol.for("react.fragment"),Eb=Object.prototype.hasOwnProperty,Ib=Lb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fb={key:!0,ref:!0,__self:!0,__source:!0};function Z5(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Eb.call(t,n)&&!Fb.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Pb,type:e,key:s,ref:o,props:i,_owner:Ib.current}}Gf.Fragment=Cb;Gf.jsx=Z5;Gf.jsxs=Z5;q5.exports=Gf;var f=q5.exports,ev={exports:{}},Un={},tv={exports:{}},rv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(J,ie){var ae=J.length;J.push(ie);e:for(;0<ae;){var Ae=ae-1>>>1,A=J[Ae];if(0<i(A,ie))J[Ae]=ie,J[ae]=A,ae=Ae;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ie=J[0],ae=J.pop();if(ae!==ie){J[0]=ae;e:for(var Ae=0,A=J.length,M=A>>>1;Ae<M;){var $=2*(Ae+1)-1,K=J[$],Z=$+1,ce=J[Z];if(0>i(K,ae))Z<A&&0>i(ce,K)?(J[Ae]=ce,J[Z]=ae,Ae=Z):(J[Ae]=K,J[$]=ae,Ae=$);else if(Z<A&&0>i(ce,ae))J[Ae]=ce,J[Z]=ae,Ae=Z;else break e}}return ie}function i(J,ie){var ae=J.sortIndex-ie.sortIndex;return ae!==0?ae:J.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,m=null,y=3,p=!1,S=!1,_=!1,L=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(J){for(var ie=r(d);ie!==null;){if(ie.callback===null)n(d);else if(ie.startTime<=J)n(d),ie.sortIndex=ie.expirationTime,t(l,ie);else break;ie=r(d)}}function R(J){if(_=!1,N(J),!S)if(r(l)!==null)S=!0,ue(W);else{var ie=r(d);ie!==null&&he(R,ie.startTime-J)}}function W(J,ie){S=!1,_&&(_=!1,x(E),E=-1),p=!0;var ae=y;try{for(N(ie),m=r(l);m!==null&&(!(m.expirationTime>ie)||J&&!T());){var Ae=m.callback;if(typeof Ae=="function"){m.callback=null,y=m.priorityLevel;var A=Ae(m.expirationTime<=ie);ie=e.unstable_now(),typeof A=="function"?m.callback=A:m===r(l)&&n(l),N(ie)}else n(l);m=r(l)}if(m!==null)var M=!0;else{var $=r(d);$!==null&&he(R,$.startTime-ie),M=!1}return M}finally{m=null,y=ae,p=!1}}var X=!1,O=null,E=-1,Y=5,ne=-1;function T(){return!(e.unstable_now()-ne<Y)}function I(){if(O!==null){var J=e.unstable_now();ne=J;var ie=!0;try{ie=O(!0,J)}finally{ie?G():(X=!1,O=null)}}else X=!1}var G;if(typeof w=="function")G=function(){w(I)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,fe=q.port2;q.port1.onmessage=I,G=function(){fe.postMessage(null)}}else G=function(){L(I,0)};function ue(J){O=J,X||(X=!0,G())}function he(J,ie){E=L(function(){J(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){S||p||(S=!0,ue(W))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(J){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var ae=y;y=ie;try{return J()}finally{y=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ae=y;y=J;try{return ie()}finally{y=ae}},e.unstable_scheduleCallback=function(J,ie,ae){var Ae=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Ae+ae:Ae):ae=Ae,J){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=ae+A,J={id:h++,callback:ie,priorityLevel:J,startTime:ae,expirationTime:A,sortIndex:-1},ae>Ae?(J.sortIndex=ae,t(d,J),r(l)===null&&J===r(d)&&(_?(x(E),E=-1):_=!0,he(R,ae-Ae))):(J.sortIndex=A,t(l,J),S||p||(S=!0,ue(W))),J},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(J){var ie=y;return function(){var ae=y;y=ie;try{return J.apply(this,arguments)}finally{y=ae}}}})(rv);tv.exports=rv;var Tb=tv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob=be,Bn=Tb;function Oe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nv=new Set,qc={};function Zo(e,t){vl(e,t),vl(e+"Capture",t)}function vl(e,t){for(qc[e]=t,e=0;e<t.length;e++)nv.add(t[e])}var gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y0=Object.prototype.hasOwnProperty,Db=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ig={},Fg={};function Rb(e){return y0.call(Fg,e)?!0:y0.call(Ig,e)?!1:Db.test(e)?Fg[e]=!0:(Ig[e]=!0,!1)}function Mb(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bb(e,t,r,n){if(t===null||typeof t>"u"||Mb(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function un(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ur[e]=new un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ur[t]=new un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ur[e]=new un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ur[e]=new un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ur[e]=new un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ur[e]=new un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ur[e]=new un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ur[e]=new un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ur[e]=new un(e,5,!1,e.toLowerCase(),null,!1,!1)});var H1=/[\-:]([a-z])/g;function G1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(H1,G1);Ur[t]=new un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(H1,G1);Ur[t]=new un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(H1,G1);Ur[t]=new un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ur[e]=new un(e,1,!1,e.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ur[e]=new un(e,1,!1,e.toLowerCase(),null,!0,!0)});function J1(e,t,r,n){var i=Ur.hasOwnProperty(t)?Ur[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bb(t,r,i,n)&&(r=null),n||i===null?Rb(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var bs=Ob.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yd=Symbol.for("react.element"),Ha=Symbol.for("react.portal"),Ga=Symbol.for("react.fragment"),K1=Symbol.for("react.strict_mode"),w0=Symbol.for("react.profiler"),iv=Symbol.for("react.provider"),sv=Symbol.for("react.context"),X1=Symbol.for("react.forward_ref"),x0=Symbol.for("react.suspense"),b0=Symbol.for("react.suspense_list"),Y1=Symbol.for("react.memo"),qs=Symbol.for("react.lazy"),ov=Symbol.for("react.offscreen"),Tg=Symbol.iterator;function dc(e){return e===null||typeof e!="object"?null:(e=Tg&&e[Tg]||e["@@iterator"],typeof e=="function"?e:null)}var Xt=Object.assign,gp;function Nc(e){if(gp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);gp=t&&t[1]||""}return`
`+gp+e}var vp=!1;function yp(e,t){if(!e||vp)return"";vp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{vp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Nc(e):""}function Ub(e){switch(e.tag){case 5:return Nc(e.type);case 16:return Nc("Lazy");case 13:return Nc("Suspense");case 19:return Nc("SuspenseList");case 0:case 2:case 15:return e=yp(e.type,!1),e;case 11:return e=yp(e.type.render,!1),e;case 1:return e=yp(e.type,!0),e;default:return""}}function _0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ga:return"Fragment";case Ha:return"Portal";case w0:return"Profiler";case K1:return"StrictMode";case x0:return"Suspense";case b0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sv:return(e.displayName||"Context")+".Consumer";case iv:return(e._context.displayName||"Context")+".Provider";case X1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y1:return t=e.displayName||null,t!==null?t:_0(e.type)||"Memo";case qs:t=e._payload,e=e._init;try{return _0(e(t))}catch{}}return null}function $b(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _0(t);case 8:return t===K1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function uo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function av(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zb(e){var t=av(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function wd(e){e._valueTracker||(e._valueTracker=zb(e))}function lv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=av(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function df(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function S0(e,t){var r=t.checked;return Xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Og(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=uo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cv(e,t){t=t.checked,t!=null&&J1(e,"checked",t,!1)}function N0(e,t){cv(e,t);var r=uo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?j0(e,t.type,r):t.hasOwnProperty("defaultValue")&&j0(e,t.type,uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Dg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function j0(e,t,r){(t!=="number"||df(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jc=Array.isArray;function sl(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+uo(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function k0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Oe(91));return Xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Oe(92));if(jc(r)){if(1<r.length)throw Error(Oe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:uo(r)}}function uv(e,t){var r=uo(t.value),n=uo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Mg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xd,fv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xd=xd||document.createElement("div"),xd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(Pc).forEach(function(e){qb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Pc[t]=Pc[e]})});function hv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Pc.hasOwnProperty(e)&&Pc[e]?(""+t).trim():t+"px"}function pv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=hv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Vb=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function L0(e,t){if(t){if(Vb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Oe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Oe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Oe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Oe(62))}}function P0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C0=null;function Q1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var E0=null,ol=null,al=null;function Bg(e){if(e=yu(e)){if(typeof E0!="function")throw Error(Oe(280));var t=e.stateNode;t&&(t=Qf(t),E0(e.stateNode,e.type,t))}}function mv(e){ol?al?al.push(e):al=[e]:ol=e}function gv(){if(ol){var e=ol,t=al;if(al=ol=null,Bg(e),t)for(e=0;e<t.length;e++)Bg(t[e])}}function vv(e,t){return e(t)}function yv(){}var wp=!1;function wv(e,t,r){if(wp)return e(t,r);wp=!0;try{return vv(e,t,r)}finally{wp=!1,(ol!==null||al!==null)&&(yv(),gv())}}function Wc(e,t){var r=e.stateNode;if(r===null)return null;var n=Qf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Oe(231,t,typeof r));return r}var I0=!1;if(gs)try{var fc={};Object.defineProperty(fc,"passive",{get:function(){I0=!0}}),window.addEventListener("test",fc,fc),window.removeEventListener("test",fc,fc)}catch{I0=!1}function Wb(e,t,r,n,i,s,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(h){this.onError(h)}}var Cc=!1,ff=null,hf=!1,F0=null,Hb={onError:function(e){Cc=!0,ff=e}};function Gb(e,t,r,n,i,s,o,a,l){Cc=!1,ff=null,Wb.apply(Hb,arguments)}function Jb(e,t,r,n,i,s,o,a,l){if(Gb.apply(this,arguments),Cc){if(Cc){var d=ff;Cc=!1,ff=null}else throw Error(Oe(198));hf||(hf=!0,F0=d)}}function ea(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ug(e){if(ea(e)!==e)throw Error(Oe(188))}function Kb(e){var t=e.alternate;if(!t){if(t=ea(e),t===null)throw Error(Oe(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Ug(i),e;if(s===n)return Ug(i),t;s=s.sibling}throw Error(Oe(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(Oe(189))}}if(r.alternate!==n)throw Error(Oe(190))}if(r.tag!==3)throw Error(Oe(188));return r.stateNode.current===r?e:t}function bv(e){return e=Kb(e),e!==null?_v(e):null}function _v(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_v(e);if(t!==null)return t;e=e.sibling}return null}var Sv=Bn.unstable_scheduleCallback,$g=Bn.unstable_cancelCallback,Xb=Bn.unstable_shouldYield,Yb=Bn.unstable_requestPaint,ar=Bn.unstable_now,Qb=Bn.unstable_getCurrentPriorityLevel,Z1=Bn.unstable_ImmediatePriority,Nv=Bn.unstable_UserBlockingPriority,pf=Bn.unstable_NormalPriority,Zb=Bn.unstable_LowPriority,jv=Bn.unstable_IdlePriority,Jf=null,Hi=null;function e4(e){if(Hi&&typeof Hi.onCommitFiberRoot=="function")try{Hi.onCommitFiberRoot(Jf,e,void 0,(e.current.flags&128)===128)}catch{}}var _i=Math.clz32?Math.clz32:n4,t4=Math.log,r4=Math.LN2;function n4(e){return e>>>=0,e===0?32:31-(t4(e)/r4|0)|0}var bd=64,_d=4194304;function kc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mf(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=kc(a):(s&=o,s!==0&&(n=kc(s)))}else o=r&~i,o!==0?n=kc(o):s!==0&&(n=kc(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-_i(t),i=1<<r,n|=e[r],t&=~i;return n}function i4(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s4(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-_i(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=i4(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function T0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kv(){var e=bd;return bd<<=1,!(bd&4194240)&&(bd=64),e}function xp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_i(t),e[t]=r}function o4(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-_i(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function em(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_i(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Pt=0;function Av(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lv,tm,Pv,Cv,Ev,O0=!1,Sd=[],to=null,ro=null,no=null,Hc=new Map,Gc=new Map,Hs=[],a4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zg(e,t){switch(e){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":no=null;break;case"pointerover":case"pointerout":Hc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(t.pointerId)}}function hc(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=yu(t),t!==null&&tm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function l4(e,t,r,n,i){switch(t){case"focusin":return to=hc(to,e,t,r,n,i),!0;case"dragenter":return ro=hc(ro,e,t,r,n,i),!0;case"mouseover":return no=hc(no,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Hc.set(s,hc(Hc.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Gc.set(s,hc(Gc.get(s)||null,e,t,r,n,i)),!0}return!1}function Iv(e){var t=Bo(e.target);if(t!==null){var r=ea(t);if(r!==null){if(t=r.tag,t===13){if(t=xv(r),t!==null){e.blockedOn=t,Ev(e.priority,function(){Pv(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=D0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);C0=n,r.target.dispatchEvent(n),C0=null}else return t=yu(r),t!==null&&tm(t),e.blockedOn=r,!1;t.shift()}return!0}function qg(e,t,r){Jd(e)&&r.delete(t)}function c4(){O0=!1,to!==null&&Jd(to)&&(to=null),ro!==null&&Jd(ro)&&(ro=null),no!==null&&Jd(no)&&(no=null),Hc.forEach(qg),Gc.forEach(qg)}function pc(e,t){e.blockedOn===t&&(e.blockedOn=null,O0||(O0=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,c4)))}function Jc(e){function t(i){return pc(i,e)}if(0<Sd.length){pc(Sd[0],e);for(var r=1;r<Sd.length;r++){var n=Sd[r];n.blockedOn===e&&(n.blockedOn=null)}}for(to!==null&&pc(to,e),ro!==null&&pc(ro,e),no!==null&&pc(no,e),Hc.forEach(t),Gc.forEach(t),r=0;r<Hs.length;r++)n=Hs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Hs.length&&(r=Hs[0],r.blockedOn===null);)Iv(r),r.blockedOn===null&&Hs.shift()}var ll=bs.ReactCurrentBatchConfig,gf=!0;function u4(e,t,r,n){var i=Pt,s=ll.transition;ll.transition=null;try{Pt=1,rm(e,t,r,n)}finally{Pt=i,ll.transition=s}}function d4(e,t,r,n){var i=Pt,s=ll.transition;ll.transition=null;try{Pt=4,rm(e,t,r,n)}finally{Pt=i,ll.transition=s}}function rm(e,t,r,n){if(gf){var i=D0(e,t,r,n);if(i===null)Cp(e,t,n,vf,r),zg(e,n);else if(l4(i,e,t,r,n))n.stopPropagation();else if(zg(e,n),t&4&&-1<a4.indexOf(e)){for(;i!==null;){var s=yu(i);if(s!==null&&Lv(s),s=D0(e,t,r,n),s===null&&Cp(e,t,n,vf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Cp(e,t,n,null,r)}}var vf=null;function D0(e,t,r,n){if(vf=null,e=Q1(n),e=Bo(e),e!==null)if(t=ea(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vf=e,null}function Fv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qb()){case Z1:return 1;case Nv:return 4;case pf:case Zb:return 16;case jv:return 536870912;default:return 16}default:return 16}}var Xs=null,nm=null,Kd=null;function Tv(){if(Kd)return Kd;var e,t=nm,r=t.length,n,i="value"in Xs?Xs.value:Xs.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return Kd=i.slice(e,1<n?1-n:void 0)}function Xd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nd(){return!0}function Vg(){return!1}function $n(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nd:Vg,this.isPropagationStopped=Vg,this}return Xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nd)},persist:function(){},isPersistent:Nd}),t}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},im=$n(Ll),vu=Xt({},Ll,{view:0,detail:0}),f4=$n(vu),bp,_p,mc,Kf=Xt({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mc&&(mc&&e.type==="mousemove"?(bp=e.screenX-mc.screenX,_p=e.screenY-mc.screenY):_p=bp=0,mc=e),bp)},movementY:function(e){return"movementY"in e?e.movementY:_p}}),Wg=$n(Kf),h4=Xt({},Kf,{dataTransfer:0}),p4=$n(h4),m4=Xt({},vu,{relatedTarget:0}),Sp=$n(m4),g4=Xt({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),v4=$n(g4),y4=Xt({},Ll,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w4=$n(y4),x4=Xt({},Ll,{data:0}),Hg=$n(x4),b4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S4[e])?!!t[e]:!1}function sm(){return N4}var j4=Xt({},vu,{key:function(e){if(e.key){var t=b4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sm,charCode:function(e){return e.type==="keypress"?Xd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k4=$n(j4),A4=Xt({},Kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gg=$n(A4),L4=Xt({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sm}),P4=$n(L4),C4=Xt({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),E4=$n(C4),I4=Xt({},Kf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),F4=$n(I4),T4=[9,13,27,32],om=gs&&"CompositionEvent"in window,Ec=null;gs&&"documentMode"in document&&(Ec=document.documentMode);var O4=gs&&"TextEvent"in window&&!Ec,Ov=gs&&(!om||Ec&&8<Ec&&11>=Ec),Jg=" ",Kg=!1;function Dv(e,t){switch(e){case"keyup":return T4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ja=!1;function D4(e,t){switch(e){case"compositionend":return Rv(t);case"keypress":return t.which!==32?null:(Kg=!0,Jg);case"textInput":return e=t.data,e===Jg&&Kg?null:e;default:return null}}function R4(e,t){if(Ja)return e==="compositionend"||!om&&Dv(e,t)?(e=Tv(),Kd=nm=Xs=null,Ja=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ov&&t.locale!=="ko"?null:t.data;default:return null}}var M4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M4[e.type]:t==="textarea"}function Mv(e,t,r,n){mv(n),t=yf(t,"onChange"),0<t.length&&(r=new im("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ic=null,Kc=null;function B4(e){Kv(e,0)}function Xf(e){var t=Ya(e);if(lv(t))return e}function U4(e,t){if(e==="change")return t}var Bv=!1;if(gs){var Np;if(gs){var jp="oninput"in document;if(!jp){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),jp=typeof Yg.oninput=="function"}Np=jp}else Np=!1;Bv=Np&&(!document.documentMode||9<document.documentMode)}function Qg(){Ic&&(Ic.detachEvent("onpropertychange",Uv),Kc=Ic=null)}function Uv(e){if(e.propertyName==="value"&&Xf(Kc)){var t=[];Mv(t,Kc,e,Q1(e)),wv(B4,t)}}function $4(e,t,r){e==="focusin"?(Qg(),Ic=t,Kc=r,Ic.attachEvent("onpropertychange",Uv)):e==="focusout"&&Qg()}function z4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xf(Kc)}function q4(e,t){if(e==="click")return Xf(t)}function V4(e,t){if(e==="input"||e==="change")return Xf(t)}function W4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ni=typeof Object.is=="function"?Object.is:W4;function Xc(e,t){if(Ni(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!y0.call(t,i)||!Ni(e[i],t[i]))return!1}return!0}function Zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function e2(e,t){var r=Zg(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zg(r)}}function $v(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$v(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zv(){for(var e=window,t=df();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=df(e.document)}return t}function am(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function H4(e){var t=zv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&$v(r.ownerDocument.documentElement,r)){if(n!==null&&am(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=e2(r,s);var o=e2(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var G4=gs&&"documentMode"in document&&11>=document.documentMode,Ka=null,R0=null,Fc=null,M0=!1;function t2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;M0||Ka==null||Ka!==df(n)||(n=Ka,"selectionStart"in n&&am(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fc&&Xc(Fc,n)||(Fc=n,n=yf(R0,"onSelect"),0<n.length&&(t=new im("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ka)))}function jd(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xa={animationend:jd("Animation","AnimationEnd"),animationiteration:jd("Animation","AnimationIteration"),animationstart:jd("Animation","AnimationStart"),transitionend:jd("Transition","TransitionEnd")},kp={},qv={};gs&&(qv=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Yf(e){if(kp[e])return kp[e];if(!Xa[e])return e;var t=Xa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in qv)return kp[e]=t[r];return e}var Vv=Yf("animationend"),Wv=Yf("animationiteration"),Hv=Yf("animationstart"),Gv=Yf("transitionend"),Jv=new Map,r2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mo(e,t){Jv.set(e,t),Zo(t,[e])}for(var Ap=0;Ap<r2.length;Ap++){var Lp=r2[Ap],J4=Lp.toLowerCase(),K4=Lp[0].toUpperCase()+Lp.slice(1);mo(J4,"on"+K4)}mo(Vv,"onAnimationEnd");mo(Wv,"onAnimationIteration");mo(Hv,"onAnimationStart");mo("dblclick","onDoubleClick");mo("focusin","onFocus");mo("focusout","onBlur");mo(Gv,"onTransitionEnd");vl("onMouseEnter",["mouseout","mouseover"]);vl("onMouseLeave",["mouseout","mouseover"]);vl("onPointerEnter",["pointerout","pointerover"]);vl("onPointerLeave",["pointerout","pointerover"]);Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function n2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Jb(n,t,void 0,e),e.currentTarget=null}function Kv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;n2(i,a,d),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;n2(i,a,d),s=l}}}if(hf)throw e=F0,hf=!1,F0=null,e}function Bt(e,t){var r=t[q0];r===void 0&&(r=t[q0]=new Set);var n=e+"__bubble";r.has(n)||(Xv(t,e,2,!1),r.add(n))}function Pp(e,t,r){var n=0;t&&(n|=4),Xv(r,e,n,t)}var kd="_reactListening"+Math.random().toString(36).slice(2);function Yc(e){if(!e[kd]){e[kd]=!0,nv.forEach(function(r){r!=="selectionchange"&&(X4.has(r)||Pp(r,!1,e),Pp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kd]||(t[kd]=!0,Pp("selectionchange",!1,t))}}function Xv(e,t,r,n){switch(Fv(t)){case 1:var i=u4;break;case 4:i=d4;break;default:i=rm}r=i.bind(null,t,r,e),i=void 0,!I0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Cp(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Bo(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}wv(function(){var d=s,h=Q1(r),m=[];e:{var y=Jv.get(e);if(y!==void 0){var p=im,S=e;switch(e){case"keypress":if(Xd(r)===0)break e;case"keydown":case"keyup":p=k4;break;case"focusin":S="focus",p=Sp;break;case"focusout":S="blur",p=Sp;break;case"beforeblur":case"afterblur":p=Sp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Wg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=p4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=P4;break;case Vv:case Wv:case Hv:p=v4;break;case Gv:p=E4;break;case"scroll":p=f4;break;case"wheel":p=F4;break;case"copy":case"cut":case"paste":p=w4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Gg}var _=(t&4)!==0,L=!_&&e==="scroll",x=_?y!==null?y+"Capture":null:y;_=[];for(var w=d,N;w!==null;){N=w;var R=N.stateNode;if(N.tag===5&&R!==null&&(N=R,x!==null&&(R=Wc(w,x),R!=null&&_.push(Qc(w,R,N)))),L)break;w=w.return}0<_.length&&(y=new p(y,S,null,r,h),m.push({event:y,listeners:_}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",y&&r!==C0&&(S=r.relatedTarget||r.fromElement)&&(Bo(S)||S[vs]))break e;if((p||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,p?(S=r.relatedTarget||r.toElement,p=d,S=S?Bo(S):null,S!==null&&(L=ea(S),S!==L||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=d),p!==S)){if(_=Wg,R="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(_=Gg,R="onPointerLeave",x="onPointerEnter",w="pointer"),L=p==null?y:Ya(p),N=S==null?y:Ya(S),y=new _(R,w+"leave",p,r,h),y.target=L,y.relatedTarget=N,R=null,Bo(h)===d&&(_=new _(x,w+"enter",S,r,h),_.target=N,_.relatedTarget=L,R=_),L=R,p&&S)t:{for(_=p,x=S,w=0,N=_;N;N=Oa(N))w++;for(N=0,R=x;R;R=Oa(R))N++;for(;0<w-N;)_=Oa(_),w--;for(;0<N-w;)x=Oa(x),N--;for(;w--;){if(_===x||x!==null&&_===x.alternate)break t;_=Oa(_),x=Oa(x)}_=null}else _=null;p!==null&&i2(m,y,p,_,!1),S!==null&&L!==null&&i2(m,L,S,_,!0)}}e:{if(y=d?Ya(d):window,p=y.nodeName&&y.nodeName.toLowerCase(),p==="select"||p==="input"&&y.type==="file")var W=U4;else if(Xg(y))if(Bv)W=V4;else{W=z4;var X=$4}else(p=y.nodeName)&&p.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(W=q4);if(W&&(W=W(e,d))){Mv(m,W,r,h);break e}X&&X(e,y,d),e==="focusout"&&(X=y._wrapperState)&&X.controlled&&y.type==="number"&&j0(y,"number",y.value)}switch(X=d?Ya(d):window,e){case"focusin":(Xg(X)||X.contentEditable==="true")&&(Ka=X,R0=d,Fc=null);break;case"focusout":Fc=R0=Ka=null;break;case"mousedown":M0=!0;break;case"contextmenu":case"mouseup":case"dragend":M0=!1,t2(m,r,h);break;case"selectionchange":if(G4)break;case"keydown":case"keyup":t2(m,r,h)}var O;if(om)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ja?Dv(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(Ov&&r.locale!=="ko"&&(Ja||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ja&&(O=Tv()):(Xs=h,nm="value"in Xs?Xs.value:Xs.textContent,Ja=!0)),X=yf(d,E),0<X.length&&(E=new Hg(E,e,null,r,h),m.push({event:E,listeners:X}),O?E.data=O:(O=Rv(r),O!==null&&(E.data=O)))),(O=O4?D4(e,r):R4(e,r))&&(d=yf(d,"onBeforeInput"),0<d.length&&(h=new Hg("onBeforeInput","beforeinput",null,r,h),m.push({event:h,listeners:d}),h.data=O))}Kv(m,t)})}function Qc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yf(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wc(e,r),s!=null&&n.unshift(Qc(e,s,i)),s=Wc(e,t),s!=null&&n.push(Qc(e,s,i))),e=e.return}return n}function Oa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function i2(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,d=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&d!==null&&(a=d,i?(l=Wc(r,s),l!=null&&o.unshift(Qc(r,l,a))):i||(l=Wc(r,s),l!=null&&o.push(Qc(r,l,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Y4=/\r\n?/g,Q4=/\u0000|\uFFFD/g;function s2(e){return(typeof e=="string"?e:""+e).replace(Y4,`
`).replace(Q4,"")}function Ad(e,t,r){if(t=s2(t),s2(e)!==t&&r)throw Error(Oe(425))}function wf(){}var B0=null,U0=null;function $0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var z0=typeof setTimeout=="function"?setTimeout:void 0,Z4=typeof clearTimeout=="function"?clearTimeout:void 0,o2=typeof Promise=="function"?Promise:void 0,e3=typeof queueMicrotask=="function"?queueMicrotask:typeof o2<"u"?function(e){return o2.resolve(null).then(e).catch(t3)}:z0;function t3(e){setTimeout(function(){throw e})}function Ep(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Jc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Jc(t)}function io(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function a2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),zi="__reactFiber$"+Pl,Zc="__reactProps$"+Pl,vs="__reactContainer$"+Pl,q0="__reactEvents$"+Pl,r3="__reactListeners$"+Pl,n3="__reactHandles$"+Pl;function Bo(e){var t=e[zi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vs]||r[zi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=a2(e);e!==null;){if(r=e[zi])return r;e=a2(e)}return t}e=r,r=e.parentNode}return null}function yu(e){return e=e[zi]||e[vs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ya(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Oe(33))}function Qf(e){return e[Zc]||null}var V0=[],Qa=-1;function go(e){return{current:e}}function zt(e){0>Qa||(e.current=V0[Qa],V0[Qa]=null,Qa--)}function Mt(e,t){Qa++,V0[Qa]=e.current,e.current=t}var fo={},Qr=go(fo),bn=go(!1),Go=fo;function yl(e,t){var r=e.type.contextTypes;if(!r)return fo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _n(e){return e=e.childContextTypes,e!=null}function xf(){zt(bn),zt(Qr)}function l2(e,t,r){if(Qr.current!==fo)throw Error(Oe(168));Mt(Qr,t),Mt(bn,r)}function Yv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Oe(108,$b(e)||"Unknown",i));return Xt({},r,n)}function bf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fo,Go=Qr.current,Mt(Qr,e),Mt(bn,bn.current),!0}function c2(e,t,r){var n=e.stateNode;if(!n)throw Error(Oe(169));r?(e=Yv(e,t,Go),n.__reactInternalMemoizedMergedChildContext=e,zt(bn),zt(Qr),Mt(Qr,e)):zt(bn),Mt(bn,r)}var fs=null,Zf=!1,Ip=!1;function Qv(e){fs===null?fs=[e]:fs.push(e)}function i3(e){Zf=!0,Qv(e)}function vo(){if(!Ip&&fs!==null){Ip=!0;var e=0,t=Pt;try{var r=fs;for(Pt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fs=null,Zf=!1}catch(i){throw fs!==null&&(fs=fs.slice(e+1)),Sv(Z1,vo),i}finally{Pt=t,Ip=!1}}return null}var Za=[],el=0,_f=null,Sf=0,Xn=[],Yn=0,Jo=null,hs=1,ps="";function Fo(e,t){Za[el++]=Sf,Za[el++]=_f,_f=e,Sf=t}function Zv(e,t,r){Xn[Yn++]=hs,Xn[Yn++]=ps,Xn[Yn++]=Jo,Jo=e;var n=hs;e=ps;var i=32-_i(n)-1;n&=~(1<<i),r+=1;var s=32-_i(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,hs=1<<32-_i(t)+i|r<<i|n,ps=s+e}else hs=1<<s|r<<i|n,ps=e}function lm(e){e.return!==null&&(Fo(e,1),Zv(e,1,0))}function cm(e){for(;e===_f;)_f=Za[--el],Za[el]=null,Sf=Za[--el],Za[el]=null;for(;e===Jo;)Jo=Xn[--Yn],Xn[Yn]=null,ps=Xn[--Yn],Xn[Yn]=null,hs=Xn[--Yn],Xn[Yn]=null}var Mn=null,Tn=null,Wt=!1,bi=null;function ey(e,t){var r=Zn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function u2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mn=e,Tn=io(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mn=e,Tn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Jo!==null?{id:hs,overflow:ps}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Zn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Mn=e,Tn=null,!0):!1;default:return!1}}function W0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function H0(e){if(Wt){var t=Tn;if(t){var r=t;if(!u2(e,t)){if(W0(e))throw Error(Oe(418));t=io(r.nextSibling);var n=Mn;t&&u2(e,t)?ey(n,r):(e.flags=e.flags&-4097|2,Wt=!1,Mn=e)}}else{if(W0(e))throw Error(Oe(418));e.flags=e.flags&-4097|2,Wt=!1,Mn=e}}}function d2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mn=e}function Ld(e){if(e!==Mn)return!1;if(!Wt)return d2(e),Wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$0(e.type,e.memoizedProps)),t&&(t=Tn)){if(W0(e))throw ty(),Error(Oe(418));for(;t;)ey(e,t),t=io(t.nextSibling)}if(d2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Oe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Tn=io(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Tn=null}}else Tn=Mn?io(e.stateNode.nextSibling):null;return!0}function ty(){for(var e=Tn;e;)e=io(e.nextSibling)}function wl(){Tn=Mn=null,Wt=!1}function um(e){bi===null?bi=[e]:bi.push(e)}var s3=bs.ReactCurrentBatchConfig;function gc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Oe(309));var n=r.stateNode}if(!n)throw Error(Oe(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Oe(284));if(!r._owner)throw Error(Oe(290,e))}return e}function Pd(e,t){throw e=Object.prototype.toString.call(t),Error(Oe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function f2(e){var t=e._init;return t(e._payload)}function ry(e){function t(x,w){if(e){var N=x.deletions;N===null?(x.deletions=[w],x.flags|=16):N.push(w)}}function r(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=lo(x,w),x.index=0,x.sibling=null,x}function s(x,w,N){return x.index=N,e?(N=x.alternate,N!==null?(N=N.index,N<w?(x.flags|=2,w):N):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,w,N,R){return w===null||w.tag!==6?(w=Bp(N,x.mode,R),w.return=x,w):(w=i(w,N),w.return=x,w)}function l(x,w,N,R){var W=N.type;return W===Ga?h(x,w,N.props.children,R,N.key):w!==null&&(w.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===qs&&f2(W)===w.type)?(R=i(w,N.props),R.ref=gc(x,w,N),R.return=x,R):(R=nf(N.type,N.key,N.props,null,x.mode,R),R.ref=gc(x,w,N),R.return=x,R)}function d(x,w,N,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=Up(N,x.mode,R),w.return=x,w):(w=i(w,N.children||[]),w.return=x,w)}function h(x,w,N,R,W){return w===null||w.tag!==7?(w=Vo(N,x.mode,R,W),w.return=x,w):(w=i(w,N),w.return=x,w)}function m(x,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Bp(""+w,x.mode,N),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yd:return N=nf(w.type,w.key,w.props,null,x.mode,N),N.ref=gc(x,null,w),N.return=x,N;case Ha:return w=Up(w,x.mode,N),w.return=x,w;case qs:var R=w._init;return m(x,R(w._payload),N)}if(jc(w)||dc(w))return w=Vo(w,x.mode,N,null),w.return=x,w;Pd(x,w)}return null}function y(x,w,N,R){var W=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return W!==null?null:a(x,w,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case yd:return N.key===W?l(x,w,N,R):null;case Ha:return N.key===W?d(x,w,N,R):null;case qs:return W=N._init,y(x,w,W(N._payload),R)}if(jc(N)||dc(N))return W!==null?null:h(x,w,N,R,null);Pd(x,N)}return null}function p(x,w,N,R,W){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(N)||null,a(w,x,""+R,W);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case yd:return x=x.get(R.key===null?N:R.key)||null,l(w,x,R,W);case Ha:return x=x.get(R.key===null?N:R.key)||null,d(w,x,R,W);case qs:var X=R._init;return p(x,w,N,X(R._payload),W)}if(jc(R)||dc(R))return x=x.get(N)||null,h(w,x,R,W,null);Pd(w,R)}return null}function S(x,w,N,R){for(var W=null,X=null,O=w,E=w=0,Y=null;O!==null&&E<N.length;E++){O.index>E?(Y=O,O=null):Y=O.sibling;var ne=y(x,O,N[E],R);if(ne===null){O===null&&(O=Y);break}e&&O&&ne.alternate===null&&t(x,O),w=s(ne,w,E),X===null?W=ne:X.sibling=ne,X=ne,O=Y}if(E===N.length)return r(x,O),Wt&&Fo(x,E),W;if(O===null){for(;E<N.length;E++)O=m(x,N[E],R),O!==null&&(w=s(O,w,E),X===null?W=O:X.sibling=O,X=O);return Wt&&Fo(x,E),W}for(O=n(x,O);E<N.length;E++)Y=p(O,x,E,N[E],R),Y!==null&&(e&&Y.alternate!==null&&O.delete(Y.key===null?E:Y.key),w=s(Y,w,E),X===null?W=Y:X.sibling=Y,X=Y);return e&&O.forEach(function(T){return t(x,T)}),Wt&&Fo(x,E),W}function _(x,w,N,R){var W=dc(N);if(typeof W!="function")throw Error(Oe(150));if(N=W.call(N),N==null)throw Error(Oe(151));for(var X=W=null,O=w,E=w=0,Y=null,ne=N.next();O!==null&&!ne.done;E++,ne=N.next()){O.index>E?(Y=O,O=null):Y=O.sibling;var T=y(x,O,ne.value,R);if(T===null){O===null&&(O=Y);break}e&&O&&T.alternate===null&&t(x,O),w=s(T,w,E),X===null?W=T:X.sibling=T,X=T,O=Y}if(ne.done)return r(x,O),Wt&&Fo(x,E),W;if(O===null){for(;!ne.done;E++,ne=N.next())ne=m(x,ne.value,R),ne!==null&&(w=s(ne,w,E),X===null?W=ne:X.sibling=ne,X=ne);return Wt&&Fo(x,E),W}for(O=n(x,O);!ne.done;E++,ne=N.next())ne=p(O,x,E,ne.value,R),ne!==null&&(e&&ne.alternate!==null&&O.delete(ne.key===null?E:ne.key),w=s(ne,w,E),X===null?W=ne:X.sibling=ne,X=ne);return e&&O.forEach(function(I){return t(x,I)}),Wt&&Fo(x,E),W}function L(x,w,N,R){if(typeof N=="object"&&N!==null&&N.type===Ga&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case yd:e:{for(var W=N.key,X=w;X!==null;){if(X.key===W){if(W=N.type,W===Ga){if(X.tag===7){r(x,X.sibling),w=i(X,N.props.children),w.return=x,x=w;break e}}else if(X.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===qs&&f2(W)===X.type){r(x,X.sibling),w=i(X,N.props),w.ref=gc(x,X,N),w.return=x,x=w;break e}r(x,X);break}else t(x,X);X=X.sibling}N.type===Ga?(w=Vo(N.props.children,x.mode,R,N.key),w.return=x,x=w):(R=nf(N.type,N.key,N.props,null,x.mode,R),R.ref=gc(x,w,N),R.return=x,x=R)}return o(x);case Ha:e:{for(X=N.key;w!==null;){if(w.key===X)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){r(x,w.sibling),w=i(w,N.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else t(x,w);w=w.sibling}w=Up(N,x.mode,R),w.return=x,x=w}return o(x);case qs:return X=N._init,L(x,w,X(N._payload),R)}if(jc(N))return S(x,w,N,R);if(dc(N))return _(x,w,N,R);Pd(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(r(x,w.sibling),w=i(w,N),w.return=x,x=w):(r(x,w),w=Bp(N,x.mode,R),w.return=x,x=w),o(x)):r(x,w)}return L}var xl=ry(!0),ny=ry(!1),Nf=go(null),jf=null,tl=null,dm=null;function fm(){dm=tl=jf=null}function hm(e){var t=Nf.current;zt(Nf),e._currentValue=t}function G0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function cl(e,t){jf=e,dm=tl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(xn=!0),e.firstContext=null)}function ri(e){var t=e._currentValue;if(dm!==e)if(e={context:e,memoizedValue:t,next:null},tl===null){if(jf===null)throw Error(Oe(308));tl=e,jf.dependencies={lanes:0,firstContext:e}}else tl=tl.next=e;return t}var Uo=null;function pm(e){Uo===null?Uo=[e]:Uo.push(e)}function iy(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,pm(t)):(r.next=i.next,i.next=r),t.interleaved=r,ys(e,n)}function ys(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vs=!1;function mm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function so(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,bt&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ys(e,r)}return i=n.interleaved,i===null?(t.next=t,pm(n)):(t.next=i.next,i.next=t),n.interleaved=t,ys(e,r)}function Yd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,em(e,r)}}function h2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function kf(e,t,r,n){var i=e.updateQueue;Vs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?s=d:o.next=d,o=l;var h=e.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;o=0,h=d=l=null,a=s;do{var y=a.lane,p=a.eventTime;if((n&y)===y){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=e,_=a;switch(y=t,p=r,_.tag){case 1:if(S=_.payload,typeof S=="function"){m=S.call(p,m,y);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,y=typeof S=="function"?S.call(p,m,y):S,y==null)break e;m=Xt({},m,y);break e;case 2:Vs=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else p={eventTime:p,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=p,l=m):h=h.next=p,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(h===null&&(l=m),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Xo|=o,e.lanes=o,e.memoizedState=m}}function p2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Oe(191,i));i.call(n)}}}var wu={},Gi=go(wu),eu=go(wu),tu=go(wu);function $o(e){if(e===wu)throw Error(Oe(174));return e}function gm(e,t){switch(Mt(tu,t),Mt(eu,e),Mt(Gi,wu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:A0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=A0(t,e)}zt(Gi),Mt(Gi,t)}function bl(){zt(Gi),zt(eu),zt(tu)}function oy(e){$o(tu.current);var t=$o(Gi.current),r=A0(t,e.type);t!==r&&(Mt(eu,e),Mt(Gi,r))}function vm(e){eu.current===e&&(zt(Gi),zt(eu))}var Gt=go(0);function Af(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fp=[];function ym(){for(var e=0;e<Fp.length;e++)Fp[e]._workInProgressVersionPrimary=null;Fp.length=0}var Qd=bs.ReactCurrentDispatcher,Tp=bs.ReactCurrentBatchConfig,Ko=0,Jt=null,br=null,Lr=null,Lf=!1,Tc=!1,ru=0,o3=0;function qr(){throw Error(Oe(321))}function wm(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ni(e[r],t[r]))return!1;return!0}function xm(e,t,r,n,i,s){if(Ko=s,Jt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qd.current=e===null||e.memoizedState===null?u3:d3,e=r(n,i),Tc){s=0;do{if(Tc=!1,ru=0,25<=s)throw Error(Oe(301));s+=1,Lr=br=null,t.updateQueue=null,Qd.current=f3,e=r(n,i)}while(Tc)}if(Qd.current=Pf,t=br!==null&&br.next!==null,Ko=0,Lr=br=Jt=null,Lf=!1,t)throw Error(Oe(300));return e}function bm(){var e=ru!==0;return ru=0,e}function Ui(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?Jt.memoizedState=Lr=e:Lr=Lr.next=e,Lr}function ni(){if(br===null){var e=Jt.alternate;e=e!==null?e.memoizedState:null}else e=br.next;var t=Lr===null?Jt.memoizedState:Lr.next;if(t!==null)Lr=t,br=e;else{if(e===null)throw Error(Oe(310));br=e,e={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},Lr===null?Jt.memoizedState=Lr=e:Lr=Lr.next=e}return Lr}function nu(e,t){return typeof t=="function"?t(e):t}function Op(e){var t=ni(),r=t.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=e;var n=br,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,d=s;do{var h=d.lane;if((Ko&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=m,o=n):l=l.next=m,Jt.lanes|=h,Xo|=h}d=d.next}while(d!==null&&d!==s);l===null?o=n:l.next=a,Ni(n,t.memoizedState)||(xn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Jt.lanes|=s,Xo|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Dp(e){var t=ni(),r=t.queue;if(r===null)throw Error(Oe(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Ni(s,t.memoizedState)||(xn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function ay(){}function ly(e,t){var r=Jt,n=ni(),i=t(),s=!Ni(n.memoizedState,i);if(s&&(n.memoizedState=i,xn=!0),n=n.queue,_m(dy.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Lr!==null&&Lr.memoizedState.tag&1){if(r.flags|=2048,iu(9,uy.bind(null,r,n,i,t),void 0,null),Er===null)throw Error(Oe(349));Ko&30||cy(r,t,i)}return i}function cy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function uy(e,t,r,n){t.value=r,t.getSnapshot=n,fy(t)&&hy(e)}function dy(e,t,r){return r(function(){fy(t)&&hy(e)})}function fy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ni(e,r)}catch{return!0}}function hy(e){var t=ys(e,1);t!==null&&Si(t,e,1,-1)}function m2(e){var t=Ui();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:e},t.queue=e,e=e.dispatch=c3.bind(null,Jt,e),[t.memoizedState,e]}function iu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Jt.updateQueue,t===null?(t={lastEffect:null,stores:null},Jt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function py(){return ni().memoizedState}function Zd(e,t,r,n){var i=Ui();Jt.flags|=e,i.memoizedState=iu(1|t,r,void 0,n===void 0?null:n)}function eh(e,t,r,n){var i=ni();n=n===void 0?null:n;var s=void 0;if(br!==null){var o=br.memoizedState;if(s=o.destroy,n!==null&&wm(n,o.deps)){i.memoizedState=iu(t,r,s,n);return}}Jt.flags|=e,i.memoizedState=iu(1|t,r,s,n)}function g2(e,t){return Zd(8390656,8,e,t)}function _m(e,t){return eh(2048,8,e,t)}function my(e,t){return eh(4,2,e,t)}function gy(e,t){return eh(4,4,e,t)}function vy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yy(e,t,r){return r=r!=null?r.concat([e]):null,eh(4,4,vy.bind(null,t,e),r)}function Sm(){}function wy(e,t){var r=ni();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wm(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function xy(e,t){var r=ni();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&wm(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function by(e,t,r){return Ko&21?(Ni(r,t)||(r=kv(),Jt.lanes|=r,Xo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,xn=!0),e.memoizedState=r)}function a3(e,t){var r=Pt;Pt=r!==0&&4>r?r:4,e(!0);var n=Tp.transition;Tp.transition={};try{e(!1),t()}finally{Pt=r,Tp.transition=n}}function _y(){return ni().memoizedState}function l3(e,t,r){var n=ao(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sy(e))Ny(t,r);else if(r=iy(e,t,r,n),r!==null){var i=ln();Si(r,e,n,i),jy(r,t,n)}}function c3(e,t,r){var n=ao(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sy(e))Ny(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Ni(a,o)){var l=t.interleaved;l===null?(i.next=i,pm(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=iy(e,t,i,n),r!==null&&(i=ln(),Si(r,e,n,i),jy(r,t,n))}}function Sy(e){var t=e.alternate;return e===Jt||t!==null&&t===Jt}function Ny(e,t){Tc=Lf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,em(e,r)}}var Pf={readContext:ri,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},u3={readContext:ri,useCallback:function(e,t){return Ui().memoizedState=[e,t===void 0?null:t],e},useContext:ri,useEffect:g2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zd(4194308,4,vy.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zd(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zd(4,2,e,t)},useMemo:function(e,t){var r=Ui();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ui();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=l3.bind(null,Jt,e),[n.memoizedState,e]},useRef:function(e){var t=Ui();return e={current:e},t.memoizedState=e},useState:m2,useDebugValue:Sm,useDeferredValue:function(e){return Ui().memoizedState=e},useTransition:function(){var e=m2(!1),t=e[0];return e=a3.bind(null,e[1]),Ui().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Jt,i=Ui();if(Wt){if(r===void 0)throw Error(Oe(407));r=r()}else{if(r=t(),Er===null)throw Error(Oe(349));Ko&30||cy(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,g2(dy.bind(null,n,s,e),[e]),n.flags|=2048,iu(9,uy.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Ui(),t=Er.identifierPrefix;if(Wt){var r=ps,n=hs;r=(n&~(1<<32-_i(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ru++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=o3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d3={readContext:ri,useCallback:wy,useContext:ri,useEffect:_m,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:xy,useReducer:Op,useRef:py,useState:function(){return Op(nu)},useDebugValue:Sm,useDeferredValue:function(e){var t=ni();return by(t,br.memoizedState,e)},useTransition:function(){var e=Op(nu)[0],t=ni().memoizedState;return[e,t]},useMutableSource:ay,useSyncExternalStore:ly,useId:_y,unstable_isNewReconciler:!1},f3={readContext:ri,useCallback:wy,useContext:ri,useEffect:_m,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:xy,useReducer:Dp,useRef:py,useState:function(){return Dp(nu)},useDebugValue:Sm,useDeferredValue:function(e){var t=ni();return br===null?t.memoizedState=e:by(t,br.memoizedState,e)},useTransition:function(){var e=Dp(nu)[0],t=ni().memoizedState;return[e,t]},useMutableSource:ay,useSyncExternalStore:ly,useId:_y,unstable_isNewReconciler:!1};function vi(e,t){if(e&&e.defaultProps){t=Xt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function J0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Xt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var th={isMounted:function(e){return(e=e._reactInternals)?ea(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ln(),i=ao(e),s=ms(n,i);s.payload=t,r!=null&&(s.callback=r),t=so(e,s,i),t!==null&&(Si(t,e,i,n),Yd(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ln(),i=ao(e),s=ms(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=so(e,s,i),t!==null&&(Si(t,e,i,n),Yd(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ln(),n=ao(e),i=ms(r,n);i.tag=2,t!=null&&(i.callback=t),t=so(e,i,n),t!==null&&(Si(t,e,n,r),Yd(t,e,n))}};function v2(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Xc(r,n)||!Xc(i,s):!0}function ky(e,t,r){var n=!1,i=fo,s=t.contextType;return typeof s=="object"&&s!==null?s=ri(s):(i=_n(t)?Go:Qr.current,n=t.contextTypes,s=(n=n!=null)?yl(e,i):fo),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=th,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function y2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&th.enqueueReplaceState(t,t.state,null)}function K0(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},mm(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ri(s):(s=_n(t)?Go:Qr.current,i.context=yl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(J0(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&th.enqueueReplaceState(i,i.state,null),kf(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _l(e,t){try{var r="",n=t;do r+=Ub(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Rp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function X0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var h3=typeof WeakMap=="function"?WeakMap:Map;function Ay(e,t,r){r=ms(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ef||(Ef=!0,o1=n),X0(e,t)},r}function Ly(e,t,r){r=ms(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){X0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){X0(e,t),typeof n!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function w2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new h3;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=A3.bind(null,e,t,r),t.then(e,e))}function x2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function b2(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ms(-1,1),t.tag=2,so(r,t,1))),r.lanes|=1),e)}var p3=bs.ReactCurrentOwner,xn=!1;function sn(e,t,r,n){t.child=e===null?ny(t,null,r,n):xl(t,e.child,r,n)}function _2(e,t,r,n,i){r=r.render;var s=t.ref;return cl(t,i),n=xm(e,t,r,n,s,i),r=bm(),e!==null&&!xn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ws(e,t,i)):(Wt&&r&&lm(t),t.flags|=1,sn(e,t,n,i),t.child)}function S2(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Em(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Py(e,t,s,n,i)):(e=nf(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Xc,r(o,n)&&e.ref===t.ref)return ws(e,t,i)}return t.flags|=1,e=lo(s,n),e.ref=t.ref,e.return=t,t.child=e}function Py(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Xc(s,n)&&e.ref===t.ref)if(xn=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(xn=!0);else return t.lanes=e.lanes,ws(e,t,i)}return Y0(e,t,r,n,i)}function Cy(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(nl,Fn),Fn|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mt(nl,Fn),Fn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Mt(nl,Fn),Fn|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Mt(nl,Fn),Fn|=n;return sn(e,t,i,r),t.child}function Ey(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Y0(e,t,r,n,i){var s=_n(r)?Go:Qr.current;return s=yl(t,s),cl(t,i),r=xm(e,t,r,n,s,i),n=bm(),e!==null&&!xn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ws(e,t,i)):(Wt&&n&&lm(t),t.flags|=1,sn(e,t,r,i),t.child)}function N2(e,t,r,n,i){if(_n(r)){var s=!0;bf(t)}else s=!1;if(cl(t,i),t.stateNode===null)ef(e,t),ky(t,r,n),K0(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=ri(d):(d=_n(r)?Go:Qr.current,d=yl(t,d));var h=r.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==d)&&y2(t,o,n,d),Vs=!1;var y=t.memoizedState;o.state=y,kf(t,n,o,i),l=t.memoizedState,a!==n||y!==l||bn.current||Vs?(typeof h=="function"&&(J0(t,r,h,n),l=t.memoizedState),(a=Vs||v2(t,r,a,n,y,l,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=d,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,sy(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:vi(t.type,a),o.props=d,m=t.pendingProps,y=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ri(l):(l=_n(r)?Go:Qr.current,l=yl(t,l));var p=r.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||y!==l)&&y2(t,o,n,l),Vs=!1,y=t.memoizedState,o.state=y,kf(t,n,o,i);var S=t.memoizedState;a!==m||y!==S||bn.current||Vs?(typeof p=="function"&&(J0(t,r,p,n),S=t.memoizedState),(d=Vs||v2(t,r,d,n,y,S,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,S,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=S),o.props=n,o.state=S,o.context=l,n=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),n=!1)}return Q0(e,t,r,n,s,i)}function Q0(e,t,r,n,i,s){Ey(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&c2(t,r,!1),ws(e,t,s);n=t.stateNode,p3.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=xl(t,e.child,null,s),t.child=xl(t,null,a,s)):sn(e,t,a,s),t.memoizedState=n.state,i&&c2(t,r,!0),t.child}function Iy(e){var t=e.stateNode;t.pendingContext?l2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&l2(e,t.context,!1),gm(e,t.containerInfo)}function j2(e,t,r,n,i){return wl(),um(i),t.flags|=256,sn(e,t,r,n),t.child}var Z0={dehydrated:null,treeContext:null,retryLane:0};function e1(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fy(e,t,r){var n=t.pendingProps,i=Gt.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Mt(Gt,i&1),e===null)return H0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ih(o,n,0,null),e=Vo(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=e1(r),t.memoizedState=Z0,e):Nm(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return m3(e,t,o,n,a,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=lo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=lo(a,s):(s=Vo(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?e1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Z0,n}return s=e.child,e=s.sibling,n=lo(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Nm(e,t){return t=ih({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Cd(e,t,r,n){return n!==null&&um(n),xl(t,e.child,null,r),e=Nm(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m3(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Rp(Error(Oe(422))),Cd(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=ih({mode:"visible",children:n.children},i,0,null),s=Vo(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&xl(t,e.child,null,o),t.child.memoizedState=e1(o),t.memoizedState=Z0,s);if(!(t.mode&1))return Cd(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Oe(419)),n=Rp(s,n,void 0),Cd(e,t,o,n)}if(a=(o&e.childLanes)!==0,xn||a){if(n=Er,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ys(e,i),Si(n,e,i,-1))}return Cm(),n=Rp(Error(Oe(421))),Cd(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=L3.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Tn=io(i.nextSibling),Mn=t,Wt=!0,bi=null,e!==null&&(Xn[Yn++]=hs,Xn[Yn++]=ps,Xn[Yn++]=Jo,hs=e.id,ps=e.overflow,Jo=t),t=Nm(t,n.children),t.flags|=4096,t)}function k2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),G0(e.return,t,r)}function Mp(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Ty(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(sn(e,t,n.children,r),n=Gt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&k2(e,r,t);else if(e.tag===19)k2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Mt(Gt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Af(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Mp(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Af(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Mp(t,!0,r,null,s);break;case"together":Mp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ef(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ws(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Oe(153));if(t.child!==null){for(e=t.child,r=lo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=lo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function g3(e,t,r){switch(t.tag){case 3:Iy(t),wl();break;case 5:oy(t);break;case 1:_n(t.type)&&bf(t);break;case 4:gm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Mt(Nf,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Mt(Gt,Gt.current&1),t.flags|=128,null):r&t.child.childLanes?Fy(e,t,r):(Mt(Gt,Gt.current&1),e=ws(e,t,r),e!==null?e.sibling:null);Mt(Gt,Gt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Ty(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mt(Gt,Gt.current),n)break;return null;case 22:case 23:return t.lanes=0,Cy(e,t,r)}return ws(e,t,r)}var Oy,t1,Dy,Ry;Oy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};t1=function(){};Dy=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,$o(Gi.current);var s=null;switch(r){case"input":i=S0(e,i),n=S0(e,n),s=[];break;case"select":i=Xt({},i,{value:void 0}),n=Xt({},n,{value:void 0}),s=[];break;case"textarea":i=k0(e,i),n=k0(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wf)}L0(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qc.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var l=n[d];if(a=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(d,r)),r=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qc.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Bt("scroll",e),s||a===l||(s=[])):(s=s||[]).push(d,l))}r&&(s=s||[]).push("style",r);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};Ry=function(e,t,r,n){r!==n&&(t.flags|=4)};function vc(e,t){if(!Wt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Vr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function v3(e,t,r){var n=t.pendingProps;switch(cm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(t),null;case 1:return _n(t.type)&&xf(),Vr(t),null;case 3:return n=t.stateNode,bl(),zt(bn),zt(Qr),ym(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ld(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bi!==null&&(c1(bi),bi=null))),t1(e,t),Vr(t),null;case 5:vm(t);var i=$o(tu.current);if(r=t.type,e!==null&&t.stateNode!=null)Dy(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Oe(166));return Vr(t),null}if(e=$o(Gi.current),Ld(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[zi]=t,n[Zc]=s,e=(t.mode&1)!==0,r){case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":case"embed":Bt("load",n);break;case"video":case"audio":for(i=0;i<Ac.length;i++)Bt(Ac[i],n);break;case"source":Bt("error",n);break;case"img":case"image":case"link":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"input":Og(n,s),Bt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Bt("invalid",n);break;case"textarea":Rg(n,s),Bt("invalid",n)}L0(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ad(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ad(n.textContent,a,e),i=["children",""+a]):qc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Bt("scroll",n)}switch(r){case"input":wd(n),Dg(n,s,!0);break;case"textarea":wd(n),Mg(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=wf)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[zi]=t,e[Zc]=n,Oy(e,t,!1,!1),t.stateNode=e;e:{switch(o=P0(r,n),r){case"dialog":Bt("cancel",e),Bt("close",e),i=n;break;case"iframe":case"object":case"embed":Bt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ac.length;i++)Bt(Ac[i],e);i=n;break;case"source":Bt("error",e),i=n;break;case"img":case"image":case"link":Bt("error",e),Bt("load",e),i=n;break;case"details":Bt("toggle",e),i=n;break;case"input":Og(e,n),i=S0(e,n),Bt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Xt({},n,{value:void 0}),Bt("invalid",e);break;case"textarea":Rg(e,n),i=k0(e,n),Bt("invalid",e);break;default:i=n}L0(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?pv(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&fv(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Vc(e,l):typeof l=="number"&&Vc(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Bt("scroll",e):l!=null&&J1(e,s,l,o))}switch(r){case"input":wd(e),Dg(e,n,!1);break;case"textarea":wd(e),Mg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+uo(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?sl(e,!!n.multiple,s,!1):n.defaultValue!=null&&sl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=wf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vr(t),null;case 6:if(e&&t.stateNode!=null)Ry(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Oe(166));if(r=$o(tu.current),$o(Gi.current),Ld(t)){if(n=t.stateNode,r=t.memoizedProps,n[zi]=t,(s=n.nodeValue!==r)&&(e=Mn,e!==null))switch(e.tag){case 3:Ad(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ad(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zi]=t,t.stateNode=n}return Vr(t),null;case 13:if(zt(Gt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Wt&&Tn!==null&&t.mode&1&&!(t.flags&128))ty(),wl(),t.flags|=98560,s=!1;else if(s=Ld(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Oe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Oe(317));s[zi]=t}else wl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vr(t),s=!1}else bi!==null&&(c1(bi),bi=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Gt.current&1?_r===0&&(_r=3):Cm())),t.updateQueue!==null&&(t.flags|=4),Vr(t),null);case 4:return bl(),t1(e,t),e===null&&Yc(t.stateNode.containerInfo),Vr(t),null;case 10:return hm(t.type._context),Vr(t),null;case 17:return _n(t.type)&&xf(),Vr(t),null;case 19:if(zt(Gt),s=t.memoizedState,s===null)return Vr(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)vc(s,!1);else{if(_r!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Af(e),o!==null){for(t.flags|=128,vc(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Mt(Gt,Gt.current&1|2),t.child}e=e.sibling}s.tail!==null&&ar()>Sl&&(t.flags|=128,n=!0,vc(s,!1),t.lanes=4194304)}else{if(!n)if(e=Af(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Wt)return Vr(t),null}else 2*ar()-s.renderingStartTime>Sl&&r!==1073741824&&(t.flags|=128,n=!0,vc(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ar(),t.sibling=null,r=Gt.current,Mt(Gt,n?r&1|2:r&1),t):(Vr(t),null);case 22:case 23:return Pm(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Fn&1073741824&&(Vr(t),t.subtreeFlags&6&&(t.flags|=8192)):Vr(t),null;case 24:return null;case 25:return null}throw Error(Oe(156,t.tag))}function y3(e,t){switch(cm(t),t.tag){case 1:return _n(t.type)&&xf(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bl(),zt(bn),zt(Qr),ym(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vm(t),null;case 13:if(zt(Gt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Oe(340));wl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(Gt),null;case 4:return bl(),null;case 10:return hm(t.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var Ed=!1,Xr=!1,w3=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function rl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){rr(e,t,n)}else r.current=null}function r1(e,t,r){try{r()}catch(n){rr(e,t,n)}}var A2=!1;function x3(e,t){if(B0=gf,e=zv(),am(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,d=0,h=0,m=e,y=null;t:for(;;){for(var p;m!==r||i!==0&&m.nodeType!==3||(a=o+i),m!==s||n!==0&&m.nodeType!==3||(l=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)y=m,m=p;for(;;){if(m===e)break t;if(y===r&&++d===i&&(a=o),y===s&&++h===n&&(l=o),(p=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(U0={focusedElem:e,selectionRange:r},gf=!1,Ve=t;Ve!==null;)if(t=Ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ve=e;else for(;Ve!==null;){t=Ve;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var _=S.memoizedProps,L=S.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?_:vi(t.type,_),L);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Oe(163))}}catch(R){rr(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,Ve=e;break}Ve=t.return}return S=A2,A2=!1,S}function Oc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&r1(t,r,s)}i=i.next}while(i!==n)}}function rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function n1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function My(e){var t=e.alternate;t!==null&&(e.alternate=null,My(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zi],delete t[Zc],delete t[q0],delete t[r3],delete t[n3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function By(e){return e.tag===5||e.tag===3||e.tag===4}function L2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||By(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function i1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wf));else if(n!==4&&(e=e.child,e!==null))for(i1(e,t,r),e=e.sibling;e!==null;)i1(e,t,r),e=e.sibling}function s1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(s1(e,t,r),e=e.sibling;e!==null;)s1(e,t,r),e=e.sibling}var Dr=null,wi=!1;function Rs(e,t,r){for(r=r.child;r!==null;)Uy(e,t,r),r=r.sibling}function Uy(e,t,r){if(Hi&&typeof Hi.onCommitFiberUnmount=="function")try{Hi.onCommitFiberUnmount(Jf,r)}catch{}switch(r.tag){case 5:Xr||rl(r,t);case 6:var n=Dr,i=wi;Dr=null,Rs(e,t,r),Dr=n,wi=i,Dr!==null&&(wi?(e=Dr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Dr.removeChild(r.stateNode));break;case 18:Dr!==null&&(wi?(e=Dr,r=r.stateNode,e.nodeType===8?Ep(e.parentNode,r):e.nodeType===1&&Ep(e,r),Jc(e)):Ep(Dr,r.stateNode));break;case 4:n=Dr,i=wi,Dr=r.stateNode.containerInfo,wi=!0,Rs(e,t,r),Dr=n,wi=i;break;case 0:case 11:case 14:case 15:if(!Xr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&r1(r,t,o),i=i.next}while(i!==n)}Rs(e,t,r);break;case 1:if(!Xr&&(rl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){rr(r,t,a)}Rs(e,t,r);break;case 21:Rs(e,t,r);break;case 22:r.mode&1?(Xr=(n=Xr)||r.memoizedState!==null,Rs(e,t,r),Xr=n):Rs(e,t,r);break;default:Rs(e,t,r)}}function P2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new w3),t.forEach(function(n){var i=P3.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function pi(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dr=a.stateNode,wi=!1;break e;case 3:Dr=a.stateNode.containerInfo,wi=!0;break e;case 4:Dr=a.stateNode.containerInfo,wi=!0;break e}a=a.return}if(Dr===null)throw Error(Oe(160));Uy(s,o,i),Dr=null,wi=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){rr(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$y(t,e),t=t.sibling}function $y(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pi(t,e),Ri(e),n&4){try{Oc(3,e,e.return),rh(3,e)}catch(_){rr(e,e.return,_)}try{Oc(5,e,e.return)}catch(_){rr(e,e.return,_)}}break;case 1:pi(t,e),Ri(e),n&512&&r!==null&&rl(r,r.return);break;case 5:if(pi(t,e),Ri(e),n&512&&r!==null&&rl(r,r.return),e.flags&32){var i=e.stateNode;try{Vc(i,"")}catch(_){rr(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&cv(i,s),P0(a,o);var d=P0(a,s);for(o=0;o<l.length;o+=2){var h=l[o],m=l[o+1];h==="style"?pv(i,m):h==="dangerouslySetInnerHTML"?fv(i,m):h==="children"?Vc(i,m):J1(i,h,m,d)}switch(a){case"input":N0(i,s);break;case"textarea":uv(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?sl(i,!!s.multiple,p,!1):y!==!!s.multiple&&(s.defaultValue!=null?sl(i,!!s.multiple,s.defaultValue,!0):sl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zc]=s}catch(_){rr(e,e.return,_)}}break;case 6:if(pi(t,e),Ri(e),n&4){if(e.stateNode===null)throw Error(Oe(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(_){rr(e,e.return,_)}}break;case 3:if(pi(t,e),Ri(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Jc(t.containerInfo)}catch(_){rr(e,e.return,_)}break;case 4:pi(t,e),Ri(e);break;case 13:pi(t,e),Ri(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Am=ar())),n&4&&P2(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(Xr=(d=Xr)||h,pi(t,e),Xr=d):pi(t,e),Ri(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(Ve=e,h=e.child;h!==null;){for(m=Ve=h;Ve!==null;){switch(y=Ve,p=y.child,y.tag){case 0:case 11:case 14:case 15:Oc(4,y,y.return);break;case 1:rl(y,y.return);var S=y.stateNode;if(typeof S.componentWillUnmount=="function"){n=y,r=y.return;try{t=n,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(_){rr(n,r,_)}}break;case 5:rl(y,y.return);break;case 22:if(y.memoizedState!==null){E2(m);continue}}p!==null?(p.return=y,Ve=p):E2(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,l=m.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=hv("display",o))}catch(_){rr(e,e.return,_)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(_){rr(e,e.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:pi(t,e),Ri(e),n&4&&P2(e);break;case 21:break;default:pi(t,e),Ri(e)}}function Ri(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(By(r)){var n=r;break e}r=r.return}throw Error(Oe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Vc(i,""),n.flags&=-33);var s=L2(e);s1(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=L2(e);i1(e,a,o);break;default:throw Error(Oe(161))}}catch(l){rr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b3(e,t,r){Ve=e,zy(e)}function zy(e,t,r){for(var n=(e.mode&1)!==0;Ve!==null;){var i=Ve,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ed;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xr;a=Ed;var d=Xr;if(Ed=o,(Xr=l)&&!d)for(Ve=i;Ve!==null;)o=Ve,l=o.child,o.tag===22&&o.memoizedState!==null?I2(i):l!==null?(l.return=o,Ve=l):I2(i);for(;s!==null;)Ve=s,zy(s),s=s.sibling;Ve=i,Ed=a,Xr=d}C2(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ve=s):C2(e)}}function C2(e){for(;Ve!==null;){var t=Ve;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xr||rh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:vi(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&p2(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}p2(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Jc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Oe(163))}Xr||t.flags&512&&n1(t)}catch(y){rr(t,t.return,y)}}if(t===e){Ve=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ve=r;break}Ve=t.return}}function E2(e){for(;Ve!==null;){var t=Ve;if(t===e){Ve=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ve=r;break}Ve=t.return}}function I2(e){for(;Ve!==null;){var t=Ve;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rh(4,t)}catch(l){rr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){rr(t,i,l)}}var s=t.return;try{n1(t)}catch(l){rr(t,s,l)}break;case 5:var o=t.return;try{n1(t)}catch(l){rr(t,o,l)}}}catch(l){rr(t,t.return,l)}if(t===e){Ve=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ve=a;break}Ve=t.return}}var _3=Math.ceil,Cf=bs.ReactCurrentDispatcher,jm=bs.ReactCurrentOwner,ei=bs.ReactCurrentBatchConfig,bt=0,Er=null,vr=null,Br=0,Fn=0,nl=go(0),_r=0,su=null,Xo=0,nh=0,km=0,Dc=null,yn=null,Am=0,Sl=1/0,us=null,Ef=!1,o1=null,oo=null,Id=!1,Ys=null,If=0,Rc=0,a1=null,tf=-1,rf=0;function ln(){return bt&6?ar():tf!==-1?tf:tf=ar()}function ao(e){return e.mode&1?bt&2&&Br!==0?Br&-Br:s3.transition!==null?(rf===0&&(rf=kv()),rf):(e=Pt,e!==0||(e=window.event,e=e===void 0?16:Fv(e.type)),e):1}function Si(e,t,r,n){if(50<Rc)throw Rc=0,a1=null,Error(Oe(185));gu(e,r,n),(!(bt&2)||e!==Er)&&(e===Er&&(!(bt&2)&&(nh|=r),_r===4&&Gs(e,Br)),Sn(e,n),r===1&&bt===0&&!(t.mode&1)&&(Sl=ar()+500,Zf&&vo()))}function Sn(e,t){var r=e.callbackNode;s4(e,t);var n=mf(e,e===Er?Br:0);if(n===0)r!==null&&$g(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&$g(r),t===1)e.tag===0?i3(F2.bind(null,e)):Qv(F2.bind(null,e)),e3(function(){!(bt&6)&&vo()}),r=null;else{switch(Av(n)){case 1:r=Z1;break;case 4:r=Nv;break;case 16:r=pf;break;case 536870912:r=jv;break;default:r=pf}r=Xy(r,qy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function qy(e,t){if(tf=-1,rf=0,bt&6)throw Error(Oe(327));var r=e.callbackNode;if(ul()&&e.callbackNode!==r)return null;var n=mf(e,e===Er?Br:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ff(e,n);else{t=n;var i=bt;bt|=2;var s=Wy();(Er!==e||Br!==t)&&(us=null,Sl=ar()+500,qo(e,t));do try{j3();break}catch(a){Vy(e,a)}while(!0);fm(),Cf.current=s,bt=i,vr!==null?t=0:(Er=null,Br=0,t=_r)}if(t!==0){if(t===2&&(i=T0(e),i!==0&&(n=i,t=l1(e,i))),t===1)throw r=su,qo(e,0),Gs(e,n),Sn(e,ar()),r;if(t===6)Gs(e,n);else{if(i=e.current.alternate,!(n&30)&&!S3(i)&&(t=Ff(e,n),t===2&&(s=T0(e),s!==0&&(n=s,t=l1(e,s))),t===1))throw r=su,qo(e,0),Gs(e,n),Sn(e,ar()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Oe(345));case 2:To(e,yn,us);break;case 3:if(Gs(e,n),(n&130023424)===n&&(t=Am+500-ar(),10<t)){if(mf(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){ln(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=z0(To.bind(null,e,yn,us),t);break}To(e,yn,us);break;case 4:if(Gs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-_i(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=ar()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_3(n/1960))-n,10<n){e.timeoutHandle=z0(To.bind(null,e,yn,us),n);break}To(e,yn,us);break;case 5:To(e,yn,us);break;default:throw Error(Oe(329))}}}return Sn(e,ar()),e.callbackNode===r?qy.bind(null,e):null}function l1(e,t){var r=Dc;return e.current.memoizedState.isDehydrated&&(qo(e,t).flags|=256),e=Ff(e,t),e!==2&&(t=yn,yn=r,t!==null&&c1(t)),e}function c1(e){yn===null?yn=e:yn.push.apply(yn,e)}function S3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Ni(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gs(e,t){for(t&=~km,t&=~nh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_i(t),n=1<<r;e[r]=-1,t&=~n}}function F2(e){if(bt&6)throw Error(Oe(327));ul();var t=mf(e,0);if(!(t&1))return Sn(e,ar()),null;var r=Ff(e,t);if(e.tag!==0&&r===2){var n=T0(e);n!==0&&(t=n,r=l1(e,n))}if(r===1)throw r=su,qo(e,0),Gs(e,t),Sn(e,ar()),r;if(r===6)throw Error(Oe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,To(e,yn,us),Sn(e,ar()),null}function Lm(e,t){var r=bt;bt|=1;try{return e(t)}finally{bt=r,bt===0&&(Sl=ar()+500,Zf&&vo())}}function Yo(e){Ys!==null&&Ys.tag===0&&!(bt&6)&&ul();var t=bt;bt|=1;var r=ei.transition,n=Pt;try{if(ei.transition=null,Pt=1,e)return e()}finally{Pt=n,ei.transition=r,bt=t,!(bt&6)&&vo()}}function Pm(){Fn=nl.current,zt(nl)}function qo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Z4(r)),vr!==null)for(r=vr.return;r!==null;){var n=r;switch(cm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&xf();break;case 3:bl(),zt(bn),zt(Qr),ym();break;case 5:vm(n);break;case 4:bl();break;case 13:zt(Gt);break;case 19:zt(Gt);break;case 10:hm(n.type._context);break;case 22:case 23:Pm()}r=r.return}if(Er=e,vr=e=lo(e.current,null),Br=Fn=t,_r=0,su=null,km=nh=Xo=0,yn=Dc=null,Uo!==null){for(t=0;t<Uo.length;t++)if(r=Uo[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Uo=null}return e}function Vy(e,t){do{var r=vr;try{if(fm(),Qd.current=Pf,Lf){for(var n=Jt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Lf=!1}if(Ko=0,Lr=br=Jt=null,Tc=!1,ru=0,jm.current=null,r===null||r.return===null){_r=1,su=t,vr=null;break}e:{var s=e,o=r.return,a=r,l=t;if(t=Br,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var y=h.alternate;y?(h.updateQueue=y.updateQueue,h.memoizedState=y.memoizedState,h.lanes=y.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=x2(o);if(p!==null){p.flags&=-257,b2(p,o,a,s,t),p.mode&1&&w2(s,d,t),t=p,l=d;var S=t.updateQueue;if(S===null){var _=new Set;_.add(l),t.updateQueue=_}else S.add(l);break e}else{if(!(t&1)){w2(s,d,t),Cm();break e}l=Error(Oe(426))}}else if(Wt&&a.mode&1){var L=x2(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),b2(L,o,a,s,t),um(_l(l,a));break e}}s=l=_l(l,a),_r!==4&&(_r=2),Dc===null?Dc=[s]:Dc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=Ay(s,l,t);h2(s,x);break e;case 1:a=l;var w=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(oo===null||!oo.has(N)))){s.flags|=65536,t&=-t,s.lanes|=t;var R=Ly(s,a,t);h2(s,R);break e}}s=s.return}while(s!==null)}Gy(r)}catch(W){t=W,vr===r&&r!==null&&(vr=r=r.return);continue}break}while(!0)}function Wy(){var e=Cf.current;return Cf.current=Pf,e===null?Pf:e}function Cm(){(_r===0||_r===3||_r===2)&&(_r=4),Er===null||!(Xo&268435455)&&!(nh&268435455)||Gs(Er,Br)}function Ff(e,t){var r=bt;bt|=2;var n=Wy();(Er!==e||Br!==t)&&(us=null,qo(e,t));do try{N3();break}catch(i){Vy(e,i)}while(!0);if(fm(),bt=r,Cf.current=n,vr!==null)throw Error(Oe(261));return Er=null,Br=0,_r}function N3(){for(;vr!==null;)Hy(vr)}function j3(){for(;vr!==null&&!Xb();)Hy(vr)}function Hy(e){var t=Ky(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?Gy(e):vr=t,jm.current=null}function Gy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=y3(r,t),r!==null){r.flags&=32767,vr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_r=6,vr=null;return}}else if(r=v3(r,t,Fn),r!==null){vr=r;return}if(t=t.sibling,t!==null){vr=t;return}vr=t=e}while(t!==null);_r===0&&(_r=5)}function To(e,t,r){var n=Pt,i=ei.transition;try{ei.transition=null,Pt=1,k3(e,t,r,n)}finally{ei.transition=i,Pt=n}return null}function k3(e,t,r,n){do ul();while(Ys!==null);if(bt&6)throw Error(Oe(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Oe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(o4(e,s),e===Er&&(vr=Er=null,Br=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Id||(Id=!0,Xy(pf,function(){return ul(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ei.transition,ei.transition=null;var o=Pt;Pt=1;var a=bt;bt|=4,jm.current=null,x3(e,r),$y(r,e),H4(U0),gf=!!B0,U0=B0=null,e.current=r,b3(r),Yb(),bt=a,Pt=o,ei.transition=s}else e.current=r;if(Id&&(Id=!1,Ys=e,If=i),s=e.pendingLanes,s===0&&(oo=null),e4(r.stateNode),Sn(e,ar()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ef)throw Ef=!1,e=o1,o1=null,e;return If&1&&e.tag!==0&&ul(),s=e.pendingLanes,s&1?e===a1?Rc++:(Rc=0,a1=e):Rc=0,vo(),null}function ul(){if(Ys!==null){var e=Av(If),t=ei.transition,r=Pt;try{if(ei.transition=null,Pt=16>e?16:e,Ys===null)var n=!1;else{if(e=Ys,Ys=null,If=0,bt&6)throw Error(Oe(331));var i=bt;for(bt|=4,Ve=e.current;Ve!==null;){var s=Ve,o=s.child;if(Ve.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(Ve=d;Ve!==null;){var h=Ve;switch(h.tag){case 0:case 11:case 15:Oc(8,h,s)}var m=h.child;if(m!==null)m.return=h,Ve=m;else for(;Ve!==null;){h=Ve;var y=h.sibling,p=h.return;if(My(h),h===d){Ve=null;break}if(y!==null){y.return=p,Ve=y;break}Ve=p}}}var S=s.alternate;if(S!==null){var _=S.child;if(_!==null){S.child=null;do{var L=_.sibling;_.sibling=null,_=L}while(_!==null)}}Ve=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ve=o;else e:for(;Ve!==null;){if(s=Ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Oc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Ve=x;break e}Ve=s.return}}var w=e.current;for(Ve=w;Ve!==null;){o=Ve;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Ve=N;else e:for(o=w;Ve!==null;){if(a=Ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rh(9,a)}}catch(W){rr(a,a.return,W)}if(a===o){Ve=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Ve=R;break e}Ve=a.return}}if(bt=i,vo(),Hi&&typeof Hi.onPostCommitFiberRoot=="function")try{Hi.onPostCommitFiberRoot(Jf,e)}catch{}n=!0}return n}finally{Pt=r,ei.transition=t}}return!1}function T2(e,t,r){t=_l(r,t),t=Ay(e,t,1),e=so(e,t,1),t=ln(),e!==null&&(gu(e,1,t),Sn(e,t))}function rr(e,t,r){if(e.tag===3)T2(e,e,r);else for(;t!==null;){if(t.tag===3){T2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(oo===null||!oo.has(n))){e=_l(r,e),e=Ly(t,e,1),t=so(t,e,1),e=ln(),t!==null&&(gu(t,1,e),Sn(t,e));break}}t=t.return}}function A3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ln(),e.pingedLanes|=e.suspendedLanes&r,Er===e&&(Br&r)===r&&(_r===4||_r===3&&(Br&130023424)===Br&&500>ar()-Am?qo(e,0):km|=r),Sn(e,t)}function Jy(e,t){t===0&&(e.mode&1?(t=_d,_d<<=1,!(_d&130023424)&&(_d=4194304)):t=1);var r=ln();e=ys(e,t),e!==null&&(gu(e,t,r),Sn(e,r))}function L3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Jy(e,r)}function P3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Oe(314))}n!==null&&n.delete(t),Jy(e,r)}var Ky;Ky=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||bn.current)xn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return xn=!1,g3(e,t,r);xn=!!(e.flags&131072)}else xn=!1,Wt&&t.flags&1048576&&Zv(t,Sf,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ef(e,t),e=t.pendingProps;var i=yl(t,Qr.current);cl(t,r),i=xm(null,t,n,e,i,r);var s=bm();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_n(n)?(s=!0,bf(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mm(t),i.updater=th,t.stateNode=i,i._reactInternals=t,K0(t,n,e,r),t=Q0(null,t,n,!0,s,r)):(t.tag=0,Wt&&s&&lm(t),sn(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ef(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=E3(n),e=vi(n,e),i){case 0:t=Y0(null,t,n,e,r);break e;case 1:t=N2(null,t,n,e,r);break e;case 11:t=_2(null,t,n,e,r);break e;case 14:t=S2(null,t,n,vi(n.type,e),r);break e}throw Error(Oe(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),Y0(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),N2(e,t,n,i,r);case 3:e:{if(Iy(t),e===null)throw Error(Oe(387));n=t.pendingProps,s=t.memoizedState,i=s.element,sy(e,t),kf(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=_l(Error(Oe(423)),t),t=j2(e,t,n,r,i);break e}else if(n!==i){i=_l(Error(Oe(424)),t),t=j2(e,t,n,r,i);break e}else for(Tn=io(t.stateNode.containerInfo.firstChild),Mn=t,Wt=!0,bi=null,r=ny(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wl(),n===i){t=ws(e,t,r);break e}sn(e,t,n,r)}t=t.child}return t;case 5:return oy(t),e===null&&H0(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,$0(n,i)?o=null:s!==null&&$0(n,s)&&(t.flags|=32),Ey(e,t),sn(e,t,o,r),t.child;case 6:return e===null&&H0(t),null;case 13:return Fy(e,t,r);case 4:return gm(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=xl(t,null,n,r):sn(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),_2(e,t,n,i,r);case 7:return sn(e,t,t.pendingProps,r),t.child;case 8:return sn(e,t,t.pendingProps.children,r),t.child;case 12:return sn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Mt(Nf,n._currentValue),n._currentValue=o,s!==null)if(Ni(s.value,o)){if(s.children===i.children&&!bn.current){t=ws(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ms(-1,r&-r),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),G0(s.return,r,t),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Oe(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),G0(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}sn(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,cl(t,r),i=ri(i),n=n(i),t.flags|=1,sn(e,t,n,r),t.child;case 14:return n=t.type,i=vi(n,t.pendingProps),i=vi(n.type,i),S2(e,t,n,i,r);case 15:return Py(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vi(n,i),ef(e,t),t.tag=1,_n(n)?(e=!0,bf(t)):e=!1,cl(t,r),ky(t,n,i),K0(t,n,i,r),Q0(null,t,n,!0,e,r);case 19:return Ty(e,t,r);case 22:return Cy(e,t,r)}throw Error(Oe(156,t.tag))};function Xy(e,t){return Sv(e,t)}function C3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(e,t,r,n){return new C3(e,t,r,n)}function Em(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E3(e){if(typeof e=="function")return Em(e)?1:0;if(e!=null){if(e=e.$$typeof,e===X1)return 11;if(e===Y1)return 14}return 2}function lo(e,t){var r=e.alternate;return r===null?(r=Zn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function nf(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")Em(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ga:return Vo(r.children,i,s,t);case K1:o=8,i|=8;break;case w0:return e=Zn(12,r,t,i|2),e.elementType=w0,e.lanes=s,e;case x0:return e=Zn(13,r,t,i),e.elementType=x0,e.lanes=s,e;case b0:return e=Zn(19,r,t,i),e.elementType=b0,e.lanes=s,e;case ov:return ih(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case iv:o=10;break e;case sv:o=9;break e;case X1:o=11;break e;case Y1:o=14;break e;case qs:o=16,n=null;break e}throw Error(Oe(130,e==null?e:typeof e,""))}return t=Zn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Vo(e,t,r,n){return e=Zn(7,e,n,t),e.lanes=r,e}function ih(e,t,r,n){return e=Zn(22,e,n,t),e.elementType=ov,e.lanes=r,e.stateNode={isHidden:!1},e}function Bp(e,t,r){return e=Zn(6,e,null,t),e.lanes=r,e}function Up(e,t,r){return t=Zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function I3(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Im(e,t,r,n,i,s,o,a,l){return e=new I3(e,t,r,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Zn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mm(s),e}function F3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ha,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Yy(e){if(!e)return fo;e=e._reactInternals;e:{if(ea(e)!==e||e.tag!==1)throw Error(Oe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_n(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Oe(171))}if(e.tag===1){var r=e.type;if(_n(r))return Yv(e,r,t)}return t}function Qy(e,t,r,n,i,s,o,a,l){return e=Im(r,n,!0,e,i,s,o,a,l),e.context=Yy(null),r=e.current,n=ln(),i=ao(r),s=ms(n,i),s.callback=t??null,so(r,s,i),e.current.lanes=i,gu(e,i,n),Sn(e,n),e}function sh(e,t,r,n){var i=t.current,s=ln(),o=ao(i);return r=Yy(r),t.context===null?t.context=r:t.pendingContext=r,t=ms(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=so(i,t,o),e!==null&&(Si(e,i,o,s),Yd(e,i,o)),o}function Tf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function O2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Fm(e,t){O2(e,t),(e=e.alternate)&&O2(e,t)}function T3(){return null}var Zy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tm(e){this._internalRoot=e}oh.prototype.render=Tm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Oe(409));sh(e,t,null,null)};oh.prototype.unmount=Tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yo(function(){sh(null,e,null,null)}),t[vs]=null}};function oh(e){this._internalRoot=e}oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Hs.length&&t!==0&&t<Hs[r].priority;r++);Hs.splice(r,0,e),r===0&&Iv(e)}};function Om(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function D2(){}function O3(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=Tf(o);s.call(d)}}var o=Qy(t,n,e,0,null,!1,!1,"",D2);return e._reactRootContainer=o,e[vs]=o.current,Yc(e.nodeType===8?e.parentNode:e),Yo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var d=Tf(l);a.call(d)}}var l=Im(e,0,!1,null,null,!1,!1,"",D2);return e._reactRootContainer=l,e[vs]=l.current,Yc(e.nodeType===8?e.parentNode:e),Yo(function(){sh(t,l,r,n)}),l}function lh(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Tf(o);a.call(l)}}sh(t,o,e,i)}else o=O3(r,t,e,i,n);return Tf(o)}Lv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=kc(t.pendingLanes);r!==0&&(em(t,r|1),Sn(t,ar()),!(bt&6)&&(Sl=ar()+500,vo()))}break;case 13:Yo(function(){var n=ys(e,1);if(n!==null){var i=ln();Si(n,e,1,i)}}),Fm(e,1)}};tm=function(e){if(e.tag===13){var t=ys(e,134217728);if(t!==null){var r=ln();Si(t,e,134217728,r)}Fm(e,134217728)}};Pv=function(e){if(e.tag===13){var t=ao(e),r=ys(e,t);if(r!==null){var n=ln();Si(r,e,t,n)}Fm(e,t)}};Cv=function(){return Pt};Ev=function(e,t){var r=Pt;try{return Pt=e,t()}finally{Pt=r}};E0=function(e,t,r){switch(t){case"input":if(N0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Qf(n);if(!i)throw Error(Oe(90));lv(n),N0(n,i)}}}break;case"textarea":uv(e,r);break;case"select":t=r.value,t!=null&&sl(e,!!r.multiple,t,!1)}};vv=Lm;yv=Yo;var D3={usingClientEntryPoint:!1,Events:[yu,Ya,Qf,mv,gv,Lm]},yc={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R3={bundleType:yc.bundleType,version:yc.version,rendererPackageName:yc.rendererPackageName,rendererConfig:yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=bv(e),e===null?null:e.stateNode},findFiberByHostInstance:yc.findFiberByHostInstance||T3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fd.isDisabled&&Fd.supportsFiber)try{Jf=Fd.inject(R3),Hi=Fd}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D3;Un.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(t))throw Error(Oe(200));return F3(e,t,null,r)};Un.createRoot=function(e,t){if(!Om(e))throw Error(Oe(299));var r=!1,n="",i=Zy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Im(e,1,!1,null,null,r,!1,n,i),e[vs]=t.current,Yc(e.nodeType===8?e.parentNode:e),new Tm(t)};Un.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Oe(188)):(e=Object.keys(e).join(","),Error(Oe(268,e)));return e=bv(t),e=e===null?null:e.stateNode,e};Un.flushSync=function(e){return Yo(e)};Un.hydrate=function(e,t,r){if(!ah(t))throw Error(Oe(200));return lh(null,e,t,!0,r)};Un.hydrateRoot=function(e,t,r){if(!Om(e))throw Error(Oe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Zy;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Qy(t,null,e,1,r??null,i,!1,s,o),e[vs]=t.current,Yc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new oh(t)};Un.render=function(e,t,r){if(!ah(t))throw Error(Oe(200));return lh(null,e,t,!1,r)};Un.unmountComponentAtNode=function(e){if(!ah(e))throw Error(Oe(40));return e._reactRootContainer?(Yo(function(){lh(null,null,e,!1,function(){e._reactRootContainer=null,e[vs]=null})}),!0):!1};Un.unstable_batchedUpdates=Lm;Un.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ah(r))throw Error(Oe(200));if(e==null||e._reactInternals===void 0)throw Error(Oe(38));return lh(e,t,r,!1,n)};Un.version="18.3.1-next-f1338f8080-20240426";function ew(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ew)}catch(e){console.error(e)}}ew(),ev.exports=Un;var M3=ev.exports,tw,R2=M3;tw=R2.createRoot,R2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ou.apply(this,arguments)}var Qs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qs||(Qs={}));const M2="popstate";function B3(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:a}=n.location;return u1("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Of(i)}return $3(t,r,null,e)}function Kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function U3(){return Math.random().toString(36).substr(2,8)}function B2(e,t){return{usr:e.state,key:e.key,idx:t}}function u1(e,t,r,n){return r===void 0&&(r=null),ou({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cl(t):t,{state:r,key:t&&t.key||n||U3()})}function Of(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Cl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function $3(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Qs.Pop,l=null,d=h();d==null&&(d=0,o.replaceState(ou({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function m(){a=Qs.Pop;let L=h(),x=L==null?null:L-d;d=L,l&&l({action:a,location:_.location,delta:x})}function y(L,x){a=Qs.Push;let w=u1(_.location,L,x);d=h()+1;let N=B2(w,d),R=_.createHref(w);try{o.pushState(N,"",R)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;i.location.assign(R)}s&&l&&l({action:a,location:_.location,delta:1})}function p(L,x){a=Qs.Replace;let w=u1(_.location,L,x);d=h();let N=B2(w,d),R=_.createHref(w);o.replaceState(N,"",R),s&&l&&l({action:a,location:_.location,delta:0})}function S(L){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof L=="string"?L:Of(L);return w=w.replace(/ $/,"%20"),Kt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let _={get action(){return a},get location(){return e(i,o)},listen(L){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(M2,m),l=L,()=>{i.removeEventListener(M2,m),l=null}},createHref(L){return t(i,L)},createURL:S,encodeLocation(L){let x=S(L);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:y,replace:p,go(L){return o.go(L)}};return _}var U2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(U2||(U2={}));function z3(e,t,r){return r===void 0&&(r="/"),q3(e,t,r,!1)}function q3(e,t,r,n){let i=typeof t=="string"?Cl(t):t,s=Nl(i.pathname||"/",r);if(s==null)return null;let o=nw(e);V3(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=t_(s);a=Z3(o[l],d,n)}return a}function nw(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Kt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let d=co([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(Kt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),nw(s.children,t,h,d)),!(s.path==null&&!s.index)&&t.push({path:d,score:Y3(d,s.index),routesMeta:h})};return e.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of iw(s.path))i(s,o,l)}),t}function iw(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=iw(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function V3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Q3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const W3=/^:[\w-]+$/,H3=3,G3=2,J3=1,K3=10,X3=-2,$2=e=>e==="*";function Y3(e,t){let r=e.split("/"),n=r.length;return r.some($2)&&(n+=X3),t&&(n+=G3),r.filter(i=>!$2(i)).reduce((i,s)=>i+(W3.test(s)?H3:s===""?J3:K3),n)}function Q3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Z3(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],d=a===n.length-1,h=s==="/"?t:t.slice(s.length)||"/",m=Df({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),y=l.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=Df({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:co([s,m.pathname]),pathnameBase:s_(co([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=co([s,m.pathnameBase]))}return o}function Df(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=e_(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((d,h,m)=>{let{paramName:y,isOptional:p}=h;if(y==="*"){let _=a[m]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const S=a[m];return p&&!S?d[y]=void 0:d[y]=(S||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:o,pattern:e}}function e_(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),rw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function t_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Nl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function r_(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Cl(e):e;return{pathname:r?r.startsWith("/")?r:n_(r,t):t,search:o_(n),hash:a_(i)}}function n_(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $p(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function i_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Dm(e,t){let r=i_(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Rm(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Cl(e):(i=ou({},e),Kt(!i.pathname||!i.pathname.includes("?"),$p("?","pathname","search",i)),Kt(!i.pathname||!i.pathname.includes("#"),$p("#","pathname","hash",i)),Kt(!i.search||!i.search.includes("#"),$p("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}a=m>=0?t[m]:"/"}let l=r_(i,a),d=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const co=e=>e.join("/").replace(/\/\/+/g,"/"),s_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,a_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function l_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sw=["post","put","patch","delete"];new Set(sw);const c_=["get",...sw];new Set(c_);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},au.apply(this,arguments)}const ch=be.createContext(null),ow=be.createContext(null),_s=be.createContext(null),uh=be.createContext(null),Ki=be.createContext({outlet:null,matches:[],isDataRoute:!1}),aw=be.createContext(null);function u_(e,t){let{relative:r}=t===void 0?{}:t;El()||Kt(!1);let{basename:n,navigator:i}=be.useContext(_s),{hash:s,pathname:o,search:a}=fh(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:co([n,o])),i.createHref({pathname:l,search:a,hash:s})}function El(){return be.useContext(uh)!=null}function Il(){return El()||Kt(!1),be.useContext(uh).location}function lw(e){be.useContext(_s).static||be.useLayoutEffect(e)}function Zr(){let{isDataRoute:e}=be.useContext(Ki);return e?j_():d_()}function d_(){El()||Kt(!1);let e=be.useContext(ch),{basename:t,future:r,navigator:n}=be.useContext(_s),{matches:i}=be.useContext(Ki),{pathname:s}=Il(),o=JSON.stringify(Dm(i,r.v7_relativeSplatPath)),a=be.useRef(!1);return lw(()=>{a.current=!0}),be.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){n.go(d);return}let m=Rm(d,JSON.parse(o),s,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:co([t,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[t,n,o,s,e])}const f_=be.createContext(null);function h_(e){let t=be.useContext(Ki).outlet;return t&&be.createElement(f_.Provider,{value:e},t)}function dh(){let{matches:e}=be.useContext(Ki),t=e[e.length-1];return t?t.params:{}}function fh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=be.useContext(_s),{matches:i}=be.useContext(Ki),{pathname:s}=Il(),o=JSON.stringify(Dm(i,n.v7_relativeSplatPath));return be.useMemo(()=>Rm(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function p_(e,t){return m_(e,t)}function m_(e,t,r,n){El()||Kt(!1);let{navigator:i,static:s}=be.useContext(_s),{matches:o}=be.useContext(Ki),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let h=Il(),m;if(t){var y;let x=typeof t=="string"?Cl(t):t;d==="/"||(y=x.pathname)!=null&&y.startsWith(d)||Kt(!1),m=x}else m=h;let p=m.pathname||"/",S=p;if(d!=="/"){let x=d.replace(/^\//,"").split("/");S="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let _=!s&&r&&r.matches&&r.matches.length>0?r.matches:z3(e,{pathname:S}),L=x_(_&&_.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:co([d,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:co([d,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,r,n);return t&&L?be.createElement(uh.Provider,{value:{location:au({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Qs.Pop}},L):L}function g_(){let e=N_(),t=l_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return be.createElement(be.Fragment,null,be.createElement("h2",null,"Unexpected Application Error!"),be.createElement("h3",{style:{fontStyle:"italic"}},t),r?be.createElement("pre",{style:i},r):null,null)}const v_=be.createElement(g_,null);class y_ extends be.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?be.createElement(Ki.Provider,{value:this.props.routeContext},be.createElement(aw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function w_(e){let{routeContext:t,match:r,children:n}=e,i=be.useContext(ch);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),be.createElement(Ki.Provider,{value:t},n)}function x_(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(i=r)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);h>=0||Kt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:y,errors:p}=r,S=m.route.loader&&y[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||S){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,m,y)=>{let p,S=!1,_=null,L=null;r&&(p=a&&m.route.id?a[m.route.id]:void 0,_=m.route.errorElement||v_,l&&(d<0&&y===0?(S=!0,L=null):d===y&&(S=!0,L=m.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,y+1)),w=()=>{let N;return p?N=_:S?N=L:m.route.Component?N=be.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=h,be.createElement(w_,{match:m,routeContext:{outlet:h,matches:x,isDataRoute:r!=null},children:N})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?be.createElement(y_,{location:r.location,revalidation:r.revalidation,component:_,error:p,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var cw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(cw||{}),Rf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Rf||{});function b_(e){let t=be.useContext(ch);return t||Kt(!1),t}function __(e){let t=be.useContext(ow);return t||Kt(!1),t}function S_(e){let t=be.useContext(Ki);return t||Kt(!1),t}function uw(e){let t=S_(),r=t.matches[t.matches.length-1];return r.route.id||Kt(!1),r.route.id}function N_(){var e;let t=be.useContext(aw),r=__(Rf.UseRouteError),n=uw(Rf.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function j_(){let{router:e}=b_(cw.UseNavigateStable),t=uw(Rf.UseNavigateStable),r=be.useRef(!1);return lw(()=>{r.current=!0}),be.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,au({fromRouteId:t},s)))},[e,t])}function k_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Mm(e){let{to:t,replace:r,state:n,relative:i}=e;El()||Kt(!1);let{future:s,static:o}=be.useContext(_s),{matches:a}=be.useContext(Ki),{pathname:l}=Il(),d=Zr(),h=Rm(t,Dm(a,s.v7_relativeSplatPath),l,i==="path"),m=JSON.stringify(h);return be.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:i}),[d,m,i,r,n]),null}function A_(e){return h_(e.context)}function Ut(e){Kt(!1)}function L_(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Qs.Pop,navigator:s,static:o=!1,future:a}=e;El()&&Kt(!1);let l=t.replace(/^\/*/,"/"),d=be.useMemo(()=>({basename:l,navigator:s,static:o,future:au({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=Cl(n));let{pathname:h="/",search:m="",hash:y="",state:p=null,key:S="default"}=n,_=be.useMemo(()=>{let L=Nl(h,l);return L==null?null:{location:{pathname:L,search:m,hash:y,state:p,key:S},navigationType:i}},[l,h,m,y,p,S,i]);return _==null?null:be.createElement(_s.Provider,{value:d},be.createElement(uh.Provider,{children:r,value:_}))}function P_(e){let{children:t,location:r}=e;return p_(d1(t),r)}new Promise(()=>{});function d1(e,t){t===void 0&&(t=[]);let r=[];return be.Children.forEach(e,(n,i)=>{if(!be.isValidElement(n))return;let s=[...t,i];if(n.type===be.Fragment){r.push.apply(r,d1(n.props.children,s));return}n.type!==Ut&&Kt(!1),!n.props.index||!n.props.children||Kt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=d1(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mf(){return Mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mf.apply(this,arguments)}function dw(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function C_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function E_(e,t){return e.button===0&&(!t||t==="_self")&&!C_(e)}const I_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F_=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],T_="6";try{window.__reactRouterVersion=T_}catch{}const O_=be.createContext({isTransitioning:!1}),D_="startTransition",z2=Ab[D_];function R_(e){let{basename:t,children:r,future:n,window:i}=e,s=be.useRef();s.current==null&&(s.current=B3({window:i,v5Compat:!0}));let o=s.current,[a,l]=be.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},h=be.useCallback(m=>{d&&z2?z2(()=>l(m)):l(m)},[l,d]);return be.useLayoutEffect(()=>o.listen(h),[o,h]),be.useEffect(()=>k_(n),[n]),be.createElement(L_,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const M_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lu=be.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:d,preventScrollReset:h,viewTransition:m}=t,y=dw(t,I_),{basename:p}=be.useContext(_s),S,_=!1;if(typeof d=="string"&&B_.test(d)&&(S=d,M_))try{let N=new URL(window.location.href),R=d.startsWith("//")?new URL(N.protocol+d):new URL(d),W=Nl(R.pathname,p);R.origin===N.origin&&W!=null?d=W+R.search+R.hash:_=!0}catch{}let L=u_(d,{relative:i}),x=$_(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:m});function w(N){n&&n(N),N.defaultPrevented||x(N)}return be.createElement("a",Mf({},y,{href:S||L,onClick:_||s?n:w,ref:r,target:l}))}),Wr=be.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:d,children:h}=t,m=dw(t,F_),y=fh(l,{relative:m.relative}),p=Il(),S=be.useContext(ow),{navigator:_,basename:L}=be.useContext(_s),x=S!=null&&z_(y)&&d===!0,w=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,N=p.pathname,R=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(N=N.toLowerCase(),R=R?R.toLowerCase():null,w=w.toLowerCase()),R&&L&&(R=Nl(R,L)||R);const W=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let X=N===w||!o&&N.startsWith(w)&&N.charAt(W)==="/",O=R!=null&&(R===w||!o&&R.startsWith(w)&&R.charAt(w.length)==="/"),E={isActive:X,isPending:O,isTransitioning:x},Y=X?n:void 0,ne;typeof s=="function"?ne=s(E):ne=[s,X?"active":null,O?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let T=typeof a=="function"?a(E):a;return be.createElement(lu,Mf({},m,{"aria-current":Y,className:ne,ref:r,style:T,to:l,viewTransition:d}),typeof h=="function"?h(E):h)});var f1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(f1||(f1={}));var q2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(q2||(q2={}));function U_(e){let t=be.useContext(ch);return t||Kt(!1),t}function $_(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=t===void 0?{}:t,l=Zr(),d=Il(),h=fh(e,{relative:o});return be.useCallback(m=>{if(E_(m,r)){m.preventDefault();let y=n!==void 0?n:Of(d)===Of(h);l(e,{replace:y,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[d,l,h,n,i,r,e,s,o,a])}function z_(e,t){t===void 0&&(t={});let r=be.useContext(O_);r==null&&Kt(!1);let{basename:n}=U_(f1.useViewTransitionState),i=fh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=Nl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Nl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Df(i.pathname,o)!=null||Df(i.pathname,s)!=null}const q_={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFmemN4ZXpkbmhjc3V0anRncXpmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA3NTA4NzEsImV4cCI6MjA1NjMyNjg3MX0.nSktJQyhcOEDU9R8xMUs7xpoZqk8V0UTb_avyejSIrc",VITE_SUPABASE_URL:"https://afzcxezdnhcsutjtgqzf.supabase.co"},V2=e=>{let t;const r=new Set,n=(h,m)=>{const y=typeof h=="function"?h(t):h;if(!Object.is(y,t)){const p=t;t=m??(typeof y!="object"||y===null)?y:Object.assign({},t,y),r.forEach(S=>S(t,p))}},i=()=>t,l={setState:n,getState:i,getInitialState:()=>d,subscribe:h=>(r.add(h),()=>r.delete(h)),destroy:()=>{(q_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(n,i,l);return l},V_=e=>e?V2(e):V2;var fw={exports:{}},hw={},pw={exports:{}},mw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=be;function W_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var H_=typeof Object.is=="function"?Object.is:W_,G_=jl.useState,J_=jl.useEffect,K_=jl.useLayoutEffect,X_=jl.useDebugValue;function Y_(e,t){var r=t(),n=G_({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return K_(function(){i.value=r,i.getSnapshot=t,zp(i)&&s({inst:i})},[e,r,t]),J_(function(){return zp(i)&&s({inst:i}),e(function(){zp(i)&&s({inst:i})})},[e]),X_(r),r}function zp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!H_(e,r)}catch{return!0}}function Q_(e,t){return t()}var Z_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Q_:Y_;mw.useSyncExternalStore=jl.useSyncExternalStore!==void 0?jl.useSyncExternalStore:Z_;pw.exports=mw;var e6=pw.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh=be,t6=e6;function r6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var n6=typeof Object.is=="function"?Object.is:r6,i6=t6.useSyncExternalStore,s6=hh.useRef,o6=hh.useEffect,a6=hh.useMemo,l6=hh.useDebugValue;hw.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=s6(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=a6(function(){function l(p){if(!d){if(d=!0,h=p,p=n(p),i!==void 0&&o.hasValue){var S=o.value;if(i(S,p))return m=S}return m=p}if(S=m,n6(h,p))return S;var _=n(p);return i!==void 0&&i(S,_)?(h=p,S):(h=p,m=_)}var d=!1,h,m,y=r===void 0?null:r;return[function(){return l(t())},y===null?void 0:function(){return l(y())}]},[t,r,n,i]);var a=i6(e,s[0],s[1]);return o6(function(){o.hasValue=!0,o.value=a},[a]),l6(a),a};fw.exports=hw;var c6=fw.exports;const u6=z5(c6),gw={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFmemN4ZXpkbmhjc3V0anRncXpmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA3NTA4NzEsImV4cCI6MjA1NjMyNjg3MX0.nSktJQyhcOEDU9R8xMUs7xpoZqk8V0UTb_avyejSIrc",VITE_SUPABASE_URL:"https://afzcxezdnhcsutjtgqzf.supabase.co"},{useDebugValue:d6}=Ge,{useSyncExternalStoreWithSelector:f6}=u6;let W2=!1;const h6=e=>e;function p6(e,t=h6,r){(gw?"production":void 0)!=="production"&&r&&!W2&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),W2=!0);const n=f6(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return d6(n),n}const H2=e=>{(gw?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?V_(e):e,r=(n,i)=>p6(t,n,i);return Object.assign(r,t),r},xu=e=>e?H2(e):H2,m6="modulepreload",g6=function(e){return"/"+e},G2={},xs=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=g6(l),l in G2)return;G2[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":m6,d||(m.as="script"),m.crossOrigin="",m.href=l,a&&m.setAttribute("nonce",a),document.head.appendChild(m),d)return new Promise((y,p)=>{m.addEventListener("load",y),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},v6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xs(async()=>{const{default:n}=await Promise.resolve().then(()=>Fl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Bm extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class y6 extends Bm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class w6 extends Bm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class x6 extends Bm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var h1;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(h1||(h1={}));var b6=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(m){o(m)}}function l(h){try{d(n.throw(h))}catch(m){o(m)}}function d(h){h.done?s(h.value):i(h.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};class _6{constructor(t,{headers:r={},customFetch:n,region:i=h1.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=v6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return b6(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let a={},{region:l}=r;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:d}).catch(S=>{throw new y6(S)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new w6(h);if(!h.ok)throw new x6(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return y==="application/json"?p=yield h.json():y==="application/octet-stream"?p=yield h.blob():y==="text/event-stream"?p=h:y==="multipart/form-data"?p=yield h.formData():p=yield h.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var wn={},Um={},ph={},bu={},mh={},gh={},S6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kl=S6();const N6=kl.fetch,vw=kl.fetch.bind(kl),yw=kl.Headers,j6=kl.Request,k6=kl.Response,Fl=Object.freeze(Object.defineProperty({__proto__:null,Headers:yw,Request:j6,Response:k6,default:vw,fetch:N6},Symbol.toStringTag,{value:"Module"})),A6=db(Fl);var vh={};Object.defineProperty(vh,"__esModule",{value:!0});let L6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};vh.default=L6;var ww=ti&&ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gh,"__esModule",{value:!0});const P6=ww(A6),C6=ww(vh);let E6=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=P6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let d=null,h=null,m=null,y=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const x=await s.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=x:h=JSON.parse(x))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),L=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&L&&L.length>1&&(m=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,y=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const _=await s.text();try{d=JSON.parse(_),Array.isArray(d)&&s.status===404&&(h=[],d=null,y=200,p="OK")}catch{s.status===404&&_===""?(y=204,p="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((l=d==null?void 0:d.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,y=200,p="OK"),d&&this.shouldThrowOnError)throw new C6.default(d)}return{error:d,data:h,count:m,status:y,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};gh.default=E6;var I6=ti&&ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mh,"__esModule",{value:!0});const F6=I6(gh);let T6=class extends F6.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${d}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};mh.default=T6;var O6=ti&&ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bu,"__esModule",{value:!0});const D6=O6(mh);let R6=class extends D6.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};bu.default=R6;var M6=ti&&ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ph,"__esModule",{value:!0});const wc=M6(bu);let B6=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new wc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new wc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(l.length>0){const d=[...new Set(l)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new wc.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new wc.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new wc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ph.default=B6;var yh={},wh={};Object.defineProperty(wh,"__esModule",{value:!0});wh.version=void 0;wh.version="0.0.0-automated";Object.defineProperty(yh,"__esModule",{value:!0});yh.DEFAULT_HEADERS=void 0;const U6=wh;yh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${U6.version}`};var xw=ti&&ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Um,"__esModule",{value:!0});const $6=xw(ph),z6=xw(bu),q6=yh;let V6=class bw{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},q6.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new $6.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let l;n||i?(o=n?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{a.searchParams.append(h,m)})):(o="POST",l=r);const d=Object.assign({},this.headers);return s&&(d.Prefer=`count=${s}`),new z6.default({method:o,url:a,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Um.default=V6;var Tl=ti&&ti.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wn,"__esModule",{value:!0});wn.PostgrestError=wn.PostgrestBuilder=wn.PostgrestTransformBuilder=wn.PostgrestFilterBuilder=wn.PostgrestQueryBuilder=wn.PostgrestClient=void 0;const _w=Tl(Um);wn.PostgrestClient=_w.default;const Sw=Tl(ph);wn.PostgrestQueryBuilder=Sw.default;const Nw=Tl(bu);wn.PostgrestFilterBuilder=Nw.default;const jw=Tl(mh);wn.PostgrestTransformBuilder=jw.default;const kw=Tl(gh);wn.PostgrestBuilder=kw.default;const Aw=Tl(vh);wn.PostgrestError=Aw.default;var W6=wn.default={PostgrestClient:_w.default,PostgrestQueryBuilder:Sw.default,PostgrestFilterBuilder:Nw.default,PostgrestTransformBuilder:jw.default,PostgrestBuilder:kw.default,PostgrestError:Aw.default};const{PostgrestClient:H6,PostgrestQueryBuilder:Kk,PostgrestFilterBuilder:Xk,PostgrestTransformBuilder:Yk,PostgrestBuilder:Qk,PostgrestError:Zk}=W6,G6="2.11.2",J6={"X-Client-Info":`realtime-js/${G6}`},K6="1.0.0",Lw=1e4,X6=1e3;var dl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(dl||(dl={}));var En;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(En||(En={}));var xi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xi||(xi={}));var p1;(function(e){e.websocket="websocket"})(p1||(p1={}));var Ro;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ro||(Ro={}));class Y6{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+i));o=o+i;const l=n.decode(t.slice(o,o+s));o=o+s;const d=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:d}}}class Pw{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Rt||(Rt={}));const J2=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=Q6(o,e,t,i),s),{})},Q6=(e,t,r,n)=>{const i=t.find(a=>a.name===e),s=i==null?void 0:i.type,o=r[e];return s&&!n.includes(s)?Cw(s,o):m1(o)},Cw=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return rS(t,r)}switch(e){case Rt.bool:return Z6(t);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return eS(t);case Rt.json:case Rt.jsonb:return tS(t);case Rt.timestamp:return nS(t);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return m1(t);default:return m1(t)}},m1=e=>e,Z6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Cw(t,a))}return e},nS=e=>typeof e=="string"?e.replace(" ","T"):e,Ew=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class qp{constructor(t,r,n={},i=Lw){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var K2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(K2||(K2={}));class Mc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mc.syncState(this.state,i,s,o),this.pendingDiffs.forEach(l=>{this.state=Mc.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Mc.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(s,(d,h)=>{o[d]||(l[d]=h)}),this.map(o,(d,h)=>{const m=s[d];if(m){const y=h.map(L=>L.presence_ref),p=m.map(L=>L.presence_ref),S=h.filter(L=>p.indexOf(L.presence_ref)<0),_=m.filter(L=>y.indexOf(L.presence_ref)<0);S.length>0&&(a[d]=S),_.length>0&&(l[d]=_)}else a[d]=h}),this.syncDiff(s,{joins:a,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,l)=>{var d;const h=(d=t[a])!==null&&d!==void 0?d:[];if(t[a]=this.cloneDeep(l),h.length>0){const m=t[a].map(p=>p.presence_ref),y=h.filter(p=>m.indexOf(p.presence_ref)<0);t[a].unshift(...y)}n(a,h,l)}),this.map(o,(a,l)=>{let d=t[a];if(!d)return;const h=l.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),t[a]=d,i(a,d,l),d.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var X2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(X2||(X2={}));var Y2;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Y2||(Y2={}));var ds;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class $m{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=En.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new qp(this,xi.join,this.params,this.timeout),this.rejoinTimer=new Pw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=En.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=En.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=En.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xi.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Mc(this),this.broadcastEndpointURL=Ew(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(h=>t==null?void 0:t(ds.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(ds.CLOSED));const l={},d={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){t==null||t(ds.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,p=(m=y==null?void 0:y.length)!==null&&m!==void 0?m:0,S=[];for(let _=0;_<p;_++){const L=y[_],{filter:{event:x,schema:w,table:N,filter:R}}=L,W=h&&h[_];if(W&&W.event===x&&W.schema===w&&W.table===N&&W.filter===R)S.push(Object.assign(Object.assign({},L),{id:W.id}));else{this.unsubscribe(),t==null||t(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(ds.SUBSCRIBED);return}}).receive("error",h=>{t==null||t(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const d=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=En.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xi.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new qp(this,xi.leave,{},t);i.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new qp(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:d,join:h}=xi;if(n&&[a,l,d,h].indexOf(o)>=0&&n!==this._joinRef())return;let y=this._onMessage(o,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var S,_,L;return((S=p.filter)===null||S===void 0?void 0:S.event)==="*"||((L=(_=p.filter)===null||_===void 0?void 0:_.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===o}).map(p=>p.callback(y,n)):(s=this.bindings[o])===null||s===void 0||s.filter(p=>{var S,_,L,x,w,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const R=p.id,W=(S=p.filter)===null||S===void 0?void 0:S.event;return R&&((_=r.ids)===null||_===void 0?void 0:_.includes(R))&&(W==="*"||(W==null?void 0:W.toLocaleLowerCase())===((L=r.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const R=(w=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return R==="*"||R===((N=r==null?void 0:r.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof y=="object"&&"ids"in y){const S=y.data,{schema:_,table:L,commit_timestamp:x,type:w,errors:N}=S;y=Object.assign(Object.assign({},{schema:_,table:L,commit_timestamp:x,eventType:w,new:{},old:{},errors:N}),this._getPayloadRecords(S))}p.callback(y,n)})}_isClosed(){return this.state===En.closed}_isJoined(){return this.state===En.joined}_isJoining(){return this.state===En.joining}_isLeaving(){return this.state===En.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&$m.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xi.close,{},t)}_onError(t){this._on(xi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=En.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=J2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=J2(t.columns,t.old_record)),r}}const iS=()=>{},sS=typeof WebSocket<"u",oS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aS{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=J6,this.params={},this.timeout=Lw,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=iS,this.conn=null,this.sendBuffer=[],this.serializer=new Y6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>xs(async()=>{const{default:l}=await Promise.resolve().then(()=>Fl);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${p1.websocket}`,this.httpEndpoint=Ew(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Pw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(sS){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new lS(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),xs(async()=>{const{default:t}=await import("./browser-CvQ2yIlY.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:K6}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case dl.connecting:return Ro.Connecting;case dl.open:return Ro.Open;case dl.closing:return Ro.Closing;default:return Ro.Closed}}isConnected(){return this.connectionState()===Ro.Open}channel(t,r={config:{}}){const n=new $m(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r}),i.joinedOnce&&i._isJoined()&&i._push(xi.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(X6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(xi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([oS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class lS{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=dl.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class zm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ar(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class cS extends zm{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class g1 extends zm{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var uS=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(m){o(m)}}function l(h){try{d(n.throw(h))}catch(m){o(m)}}function d(h){h.done?s(h.value):i(h.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};const Iw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xs(async()=>{const{default:n}=await Promise.resolve().then(()=>Fl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},dS=()=>uS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xs(()=>Promise.resolve().then(()=>Fl),void 0)).Response:Response}),v1=e=>{if(Array.isArray(e))return e.map(r=>v1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=v1(n)}),t};var ta=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(m){o(m)}}function l(h){try{d(n.throw(h))}catch(m){o(m)}}function d(h){h.done?s(h.value):i(h.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};const Vp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fS=(e,t,r)=>ta(void 0,void 0,void 0,function*(){const n=yield dS();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{t(new cS(Vp(i),e.status||500))}).catch(i=>{t(new g1(Vp(i),i))}):t(new g1(Vp(e),e))}),hS=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function _u(e,t,r,n,i,s){return ta(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,hS(t,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>fS(l,a,n))})})}function Bf(e,t,r,n){return ta(this,void 0,void 0,function*(){return _u(e,"GET",t,r,n)})}function Ws(e,t,r,n,i){return ta(this,void 0,void 0,function*(){return _u(e,"POST",t,n,i,r)})}function pS(e,t,r,n,i){return ta(this,void 0,void 0,function*(){return _u(e,"PUT",t,n,i,r)})}function mS(e,t,r,n){return ta(this,void 0,void 0,function*(){return _u(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Fw(e,t,r,n,i){return ta(this,void 0,void 0,function*(){return _u(e,"DELETE",t,n,i,r)})}var vn=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(m){o(m)}}function l(h){try{d(n.throw(h))}catch(m){o(m)}}function d(h){h.done?s(h.value):i(h.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};const gS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Q2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vS{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Iw(i)}uploadOrUpdate(t,r,n,i){return vn(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},Q2),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const d=this._removeEmptyFolders(r),h=this._getFinalPath(d),m=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:s,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),y=yield m.json();return m.ok?{data:{path:d,id:y.Id,fullPath:y.Key},error:null}:{data:null,error:y}}catch(s){if(Ar(s))return{data:null,error:s};throw s}})}upload(t,r,n){return vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return vn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const d=Object.assign({upsert:Q2.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",d.cacheControl)):(l=n,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const m=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:h}),y=yield m.json();return m.ok?{data:{path:s,fullPath:y.Key},error:null}:{data:null,error:y}}catch(l){if(Ar(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return vn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Ws(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new zm("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(Ar(n))return{data:null,error:n};throw n}})}update(t,r,n){return vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return vn(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ar(i))return{data:null,error:i};throw i}})}copy(t,r,n){return vn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ws(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ar(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return vn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ws(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Ar(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return vn(this,void 0,void 0,function*(){try{const i=yield Ws(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Ar(i))return{data:null,error:i};throw i}})}download(t,r){return vn(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Bf(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ar(a))return{data:null,error:a};throw a}})}info(t){return vn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Bf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:v1(n),error:null}}catch(n){if(Ar(n))return{data:null,error:n};throw n}})}exists(t){return vn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield mS(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ar(n)&&n instanceof g1){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${d}`)}}}remove(t){return vn(this,void 0,void 0,function*(){try{return{data:yield Fw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ar(r))return{data:null,error:r};throw r}})}list(t,r,n){return vn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},gS),r),{prefix:t||""});return{data:yield Ws(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Ar(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const yS="2.7.1",wS={"X-Client-Info":`storage-js/${yS}`};var Da=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(m){o(m)}}function l(h){try{d(n.throw(h))}catch(m){o(m)}}function d(h){h.done?s(h.value):i(h.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};class xS{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},wS),r),this.fetch=Iw(n)}listBuckets(){return Da(this,void 0,void 0,function*(){try{return{data:yield Bf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ar(t))return{data:null,error:t};throw t}})}getBucket(t){return Da(this,void 0,void 0,function*(){try{return{data:yield Bf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ar(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Da(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ar(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Da(this,void 0,void 0,function*(){try{return{data:yield pS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ar(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Da(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ar(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Da(this,void 0,void 0,function*(){try{return{data:yield Fw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ar(r))return{data:null,error:r};throw r}})}}class bS extends xS{constructor(t,r={},n){super(t,r,n)}from(t){return new vS(this.url,this.headers,t,this.fetch)}}const _S="2.49.1";let Lc="";typeof Deno<"u"?Lc="deno":typeof document<"u"?Lc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lc="react-native":Lc="node";const SS={"X-Client-Info":`supabase-js-${Lc}/${_S}`},NS={headers:SS},jS={schema:"public"},kS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},AS={};var LS=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(m){o(m)}}function l(h){try{d(n.throw(h))}catch(m){o(m)}}function d(h){h.done?s(h.value):i(h.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};const PS=e=>{let t;return e?t=e:typeof fetch>"u"?t=vw:t=fetch,(...r)=>t(...r)},CS=()=>typeof Headers>"u"?yw:Headers,ES=(e,t,r)=>{const n=PS(r),i=CS();return(s,o)=>LS(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let d=new i(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},o),{headers:d}))})};var IS=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(m){o(m)}}function l(h){try{d(n.throw(h))}catch(m){o(m)}}function d(h){h.done?s(h.value):i(h.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};function FS(e){return e.replace(/\/$/,"")}function TS(e,t){const{db:r,auth:n,realtime:i,global:s}=e,{db:o,auth:a,realtime:l,global:d}=t,h={db:Object.assign(Object.assign({},o),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},d),s),accessToken:()=>IS(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Tw="2.68.0",qa=30*1e3,y1=3,Wp=y1*qa,OS="http://localhost:9999",DS="supabase.auth.token",RS={"X-Client-Info":`gotrue-js/${Tw}`},w1="X-Supabase-Api-Version",Ow={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function MS(e){return Math.round(Date.now()/1e3)+e}function BS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Mi=()=>typeof window<"u"&&typeof document<"u",Io={tested:!1,writable:!1},Bc=()=>{if(!Mi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Io.tested)return Io.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Io.tested=!0,Io.writable=!0}catch{Io.tested=!0,Io.writable=!1}return Io.writable};function US(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Dw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>xs(async()=>{const{default:n}=await Promise.resolve().then(()=>Fl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},$S=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rw=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Td=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Od=async(e,t)=>{await e.removeItem(t)};function zS(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let r="",n,i,s,o,a,l,d,h=0;for(e=e.replace("-","+").replace("_","/");h<e.length;)o=t.indexOf(e.charAt(h++)),a=t.indexOf(e.charAt(h++)),l=t.indexOf(e.charAt(h++)),d=t.indexOf(e.charAt(h++)),n=o<<2|a>>4,i=(a&15)<<4|l>>2,s=(l&3)<<6|d,r=r+String.fromCharCode(n),l!=64&&i!=0&&(r=r+String.fromCharCode(i)),d!=64&&s!=0&&(r=r+String.fromCharCode(s));return r}class xh{constructor(){this.promise=new xh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}xh.promiseConstructor=Promise;function Z2(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,r=e.split(".");if(r.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(r[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=r[1];return JSON.parse(zS(n))}async function qS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VS(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function WS(e){return("0"+e.toString(16)).substr(-2)}function HS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,WS).join("")}async function GS(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}function JS(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function KS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GS(e);return JS(r)}async function Ra(e,t,r=!1){const n=HS();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Rw(e,`${t}-code-verifier`,i);const s=await KS(n);return[s,n===s?"plain":"s256"]}const XS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YS(e){const t=e.headers.get(w1);if(!t||!t.match(XS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class qm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ft(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class QS extends qm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ZS(e){return ft(e)&&e.name==="AuthApiError"}class Mw extends qm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ra extends qm{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class $s extends ra{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eN(e){return ft(e)&&e.name==="AuthSessionMissingError"}class Hp extends ra{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Dd extends ra{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Rd extends ra{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tN(e){return ft(e)&&e.name==="AuthImplicitGrantRedirectError"}class e5 extends ra{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class x1 extends ra{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Gp(e){return ft(e)&&e.name==="AuthRetryableFetchError"}class t5 extends ra{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}var rN=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const Oo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),nN=[502,503,504];async function r5(e){var t;if(!$S(e))throw new x1(Oo(e),0);if(nN.includes(e.status))throw new x1(Oo(e),e.status);let r;try{r=await e.json()}catch(s){throw new Mw(Oo(s),s)}let n;const i=YS(e);if(i&&i.getTime()>=Ow["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new t5(Oo(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $s}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new t5(Oo(r),e.status,r.weak_password.reasons);throw new QS(Oo(r),e.status||500,n)}const iN=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function yt(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[w1]||(s[w1]=Ow["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await sN(e,t,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function sN(e,t,r,n,i,s){const o=iN(t,n,i,s);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new x1(Oo(l),0)}if(a.ok||await r5(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await r5(l)}}function zs(e){var t;let r=null;cN(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=MS(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function n5(e){const t=zs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Js(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oN(e){return{data:e,error:null}}function aN(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=rN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function lN(e){return e}function cN(e){return e.access_token&&e.refresh_token&&e.expires_in}var uN=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class dN{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Dw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await yt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Js})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=uN(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:aN,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ft(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await yt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Js})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,a,l;try{const d={nextPage:null,lastPage:0,total:0},h=await yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:lN});if(h.error)throw h.error;const m=await h.json(),y=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(S=>{const _=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(S.split(";")[1].split("=")[1]);d[`${L}Page`]=_}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ft(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){try{return await yt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Js})}catch(r){if(ft(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await yt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Js})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await yt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Js})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await yt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await yt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}}}const fN={getItem:e=>Bc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Bc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Bc()&&globalThis.localStorage.removeItem(e)}};function i5(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function hN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ma={debug:!!(globalThis&&Bc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pN extends Bw{}async function mN(e,t,r){Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pN(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ma.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}hN();const gN={url:OS,storageKey:DS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function s5(e,t,r){return await r()}class cu{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cu.nextInstanceID,cu.nextInstanceID+=1,this.instanceID>0&&Mi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},gN),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new dN({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Dw(i.fetch),this.lock=i.lock||s5,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Mi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=mN:this.lock=s5,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Bc()?this.storage=fN:(this.memoryStorage={},this.storage=i5(this.memoryStorage)):(this.memoryStorage={},this.storage=i5(this.memoryStorage)),Mi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=US(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Mi()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),tN(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ft(r)?{error:r}:{error:new Mw("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:zs}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(ft(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:h,password:m,options:y}=t;let p=null,S=null;this.flowType==="pkce"&&([p,S]=await Ra(this.storage,this.storageKey)),s=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:h,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:p,code_challenge_method:S},xform:zs})}else if("phone"in t){const{phone:h,password:m,options:y}=t;s=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:zs})}else throw new Dd("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(ft(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:a}=t;r=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:n5})}else if("phone"in t){const{phone:s,password:o,options:a}=t;r=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:n5})}else throw new Dd("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ft(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Td(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:zs});if(await Od(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Hp}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(ft(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,a=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:zs}),{data:l,error:d}=a;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Hp}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(ft(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:a,options:l}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Ra(this.storage,this.storageKey));const{error:m}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:a,options:l}=t,{data:d,error:h}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Dd("You must provide either an email or phone number.")}catch(a){if(ft(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:zs});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,d=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(ft(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Ra(this.storage,this.storageKey)),await yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:oN})}catch(s){if(ft(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $s;const{error:i}=await yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ft(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await yt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:a}=await yt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Dd("You must provide either an email or phone number and a type")}catch(r){if(ft(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Td(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Wp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,d,h)=>(!o&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,h))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Js}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $s}:await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Js})})}catch(r){if(ft(r))return eN(r)&&(await this._removeSession(),await Od(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new $s;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Ra(this.storage,this.storageKey));const{data:d,error:h}=await yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Js});if(h)throw h;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}_decodeJWT(t){return Z2(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $s;const r=Date.now()/1e3;let n=r,i=!0,s=null;const o=Z2(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(ft(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $s;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ft(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Mi())throw new Rd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Rd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new e5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new e5("No code detected.");const{data:w,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:d}=t;if(!s||!a||!o||!d)throw new Rd("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(a);let y=h+m;l&&(y=parseInt(l));const p=y-h;p*1e3<=qa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const S=y-m;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,y,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,y,h);const{data:_,error:L}=await this._getUser(s);if(L)throw L;const x={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:y,refresh_token:o,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(ft(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Td(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(ZS(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Od(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=BS(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ra(this.storage,this.storageKey,!0));try{return await yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(ft(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,l,d,h;const{data:m,error:y}=s;if(y)throw y;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await yt(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Mi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ft(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await yt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await VS(async i=>(i>0&&await qS(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zs})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Gp(s)&&Date.now()+o-n<qa})}catch(n){if(this._debug(r,"error",n),ft(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Mi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Td(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Wp;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Wp}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:s}=await this._callRefreshToken(n.refresh_token);s&&(console.error(s),Gp(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new xh;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new $s;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),ft(s)){const o={session:null,error:s};return Gp(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Rw(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Od(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Mi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/qa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${qa}ms, refresh threshold is ${y1} ticks`),i<=y1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Ra(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await yt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:d}=await yt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ft(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:a}=await yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(ft(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ft(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const h=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}}cu.nextInstanceID=0;const vN=cu;class yN extends vN{constructor(t){super(t)}}var wN=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(h){try{d(n.next(h))}catch(m){o(m)}}function l(h){try{d(n.throw(h))}catch(m){o(m)}}function d(h){h.done?s(h.value):i(h.value).then(a,l)}d((n=n.apply(e,t||[])).next())})};class xN{constructor(t,r,n){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=FS(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,d={db:jS,realtime:AS,auth:Object.assign(Object.assign({},kS),{storageKey:l}),global:NS},h=TS(n??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(m,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=ES(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new H6(`${a}/rest/v1`,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new _6(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bS(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return wN(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:a,debug:l},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yN({url:this.authUrl,headers:Object.assign(Object.assign({},m),d),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:l,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new aS(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bN=(e,t,r)=>new xN(e,t,r),_N="https://afzcxezdnhcsutjtgqzf.supabase.co",SN="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFmemN4ZXpkbmhjc3V0anRncXpmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA3NTA4NzEsImV4cCI6MjA1NjMyNjg3MX0.nSktJQyhcOEDU9R8xMUs7xpoZqk8V0UTb_avyejSIrc",ht=bN(_N,SN,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Mr=xu(e=>({user:null,session:null,loading:!0,error:null,login:async(t,r)=>{var n;try{e({loading:!0,error:null});const{data:i,error:s}=await ht.auth.signInWithPassword({email:t,password:r});if(s)throw s;const{data:o,error:a}=await ht.from("users").select("*").eq("id",(n=i.user)==null?void 0:n.id).single();if(a)throw a;e({user:o,session:i.session,loading:!1})}catch(i){throw e({error:i.message,loading:!1}),i}},register:async(t,r,n="user")=>{try{e({loading:!0,error:null});const{data:i,error:s}=await ht.auth.signUp({email:t,password:r});if(s)throw s;if(i.user&&!s){const{error:o}=await ht.from("users").insert([{id:i.user.id,email:t,role:n}]);if(o)throw o}e({loading:!1})}catch(i){throw e({error:i.message,loading:!1}),i}},logout:async()=>{try{e({loading:!0,error:null});const{error:t}=await ht.auth.signOut();if(t)throw t;e({user:null,session:null,loading:!1})}catch(t){throw e({error:t.message,loading:!1}),t}},resetPassword:async t=>{try{e({loading:!0,error:null});const{error:r}=await ht.auth.resetPasswordForEmail(t);if(r)throw r;e({loading:!1})}catch(r){throw e({error:r.message,loading:!1}),r}},updateUser:async t=>{try{e({loading:!0,error:null});const{error:r}=await ht.from("users").update(t).eq("id",t.id);if(r)throw r;e(n=>({user:n.user?{...n.user,...t}:null,loading:!1}))}catch(r){throw e({error:r.message,loading:!1}),r}}})),NN=async()=>{const{data:e}=await ht.auth.getSession();if(e.session){const{data:t}=await ht.from("users").select("*").eq("id",e.session.user.id).single();Mr.setState({user:t,session:e.session,loading:!1})}else Mr.setState({loading:!1});ht.auth.onAuthStateChange(async(t,r)=>{if(t==="SIGNED_IN"&&r){const{data:n}=await ht.from("users").select("*").eq("id",r.user.id).single();Mr.setState({user:n,session:r,loading:!1})}else t==="SIGNED_OUT"&&Mr.setState({user:null,session:null,loading:!1})})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),nr=(e,t)=>{const r=be.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...d},h)=>be.createElement("svg",{ref:h,...jN,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${kN(e)}`,a].join(" "),...d},[...t.map(([m,y])=>be.createElement(m,y)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=nr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=nr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=nr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=nr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=nr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=nr("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=nr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=nr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=nr("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=nr("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=nr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=nr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=nr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=nr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=nr("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=nr("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=nr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=nr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=nr("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=nr("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=nr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=nr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),it=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,fullWidth:i=!1,leftIcon:s,rightIcon:o,className:a="",disabled:l,...d})=>{const h="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none",m={primary:"bg-blue-600 text-white hover:bg-blue-700 focus-visible:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus-visible:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus-visible:ring-red-500",success:"bg-green-600 text-white hover:bg-green-700 focus-visible:ring-green-500",outline:"border border-gray-300 bg-transparent hover:bg-gray-100 focus-visible:ring-gray-500"},y={sm:"h-8 px-3 text-xs",md:"h-10 px-4 py-2",lg:"h-12 px-6 py-3 text-lg"},p=i?"w-full":"";return f.jsxs("button",{className:`${h} ${m[t]} ${y[r]} ${p} ${a}`,disabled:l||n,...d,children:[n&&f.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&s&&f.jsx("span",{className:"mr-2",children:s}),e,!n&&o&&f.jsx("span",{className:"ml-2",children:o})]})},ON=()=>{const[e,t]=be.useState(!1),{user:r,logout:n}=Mr(),i=Zr(),s=async()=>{try{await n(),i("/login")}catch(a){console.error("Error al cerrar sesin:",a)}},o=()=>{t(!e)};return f.jsxs("nav",{className:"bg-white shadow-md",children:[f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between h-16",children:[f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0 flex items-center",children:f.jsxs(lu,{to:"/",className:"flex items-center",children:[f.jsx(In,{className:"h-8 w-8 text-blue-600"}),f.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"CFDI App"})]})}),f.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:r&&f.jsxs(f.Fragment,{children:[f.jsxs(Wr,{to:"/dashboard",className:({isActive:a})=>`inline-flex items-center px-1 pt-1 border-b-2 ${a?"border-blue-600":"border-transparent"} text-sm font-medium ${a?"text-blue-600":"text-gray-500"} hover:text-gray-700 hover:border-gray-300`,children:[f.jsx(o5,{size:18,className:"mr-1"}),"Dashboard"]}),f.jsxs(Wr,{to:"/facturas",className:({isActive:a})=>`inline-flex items-center px-1 pt-1 border-b-2 ${a?"border-blue-600":"border-transparent"} text-sm font-medium ${a?"text-blue-600":"text-gray-500"} hover:text-gray-700 hover:border-gray-300`,children:[f.jsx(In,{size:18,className:"mr-1"}),"Facturas"]}),f.jsxs(Wr,{to:"/facturas-globales",className:({isActive:a})=>`inline-flex items-center px-1 pt-1 border-b-2 ${a?"border-blue-600":"border-transparent"} text-sm font-medium ${a?"text-blue-600":"text-gray-500"} hover:text-gray-700 hover:border-gray-300`,children:[f.jsx(In,{size:18,className:"mr-1"}),"Facturas Globales"]}),f.jsxs(Wr,{to:"/notas-credito",className:({isActive:a})=>`inline-flex items-center px-1 pt-1 border-b-2 ${a?"border-blue-600":"border-transparent"} text-sm font-medium ${a?"text-blue-600":"text-gray-500"} hover:text-gray-700 hover:border-gray-300`,children:[f.jsx(In,{size:18,className:"mr-1"}),"Notas de crdito"]}),f.jsxs(Wr,{to:"/productos",className:({isActive:a})=>`inline-flex items-center px-1 pt-1 border-b-2 ${a?"border-blue-600":"border-transparent"} text-sm font-medium ${a?"text-blue-600":"text-gray-500"} hover:text-gray-700 hover:border-gray-300`,children:[f.jsx(In,{size:18,className:"mr-1"}),"Productos"]}),f.jsxs(Wr,{to:"/clientes",className:({isActive:a})=>`inline-flex items-center px-1 pt-1 border-b-2 ${a?"border-blue-600":"border-transparent"} text-sm font-medium ${a?"text-blue-600":"text-gray-500"} hover:text-gray-700 hover:border-gray-300`,children:[f.jsx(In,{size:18,className:"mr-1"}),"Clientes"]}),r.role==="admin"&&f.jsxs(Wr,{to:"/admin",className:({isActive:a})=>`inline-flex items-center px-1 pt-1 border-b-2 ${a?"border-blue-600":"border-transparent"} text-sm font-medium ${a?"text-blue-600":"text-gray-500"} hover:text-gray-700 hover:border-gray-300`,children:[f.jsx(l5,{size:18,className:"mr-1"}),"Administracin"]})]})})]}),f.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:r?f.jsxs("div",{className:"flex items-center",children:[f.jsxs("div",{className:"mr-4 text-sm text-gray-700",children:[f.jsx("span",{className:"font-medium",children:r.email}),f.jsx("span",{className:"ml-2 px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:r.role==="admin"?"Administrador":"Usuario"})]}),f.jsx(it,{variant:"outline",size:"sm",onClick:s,leftIcon:f.jsx(a5,{size:16}),children:"Salir"})]}):f.jsxs("div",{className:"flex space-x-2",children:[f.jsx(it,{variant:"outline",size:"sm",onClick:()=>i("/login"),children:"Iniciar Sesin"}),f.jsx(it,{variant:"primary",size:"sm",onClick:()=>i("/register"),children:"Registrarse"})]})}),f.jsx("div",{className:"-mr-2 flex items-center sm:hidden",children:f.jsxs("button",{onClick:o,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500",children:[f.jsx("span",{className:"sr-only",children:"Abrir men"}),e?f.jsx(Nu,{className:"block h-6 w-6"}):f.jsx(CN,{className:"block h-6 w-6"})]})})]})}),f.jsxs("div",{className:`${e?"block":"hidden"} sm:hidden`,children:[f.jsx("div",{className:"pt-2 pb-3 space-y-1",children:r?f.jsxs(f.Fragment,{children:[f.jsx(Wr,{to:"/dashboard",className:({isActive:a})=>`block pl-3 pr-4 py-2 border-l-4 ${a?"border-blue-600":"border-transparent"} text-base font-medium ${a?"text-blue-600":"text-gray-600"} hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300`,onClick:()=>t(!1),children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(o5,{size:18,className:"mr-2"}),"Dashboard"]})}),f.jsx(Wr,{to:"/facturas",className:({isActive:a})=>`block pl-3 pr-4 py-2 border-l-4 ${a?"border-blue-600":"border-transparent"} text-base font-medium ${a?"text-blue-600":"text-gray-600"} hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300`,onClick:()=>t(!1),children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(In,{size:18,className:"mr-2"}),"Facturas"]})}),f.jsx(Wr,{to:"/facturas-globales",className:({isActive:a})=>`block pl-3 pr-4 py-2 border-l-4 ${a?"border-blue-600":"border-transparent"} text-base font-medium ${a?"text-blue-600":"text-gray-600"} hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300`,onClick:()=>t(!1),children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(In,{size:18,className:"mr-2"}),"Facturas Globales"]})}),f.jsx(Wr,{to:"/productos",className:({isActive:a})=>`block pl-3 pr-4 py-2 border-l-4 ${a?"border-blue-600":"border-transparent"} text-base font-medium ${a?"text-blue-600":"text-gray-600"} hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300`,onClick:()=>t(!1),children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(In,{size:18,className:"mr-2"}),"Productos"]})}),f.jsx(Wr,{to:"/clientes",className:({isActive:a})=>`block pl-3 pr-4 py-2 border-l-4 ${a?"border-blue-600":"border-transparent"} text-base font-medium ${a?"text-blue-600":"text-gray-600"} hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300`,onClick:()=>t(!1),children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(In,{size:18,className:"mr-2"}),"Clientes"]})}),f.jsx(Wr,{to:"/notas-credito",className:({isActive:a})=>`block pl-3 pr-4 py-2 border-l-4 ${a?"border-blue-600":"border-transparent"} text-base font-medium ${a?"text-blue-600":"text-gray-600"} hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300`,onClick:()=>t(!1),children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(In,{size:18,className:"mr-2"}),"Notas de crdito"]})}),r.role==="admin"&&f.jsx(Wr,{to:"/admin",className:({isActive:a})=>`block pl-3 pr-4 py-2 border-l-4 ${a?"border-blue-600":"border-transparent"} text-base font-medium ${a?"text-blue-600":"text-gray-600"} hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300`,onClick:()=>t(!1),children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(l5,{size:18,className:"mr-2"}),"Administracin"]})})]}):f.jsxs(f.Fragment,{children:[f.jsx(Wr,{to:"/login",className:({isActive:a})=>`block pl-3 pr-4 py-2 border-l-4 ${a?"border-blue-600":"border-transparent"} text-base font-medium ${a?"text-blue-600":"text-gray-600"} hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300`,onClick:()=>t(!1),children:"Iniciar Sesin"}),f.jsx(Wr,{to:"/register",className:({isActive:a})=>`block pl-3 pr-4 py-2 border-l-4 ${a?"border-blue-600":"border-transparent"} text-base font-medium ${a?"text-blue-600":"text-gray-600"} hover:text-gray-800 hover:bg-gray-50 hover:border-gray-300`,onClick:()=>t(!1),children:"Registrarse"})]})}),r&&f.jsxs("div",{className:"pt-4 pb-3 border-t border-gray-200",children:[f.jsxs("div",{className:"flex items-center px-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(TN,{className:"h-10 w-10 rounded-full bg-gray-200 p-2 text-gray-600"})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("div",{className:"text-base font-medium text-gray-800",children:r.email}),f.jsx("div",{className:"text-sm font-medium text-gray-500",children:r.role==="admin"?"Administrador":"Usuario"})]})]}),f.jsx("div",{className:"mt-3 space-y-1",children:f.jsx("button",{onClick:()=>{s(),t(!1)},className:"block w-full text-left px-4 py-2 text-base font-medium text-gray-500 hover:text-gray-800 hover:bg-gray-100",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(a5,{size:18,className:"mr-2"}),"Cerrar Sesin"]})})})]})]})]})};function $w(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=$w(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Zs(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=$w(e))&&(n&&(n+=" "),n+=t);return n}const du=e=>typeof e=="number"&&!isNaN(e),Wo=e=>typeof e=="string",On=e=>typeof e=="function",sf=e=>Wo(e)||On(e)?e:null,N1=e=>be.isValidElement(e)||Wo(e)||On(e)||du(e);function DN(e,t,r){r===void 0&&(r=300);const{scrollHeight:n,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)})})}function bh(e){let{enter:t,exit:r,appendPosition:n=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(o){let{children:a,position:l,preventExitTransition:d,done:h,nodeRef:m,isIn:y,playToast:p}=o;const S=n?`${t}--${l}`:t,_=n?`${r}--${l}`:r,L=be.useRef(0);return be.useLayoutEffect(()=>{const x=m.current,w=S.split(" "),N=R=>{R.target===m.current&&(p(),x.removeEventListener("animationend",N),x.removeEventListener("animationcancel",N),L.current===0&&R.type!=="animationcancel"&&x.classList.remove(...w))};x.classList.add(...w),x.addEventListener("animationend",N),x.addEventListener("animationcancel",N)},[]),be.useEffect(()=>{const x=m.current,w=()=>{x.removeEventListener("animationend",w),i?DN(x,h,s):h()};y||(d?w():(L.current=1,x.className+=` ${_}`,x.addEventListener("animationend",w)))},[y]),Ge.createElement(Ge.Fragment,null,a)}}function c5(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const an=new Map;let fu=[];const j1=new Set,RN=e=>j1.forEach(t=>t(e)),zw=()=>an.size>0;function qw(e,t){var r;if(t)return!((r=an.get(t))==null||!r.isToastActive(e));let n=!1;return an.forEach(i=>{i.isToastActive(e)&&(n=!0)}),n}function Vw(e,t){N1(e)&&(zw()||fu.push({content:e,options:t}),an.forEach(r=>{r.buildToast(e,t)}))}function u5(e,t){an.forEach(r=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===r.id&&r.toggle(e,t==null?void 0:t.id):r.toggle(e,t==null?void 0:t.id)})}function MN(e){const{subscribe:t,getSnapshot:r,setProps:n}=be.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(h,m,y){let p=1,S=0,_=[],L=[],x=[],w=m;const N=new Map,R=new Set,W=()=>{x=Array.from(N.values()),R.forEach(E=>E())},X=E=>{L=E==null?[]:L.filter(Y=>Y!==E),W()},O=E=>{const{toastId:Y,onOpen:ne,updateId:T,children:I}=E.props,G=T==null;E.staleId&&N.delete(E.staleId),N.set(Y,E),L=[...L,E.props.toastId].filter(q=>q!==E.staleId),W(),y(c5(E,G?"added":"updated")),G&&On(ne)&&ne(be.isValidElement(I)&&I.props)};return{id:h,props:w,observe:E=>(R.add(E),()=>R.delete(E)),toggle:(E,Y)=>{N.forEach(ne=>{Y!=null&&Y!==ne.props.toastId||On(ne.toggle)&&ne.toggle(E)})},removeToast:X,toasts:N,clearQueue:()=>{S-=_.length,_=[]},buildToast:(E,Y)=>{if((A=>{let{containerId:M,toastId:$,updateId:K}=A;const Z=M?M!==h:h!==1,ce=N.has($)&&K==null;return Z||ce})(Y))return;const{toastId:ne,updateId:T,data:I,staleId:G,delay:q}=Y,fe=()=>{X(ne)},ue=T==null;ue&&S++;const he={...w,style:w.toastStyle,key:p++,...Object.fromEntries(Object.entries(Y).filter(A=>{let[M,$]=A;return $!=null})),toastId:ne,updateId:T,data:I,closeToast:fe,isIn:!1,className:sf(Y.className||w.toastClassName),bodyClassName:sf(Y.bodyClassName||w.bodyClassName),progressClassName:sf(Y.progressClassName||w.progressClassName),autoClose:!Y.isLoading&&(J=Y.autoClose,ie=w.autoClose,J===!1||du(J)&&J>0?J:ie),deleteToast(){const A=N.get(ne),{onClose:M,children:$}=A.props;On(M)&&M(be.isValidElement($)&&$.props),y(c5(A,"removed")),N.delete(ne),S--,S<0&&(S=0),_.length>0?O(_.shift()):W()}};var J,ie;he.closeButton=w.closeButton,Y.closeButton===!1||N1(Y.closeButton)?he.closeButton=Y.closeButton:Y.closeButton===!0&&(he.closeButton=!N1(w.closeButton)||w.closeButton);let ae=E;be.isValidElement(E)&&!Wo(E.type)?ae=be.cloneElement(E,{closeToast:fe,toastProps:he,data:I}):On(E)&&(ae=E({closeToast:fe,toastProps:he,data:I}));const Ae={content:ae,props:he,staleId:G};w.limit&&w.limit>0&&S>w.limit&&ue?_.push(Ae):du(q)?setTimeout(()=>{O(Ae)},q):O(Ae)},setProps(E){w=E},setToggle:(E,Y)=>{N.get(E).toggle=Y},isToastActive:E=>L.some(Y=>Y===E),getSnapshot:()=>x}}(o,s,RN);an.set(o,l);const d=l.observe(a);return fu.forEach(h=>Vw(h.content,h.options)),fu=[],()=>{d(),an.delete(o)}},setProps(a){var l;(l=an.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=an.get(o))==null?void 0:a.getSnapshot()}}}(e)).current;n(e);const i=be.useSyncExternalStore(t,r,r);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return e.newestOnTop&&i.reverse(),i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:qw,count:i==null?void 0:i.length}}function BN(e){const[t,r]=be.useState(!1),[n,i]=be.useState(!1),s=be.useRef(null),o=be.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:d,onClick:h,closeOnClick:m}=e;var y,p;function S(){r(!0)}function _(){r(!1)}function L(N){const R=s.current;o.canDrag&&R&&(o.didMove=!0,t&&_(),o.delta=e.draggableDirection==="x"?N.clientX-o.start:N.clientY-o.start,o.start!==N.clientX&&(o.canCloseOnClick=!1),R.style.transform=`translate3d(${e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,R.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function x(){document.removeEventListener("pointermove",L),document.removeEventListener("pointerup",x);const N=s.current;if(o.canDrag&&o.didMove&&N){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}(p=an.get((y={id:e.toastId,containerId:e.containerId,fn:r}).containerId||1))==null||p.setToggle(y.id,y.fn),be.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||_(),window.addEventListener("focus",S),window.addEventListener("blur",_),()=>{window.removeEventListener("focus",S),window.removeEventListener("blur",_)}},[e.pauseOnFocusLoss]);const w={onPointerDown:function(N){if(e.draggable===!0||e.draggable===N.pointerType){o.didMove=!1,document.addEventListener("pointermove",L),document.addEventListener("pointerup",x);const R=s.current;o.canCloseOnClick=!0,o.canDrag=!0,R.style.transition="none",e.draggableDirection==="x"?(o.start=N.clientX,o.removalDistance=R.offsetWidth*(e.draggablePercent/100)):(o.start=N.clientY,o.removalDistance=R.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(N){const{top:R,bottom:W,left:X,right:O}=s.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&e.pauseOnHover&&N.clientX>=X&&N.clientX<=O&&N.clientY>=R&&N.clientY<=W?_():S()}};return a&&l&&(w.onMouseEnter=_,e.stacked||(w.onMouseLeave=S)),m&&(w.onClick=N=>{h&&h(N),o.canCloseOnClick&&d()}),{playToast:S,pauseToast:_,isRunning:t,preventExitTransition:n,toastRef:s,eventHandlers:w}}function UN(e){let{delay:t,isRunning:r,closeToast:n,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:d,rtl:h,isIn:m,theme:y}=e;const p=s||l&&d===0,S={...a,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused"};l&&(S.transform=`scaleX(${d})`);const _=Zs("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),L=On(o)?o({rtl:h,type:i,defaultClassName:_}):Zs(_,o),x={[l&&d>=1?"onTransitionEnd":"onAnimationEnd"]:l&&d<1?null:()=>{m&&n()}};return Ge.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},Ge.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${i}`}),Ge.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:L,style:S,...x}))}let $N=1;const Ww=()=>""+$N++;function zN(e){return e&&(Wo(e.toastId)||du(e.toastId))?e.toastId:Ww()}function Uc(e,t){return Vw(e,t),t.toastId}function $f(e,t){return{...t,type:t&&t.type||e,toastId:zN(t)}}function Md(e){return(t,r)=>Uc(t,$f(e,r))}function Ke(e,t){return Uc(e,$f("default",t))}Ke.loading=(e,t)=>Uc(e,$f("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Ke.promise=function(e,t,r){let n,{pending:i,error:s,success:o}=t;i&&(n=Wo(i)?Ke.loading(i,r):Ke.loading(i.render,{...r,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,m,y)=>{if(m==null)return void Ke.dismiss(n);const p={type:h,...a,...r,data:y},S=Wo(m)?{render:m}:m;return n?Ke.update(n,{...p,...S}):Ke(S.render,{...p,...S}),y},d=On(e)?e():e;return d.then(h=>l("success",o,h)).catch(h=>l("error",s,h)),d},Ke.success=Md("success"),Ke.info=Md("info"),Ke.error=Md("error"),Ke.warning=Md("warning"),Ke.warn=Ke.warning,Ke.dark=(e,t)=>Uc(e,$f("default",{theme:"dark",...t})),Ke.dismiss=function(e){(function(t){var r;if(zw()){if(t==null||Wo(r=t)||du(r))an.forEach(n=>{n.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const n=an.get(t.containerId);n?n.removeToast(t.id):an.forEach(i=>{i.removeToast(t.id)})}}else fu=fu.filter(n=>t!=null&&n.options.toastId!==t)})(e)},Ke.clearWaitingQueue=function(e){e===void 0&&(e={}),an.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},Ke.isActive=qw,Ke.update=function(e,t){t===void 0&&(t={});const r=((n,i)=>{var s;let{containerId:o}=i;return(s=an.get(o||1))==null?void 0:s.toasts.get(n)})(e,t);if(r){const{props:n,content:i}=r,s={delay:100,...n,...t,toastId:t.toastId||e,updateId:Ww()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,Uc(o,s)}},Ke.done=e=>{Ke.update(e,{progress:1})},Ke.onChange=function(e){return j1.add(e),()=>{j1.delete(e)}},Ke.play=e=>u5(!0,e),Ke.pause=e=>u5(!1,e);const qN=typeof window<"u"?be.useLayoutEffect:be.useEffect,Bd=e=>{let{theme:t,type:r,isLoading:n,...i}=e;return Ge.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...i})},Jp={info:function(e){return Ge.createElement(Bd,{...e},Ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Ge.createElement(Bd,{...e},Ge.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Ge.createElement(Bd,{...e},Ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Ge.createElement(Bd,{...e},Ge.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ge.createElement("div",{className:"Toastify__spinner"})}},VN=e=>{const{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:i,playToast:s}=BN(e),{closeButton:o,children:a,autoClose:l,onClick:d,type:h,hideProgressBar:m,closeToast:y,transition:p,position:S,className:_,style:L,bodyClassName:x,bodyStyle:w,progressClassName:N,progressStyle:R,updateId:W,role:X,progress:O,rtl:E,toastId:Y,deleteToast:ne,isIn:T,isLoading:I,closeOnClick:G,theme:q}=e,fe=Zs("Toastify__toast",`Toastify__toast-theme--${q}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":G}),ue=On(_)?_({rtl:E,position:S,type:h,defaultClassName:fe}):Zs(fe,_),he=function(Ae){let{theme:A,type:M,isLoading:$,icon:K}=Ae,Z=null;const ce={theme:A,type:M};return K===!1||(On(K)?Z=K({...ce,isLoading:$}):be.isValidElement(K)?Z=be.cloneElement(K,ce):$?Z=Jp.spinner():(me=>me in Jp)(M)&&(Z=Jp[M](ce))),Z}(e),J=!!O||!l,ie={closeToast:y,type:h,theme:q};let ae=null;return o===!1||(ae=On(o)?o(ie):be.isValidElement(o)?be.cloneElement(o,ie):function(Ae){let{closeToast:A,theme:M,ariaLabel:$="close"}=Ae;return Ge.createElement("button",{className:`Toastify__close-button Toastify__close-button--${M}`,type:"button",onClick:K=>{K.stopPropagation(),A(K)},"aria-label":$},Ge.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ge.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(ie)),Ge.createElement(p,{isIn:T,done:ne,position:S,preventExitTransition:r,nodeRef:n,playToast:s},Ge.createElement("div",{id:Y,onClick:d,"data-in":T,className:ue,...i,style:L,ref:n},Ge.createElement("div",{...T&&{role:X},className:On(x)?x({type:h}):Zs("Toastify__toast-body",x),style:w},he!=null&&Ge.createElement("div",{className:Zs("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},he),Ge.createElement("div",null,a)),ae,Ge.createElement(UN,{...W&&!J?{key:`pb-${W}`}:{},rtl:E,theme:q,delay:l,isRunning:t,isIn:T,closeToast:y,hide:m,type:h,style:R,className:N,controlledProgress:J,progress:O||0})))},_h=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},WN=bh(_h("bounce",!0));bh(_h("slide",!0));bh(_h("zoom"));bh(_h("flip"));const HN={position:"top-right",transition:WN,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function GN(e){let t={...HN,...e};const r=e.stacked,[n,i]=be.useState(!0),s=be.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=MN(t),{className:d,style:h,rtl:m,containerId:y}=t;function p(_){const L=Zs("Toastify__toast-container",`Toastify__toast-container--${_}`,{"Toastify__toast-container--rtl":m});return On(d)?d({position:_,rtl:m,defaultClassName:L}):Zs(L,sf(d))}function S(){r&&(i(!0),Ke.play())}return qN(()=>{if(r){var _;const L=s.current.querySelectorAll('[data-in="true"]'),x=12,w=(_=t.position)==null?void 0:_.includes("top");let N=0,R=0;Array.from(L).reverse().forEach((W,X)=>{const O=W;O.classList.add("Toastify__toast--stacked"),X>0&&(O.dataset.collapsed=`${n}`),O.dataset.pos||(O.dataset.pos=w?"top":"bot");const E=N*(n?.2:1)+(n?0:x*X);O.style.setProperty("--y",`${w?E:-1*E}px`),O.style.setProperty("--g",`${x}`),O.style.setProperty("--s",""+(1-(n?R:0))),N+=O.offsetHeight,R+=.025})}},[n,l,r]),Ge.createElement("div",{ref:s,className:"Toastify",id:y,onMouseEnter:()=>{r&&(i(!1),Ke.pause())},onMouseLeave:S},o((_,L)=>{const x=L.length?{...h}:{...h,pointerEvents:"none"};return Ge.createElement("div",{className:p(_),style:x,key:`container-${_}`},L.map(w=>{let{content:N,props:R}=w;return Ge.createElement(VN,{...R,stacked:r,collapseAll:S,isIn:a(R.toastId,R.containerId),style:R.style,key:`toast-${R.key}`},N)}))}))}const JN=()=>f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(ON,{}),f.jsx("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:f.jsx(A_,{})}),f.jsx(GN,{position:"top-right",autoClose:5e3})]});var ju=e=>e.type==="checkbox",zo=e=>e instanceof Date,on=e=>e==null;const Hw=e=>typeof e=="object";var dr=e=>!on(e)&&!Array.isArray(e)&&Hw(e)&&!zo(e),KN=e=>dr(e)&&e.target?ju(e.target)?e.target.checked:e.target.value:e,XN=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,YN=(e,t)=>e.has(XN(t)),QN=e=>{const t=e.constructor&&e.constructor.prototype;return dr(t)&&t.hasOwnProperty("isPrototypeOf")},Wm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Wm&&(e instanceof Blob||n))&&(r||dr(e)))if(t=r?[]:{},!r&&!QN(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Rr(e[i]));else return e;return t}var ku=e=>Array.isArray(e)?e.filter(Boolean):[],Vt=e=>e===void 0,qe=(e,t,r)=>{if(!t||!dr(e))return r;const n=ku(t.split(/[,[\].]+?/)).reduce((i,s)=>on(i)?i:i[s],e);return Vt(n)||n===e?Vt(e[t])?r:e[t]:n},$i=e=>typeof e=="boolean",Hm=e=>/^\w*$/.test(e),Gw=e=>ku(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ft=(e,t,r)=>{let n=-1;const i=Hm(t)?[t]:Gw(t),s=i.length,o=s-1;for(;++n<s;){const a=i[n];let l=r;if(n!==o){const d=e[a];l=dr(d)||Array.isArray(d)?d:isNaN(+i[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}return e};const d5={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Qn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ls={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZN=Ge.createContext(null),ej=()=>Ge.useContext(ZN);var tj=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Qn.all&&(t._proxyFormState[o]=!n||Qn.all),e[o]}});return i},nn=e=>dr(e)&&!Object.keys(e).length,rj=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return nn(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===Qn.all)},Dn=e=>Array.isArray(e)?e:[e];function Jw(e){const t=Ge.useRef(e);t.current=e,Ge.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}var Vi=e=>typeof e=="string",nj=(e,t,r,n,i)=>Vi(e)?(n&&t.watch.add(e),qe(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),qe(r,s))):(n&&(t.watchAll=!0),r),ij=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Ms=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Kp=(e,t,r={})=>r.shouldFocus||Vt(r.shouldFocus)?r.focusName||`${e}.${Vt(r.focusIndex)?t:r.focusIndex}.`:"",$c=e=>({isOnSubmit:!e||e===Qn.onSubmit,isOnBlur:e===Qn.onBlur,isOnChange:e===Qn.onChange,isOnAll:e===Qn.all,isOnTouch:e===Qn.onTouched}),k1=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const fl=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=qe(e,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(fl(a,t))break}else if(dr(a)&&fl(a,t))break}}};var Kw=(e,t,r)=>{const n=Dn(qe(e,r));return Ft(n,"root",t[r]),Ft(e,r,n),e},Gm=e=>e.type==="file",qi=e=>typeof e=="function",zf=e=>{if(!Wm)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},of=e=>Vi(e),Jm=e=>e.type==="radio",qf=e=>e instanceof RegExp;const f5={value:!1,isValid:!1},h5={value:!0,isValid:!0};var Xw=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vt(e[0].attributes.value)?Vt(e[0].value)||e[0].value===""?h5:{value:e[0].value,isValid:!0}:h5:f5}return f5};const p5={isValid:!1,value:null};var Yw=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,p5):p5;function m5(e,t,r="validate"){if(of(e)||Array.isArray(e)&&e.every(of)||$i(e)&&!e)return{type:r,message:of(e)?e:"",ref:t}}var Ba=e=>dr(e)&&!qf(e)?e:{value:e,message:""},A1=async(e,t,r,n,i,s)=>{const{ref:o,refs:a,required:l,maxLength:d,minLength:h,min:m,max:y,pattern:p,validate:S,name:_,valueAsNumber:L,mount:x}=e._f,w=qe(r,_);if(!x||t.has(_))return{};const N=a?a[0]:o,R=I=>{i&&N.reportValidity&&(N.setCustomValidity($i(I)?"":I||""),N.reportValidity())},W={},X=Jm(o),O=ju(o),E=X||O,Y=(L||Gm(o))&&Vt(o.value)&&Vt(w)||zf(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,ne=ij.bind(null,_,n,W),T=(I,G,q,fe=ls.maxLength,ue=ls.minLength)=>{const he=I?G:q;W[_]={type:I?fe:ue,message:he,ref:o,...ne(I?fe:ue,he)}};if(s?!Array.isArray(w)||!w.length:l&&(!E&&(Y||on(w))||$i(w)&&!w||O&&!Xw(a).isValid||X&&!Yw(a).isValid)){const{value:I,message:G}=of(l)?{value:!!l,message:l}:Ba(l);if(I&&(W[_]={type:ls.required,message:G,ref:N,...ne(ls.required,G)},!n))return R(G),W}if(!Y&&(!on(m)||!on(y))){let I,G;const q=Ba(y),fe=Ba(m);if(!on(w)&&!isNaN(w)){const ue=o.valueAsNumber||w&&+w;on(q.value)||(I=ue>q.value),on(fe.value)||(G=ue<fe.value)}else{const ue=o.valueAsDate||new Date(w),he=ae=>new Date(new Date().toDateString()+" "+ae),J=o.type=="time",ie=o.type=="week";Vi(q.value)&&w&&(I=J?he(w)>he(q.value):ie?w>q.value:ue>new Date(q.value)),Vi(fe.value)&&w&&(G=J?he(w)<he(fe.value):ie?w<fe.value:ue<new Date(fe.value))}if((I||G)&&(T(!!I,q.message,fe.message,ls.max,ls.min),!n))return R(W[_].message),W}if((d||h)&&!Y&&(Vi(w)||s&&Array.isArray(w))){const I=Ba(d),G=Ba(h),q=!on(I.value)&&w.length>+I.value,fe=!on(G.value)&&w.length<+G.value;if((q||fe)&&(T(q,I.message,G.message),!n))return R(W[_].message),W}if(p&&!Y&&Vi(w)){const{value:I,message:G}=Ba(p);if(qf(I)&&!w.match(I)&&(W[_]={type:ls.pattern,message:G,ref:o,...ne(ls.pattern,G)},!n))return R(G),W}if(S){if(qi(S)){const I=await S(w,r),G=m5(I,N);if(G&&(W[_]={...G,...ne(ls.validate,G.message)},!n))return R(G.message),W}else if(dr(S)){let I={};for(const G in S){if(!nn(I)&&!n)break;const q=m5(await S[G](w,r),N,G);q&&(I={...q,...ne(G,q.message)},R(q.message),n&&(W[_]=I))}if(!nn(I)&&(W[_]={ref:N,...I},!n))return W}}return R(!0),W},Xp=(e,t)=>[...e,...Dn(t)],Yp=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Qp(e,t,r){return[...e.slice(0,t),...Dn(r),...e.slice(t)]}var Zp=(e,t,r)=>Array.isArray(e)?(Vt(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],e0=(e,t)=>[...Dn(t),...Dn(e)];function sj(e,t){let r=0;const n=[...e];for(const i of t)n.splice(i-r,1),r++;return ku(n).length?n:[]}var t0=(e,t)=>Vt(t)?[]:sj(e,Dn(t).sort((r,n)=>r-n)),r0=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]};function oj(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Vt(e)?n++:e[t[n++]];return e}function aj(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vt(e[t]))return!1;return!0}function gr(e,t){const r=Array.isArray(t)?t:Hm(t)?[t]:Gw(t),n=r.length===1?e:oj(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(dr(n)&&nn(n)||Array.isArray(n)&&aj(n))&&gr(e,r.slice(0,-1)),e}var g5=(e,t,r)=>(e[t]=r,e);function Km(e){const t=ej(),{control:r=t.control,name:n,keyName:i="id",shouldUnregister:s,rules:o}=e,[a,l]=Ge.useState(r._getFieldArray(n)),d=Ge.useRef(r._getFieldArray(n).map(Ms)),h=Ge.useRef(a),m=Ge.useRef(n),y=Ge.useRef(!1);m.current=n,h.current=a,r._names.array.add(n),o&&r.register(n,o),Jw({next:({values:X,name:O})=>{if(O===m.current||!O){const E=qe(X,m.current);Array.isArray(E)&&(l(E),d.current=E.map(Ms))}},subject:r._subjects.array});const p=Ge.useCallback(X=>{y.current=!0,r._updateFieldArray(n,X)},[r,n]),S=(X,O)=>{const E=Dn(Rr(X)),Y=Xp(r._getFieldArray(n),E);r._names.focus=Kp(n,Y.length-1,O),d.current=Xp(d.current,E.map(Ms)),p(Y),l(Y),r._updateFieldArray(n,Y,Xp,{argA:Yp(X)})},_=(X,O)=>{const E=Dn(Rr(X)),Y=e0(r._getFieldArray(n),E);r._names.focus=Kp(n,0,O),d.current=e0(d.current,E.map(Ms)),p(Y),l(Y),r._updateFieldArray(n,Y,e0,{argA:Yp(X)})},L=X=>{const O=t0(r._getFieldArray(n),X);d.current=t0(d.current,X),p(O),l(O),!Array.isArray(qe(r._fields,n))&&Ft(r._fields,n,void 0),r._updateFieldArray(n,O,t0,{argA:X})},x=(X,O,E)=>{const Y=Dn(Rr(O)),ne=Qp(r._getFieldArray(n),X,Y);r._names.focus=Kp(n,X,E),d.current=Qp(d.current,X,Y.map(Ms)),p(ne),l(ne),r._updateFieldArray(n,ne,Qp,{argA:X,argB:Yp(O)})},w=(X,O)=>{const E=r._getFieldArray(n);r0(E,X,O),r0(d.current,X,O),p(E),l(E),r._updateFieldArray(n,E,r0,{argA:X,argB:O},!1)},N=(X,O)=>{const E=r._getFieldArray(n);Zp(E,X,O),Zp(d.current,X,O),p(E),l(E),r._updateFieldArray(n,E,Zp,{argA:X,argB:O},!1)},R=(X,O)=>{const E=Rr(O),Y=g5(r._getFieldArray(n),X,E);d.current=[...Y].map((ne,T)=>!ne||T===X?Ms():d.current[T]),p(Y),l([...Y]),r._updateFieldArray(n,Y,g5,{argA:X,argB:E},!0,!1)},W=X=>{const O=Dn(Rr(X));d.current=O.map(Ms),p([...O]),l([...O]),r._updateFieldArray(n,[...O],E=>E,{},!0,!1)};return Ge.useEffect(()=>{if(r._state.action=!1,k1(n,r._names)&&r._subjects.state.next({...r._formState}),y.current&&(!$c(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then(X=>{const O=qe(X.errors,n),E=qe(r._formState.errors,n);(E?!O&&E.type||O&&(E.type!==O.type||E.message!==O.message):O&&O.type)&&(O?Ft(r._formState.errors,n,O):gr(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const X=qe(r._fields,n);X&&X._f&&!($c(r._options.reValidateMode).isOnSubmit&&$c(r._options.mode).isOnSubmit)&&A1(X,r._names.disabled,r._formValues,r._options.criteriaMode===Qn.all,r._options.shouldUseNativeValidation,!0).then(O=>!nn(O)&&r._subjects.state.next({errors:Kw(r._formState.errors,O,n)}))}r._subjects.values.next({name:n,values:{...r._formValues}}),r._names.focus&&fl(r._fields,(X,O)=>{if(r._names.focus&&O.startsWith(r._names.focus)&&X.focus)return X.focus(),1}),r._names.focus="",r._updateValid(),y.current=!1},[a,n,r]),Ge.useEffect(()=>(!qe(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||s)&&r.unregister(n)}),[n,r,i,s]),{swap:Ge.useCallback(w,[p,n,r]),move:Ge.useCallback(N,[p,n,r]),prepend:Ge.useCallback(_,[p,n,r]),append:Ge.useCallback(S,[p,n,r]),remove:Ge.useCallback(L,[p,n,r]),insert:Ge.useCallback(x,[p,n,r]),update:Ge.useCallback(R,[p,n,r]),replace:Ge.useCallback(W,[p,n,r]),fields:Ge.useMemo(()=>a.map((X,O)=>({...X,[i]:d.current[O]||Ms()})),[a,i])}}var n0=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},L1=e=>on(e)||!Hw(e);function Ks(e,t){if(L1(e)||L1(t))return e===t;if(zo(e)&&zo(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(zo(s)&&zo(o)||dr(s)&&dr(o)||Array.isArray(s)&&Array.isArray(o)?!Ks(s,o):s!==o)return!1}}return!0}var Qw=e=>e.type==="select-multiple",lj=e=>Jm(e)||ju(e),i0=e=>zf(e)&&e.isConnected,Zw=e=>{for(const t in e)if(qi(e[t]))return!0;return!1};function Vf(e,t={}){const r=Array.isArray(e);if(dr(e)||r)for(const n in e)Array.isArray(e[n])||dr(e[n])&&!Zw(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Vf(e[n],t[n])):on(e[n])||(t[n]=!0);return t}function ex(e,t,r){const n=Array.isArray(e);if(dr(e)||n)for(const i in e)Array.isArray(e[i])||dr(e[i])&&!Zw(e[i])?Vt(t)||L1(r[i])?r[i]=Array.isArray(e[i])?Vf(e[i],[]):{...Vf(e[i])}:ex(e[i],on(t)?{}:t[i],r[i]):r[i]=!Ks(e[i],t[i]);return r}var xc=(e,t)=>ex(e,t,Vf(t)),tx=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Vt(e)?e:t?e===""?NaN:e&&+e:r&&Vi(e)?new Date(e):n?n(e):e;function s0(e){const t=e.ref;return Gm(t)?t.files:Jm(t)?Yw(e.refs).value:Qw(t)?[...t.selectedOptions].map(({value:r})=>r):ju(t)?Xw(e.refs).value:tx(Vt(t.value)?e.ref.value:t.value,e)}var cj=(e,t,r,n)=>{const i={};for(const s of e){const o=qe(t,s);o&&Ft(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},bc=e=>Vt(e)?e:qf(e)?e.source:dr(e)?qf(e.value)?e.value.source:e.value:e;const v5="AsyncFunction";var uj=e=>!!e&&!!e.validate&&!!(qi(e.validate)&&e.validate.constructor.name===v5||dr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===v5)),dj=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function y5(e,t,r){const n=qe(e,r);if(n||Hm(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=qe(t,s),a=qe(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:r}}var fj=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,hj=(e,t)=>!ku(qe(e,t)).length&&gr(e,t);const pj={mode:Qn.onSubmit,reValidateMode:Qn.onChange,shouldFocusError:!0};function mj(e={}){let t={...pj,...e},r={submitCount:0,isDirty:!1,isLoading:qi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=dr(t.defaultValues)||dr(t.values)?Rr(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:Rr(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:n0(),array:n0(),state:n0()},y=$c(t.mode),p=$c(t.reValidateMode),S=t.criteriaMode===Qn.all,_=B=>H=>{clearTimeout(d),d=setTimeout(B,H)},L=async B=>{if(!t.disabled&&(h.isValid||B)){const H=t.resolver?nn((await E()).errors):await ne(n,!0);H!==r.isValid&&m.state.next({isValid:H})}},x=(B,H)=>{!t.disabled&&(h.isValidating||h.validatingFields)&&((B||Array.from(a.mount)).forEach(Q=>{Q&&(H?Ft(r.validatingFields,Q,H):gr(r.validatingFields,Q))}),m.state.next({validatingFields:r.validatingFields,isValidating:!nn(r.validatingFields)}))},w=(B,H=[],Q,we,pe=!0,xe=!0)=>{if(we&&Q&&!t.disabled){if(o.action=!0,xe&&Array.isArray(qe(n,B))){const Ie=Q(qe(n,B),we.argA,we.argB);pe&&Ft(n,B,Ie)}if(xe&&Array.isArray(qe(r.errors,B))){const Ie=Q(qe(r.errors,B),we.argA,we.argB);pe&&Ft(r.errors,B,Ie),hj(r.errors,B)}if(h.touchedFields&&xe&&Array.isArray(qe(r.touchedFields,B))){const Ie=Q(qe(r.touchedFields,B),we.argA,we.argB);pe&&Ft(r.touchedFields,B,Ie)}h.dirtyFields&&(r.dirtyFields=xc(i,s)),m.state.next({name:B,isDirty:I(B,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ft(s,B,H)},N=(B,H)=>{Ft(r.errors,B,H),m.state.next({errors:r.errors})},R=B=>{r.errors=B,m.state.next({errors:r.errors,isValid:!1})},W=(B,H,Q,we)=>{const pe=qe(n,B);if(pe){const xe=qe(s,B,Vt(Q)?qe(i,B):Q);Vt(xe)||we&&we.defaultChecked||H?Ft(s,B,H?xe:s0(pe._f)):fe(B,xe),o.mount&&L()}},X=(B,H,Q,we,pe)=>{let xe=!1,Ie=!1;const De={name:B};if(!t.disabled){const Je=!!(qe(n,B)&&qe(n,B)._f&&qe(n,B)._f.disabled);if(!Q||we){h.isDirty&&(Ie=r.isDirty,r.isDirty=De.isDirty=I(),xe=Ie!==De.isDirty);const Ye=Je||Ks(qe(i,B),H);Ie=!!(!Je&&qe(r.dirtyFields,B)),Ye||Je?gr(r.dirtyFields,B):Ft(r.dirtyFields,B,!0),De.dirtyFields=r.dirtyFields,xe=xe||h.dirtyFields&&Ie!==!Ye}if(Q){const Ye=qe(r.touchedFields,B);Ye||(Ft(r.touchedFields,B,Q),De.touchedFields=r.touchedFields,xe=xe||h.touchedFields&&Ye!==Q)}xe&&pe&&m.state.next(De)}return xe?De:{}},O=(B,H,Q,we)=>{const pe=qe(r.errors,B),xe=h.isValid&&$i(H)&&r.isValid!==H;if(t.delayError&&Q?(l=_(()=>N(B,Q)),l(t.delayError)):(clearTimeout(d),l=null,Q?Ft(r.errors,B,Q):gr(r.errors,B)),(Q?!Ks(pe,Q):pe)||!nn(we)||xe){const Ie={...we,...xe&&$i(H)?{isValid:H}:{},errors:r.errors,name:B};r={...r,...Ie},m.state.next(Ie)}},E=async B=>{x(B,!0);const H=await t.resolver(s,t.context,cj(B||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(B),H},Y=async B=>{const{errors:H}=await E(B);if(B)for(const Q of B){const we=qe(H,Q);we?Ft(r.errors,Q,we):gr(r.errors,Q)}else r.errors=H;return H},ne=async(B,H,Q={valid:!0})=>{for(const we in B){const pe=B[we];if(pe){const{_f:xe,...Ie}=pe;if(xe){const De=a.array.has(xe.name),Je=pe._f&&uj(pe._f);Je&&h.validatingFields&&x([we],!0);const Ye=await A1(pe,a.disabled,s,S,t.shouldUseNativeValidation&&!H,De);if(Je&&h.validatingFields&&x([we]),Ye[xe.name]&&(Q.valid=!1,H))break;!H&&(qe(Ye,xe.name)?De?Kw(r.errors,Ye,xe.name):Ft(r.errors,xe.name,Ye[xe.name]):gr(r.errors,xe.name))}!nn(Ie)&&await ne(Ie,H,Q)}}return Q.valid},T=()=>{for(const B of a.unMount){const H=qe(n,B);H&&(H._f.refs?H._f.refs.every(Q=>!i0(Q)):!i0(H._f.ref))&&Z(B)}a.unMount=new Set},I=(B,H)=>!t.disabled&&(B&&H&&Ft(s,B,H),!Ks(Ae(),i)),G=(B,H,Q)=>nj(B,a,{...o.mount?s:Vt(H)?i:Vi(B)?{[B]:H}:H},Q,H),q=B=>ku(qe(o.mount?s:i,B,t.shouldUnregister?qe(i,B,[]):[])),fe=(B,H,Q={})=>{const we=qe(n,B);let pe=H;if(we){const xe=we._f;xe&&(!xe.disabled&&Ft(s,B,tx(H,xe)),pe=zf(xe.ref)&&on(H)?"":H,Qw(xe.ref)?[...xe.ref.options].forEach(Ie=>Ie.selected=pe.includes(Ie.value)):xe.refs?ju(xe.ref)?xe.refs.length>1?xe.refs.forEach(Ie=>(!Ie.defaultChecked||!Ie.disabled)&&(Ie.checked=Array.isArray(pe)?!!pe.find(De=>De===Ie.value):pe===Ie.value)):xe.refs[0]&&(xe.refs[0].checked=!!pe):xe.refs.forEach(Ie=>Ie.checked=Ie.value===pe):Gm(xe.ref)?xe.ref.value="":(xe.ref.value=pe,xe.ref.type||m.values.next({name:B,values:{...s}})))}(Q.shouldDirty||Q.shouldTouch)&&X(B,pe,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&ae(B)},ue=(B,H,Q)=>{for(const we in H){const pe=H[we],xe=`${B}.${we}`,Ie=qe(n,xe);(a.array.has(B)||dr(pe)||Ie&&!Ie._f)&&!zo(pe)?ue(xe,pe,Q):fe(xe,pe,Q)}},he=(B,H,Q={})=>{const we=qe(n,B),pe=a.array.has(B),xe=Rr(H);Ft(s,B,xe),pe?(m.array.next({name:B,values:{...s}}),(h.isDirty||h.dirtyFields)&&Q.shouldDirty&&m.state.next({name:B,dirtyFields:xc(i,s),isDirty:I(B,xe)})):we&&!we._f&&!on(xe)?ue(B,xe,Q):fe(B,xe,Q),k1(B,a)&&m.state.next({...r}),m.values.next({name:o.mount?B:void 0,values:{...s}})},J=async B=>{o.mount=!0;const H=B.target;let Q=H.name,we=!0;const pe=qe(n,Q),xe=()=>H.type?s0(pe._f):KN(B),Ie=De=>{we=Number.isNaN(De)||zo(De)&&isNaN(De.getTime())||Ks(De,qe(s,Q,De))};if(pe){let De,Je;const Ye=xe(),pt=B.type===d5.BLUR||B.type===d5.FOCUS_OUT,et=!dj(pe._f)&&!t.resolver&&!qe(r.errors,Q)&&!pe._f.deps||fj(pt,qe(r.touchedFields,Q),r.isSubmitted,p,y),dt=k1(Q,a,pt);Ft(s,Q,Ye),pt?(pe._f.onBlur&&pe._f.onBlur(B),l&&l(0)):pe._f.onChange&&pe._f.onChange(B);const Be=X(Q,Ye,pt,!1),Sr=!nn(Be)||dt;if(!pt&&m.values.next({name:Q,type:B.type,values:{...s}}),et)return h.isValid&&(t.mode==="onBlur"&&pt?L():pt||L()),Sr&&m.state.next({name:Q,...dt?{}:Be});if(!pt&&dt&&m.state.next({...r}),t.resolver){const{errors:vt}=await E([Q]);if(Ie(Ye),we){const jn=y5(r.errors,n,Q),St=y5(vt,n,jn.name||Q);De=St.error,Q=St.name,Je=nn(vt)}}else x([Q],!0),De=(await A1(pe,a.disabled,s,S,t.shouldUseNativeValidation))[Q],x([Q]),Ie(Ye),we&&(De?Je=!1:h.isValid&&(Je=await ne(n,!0)));we&&(pe._f.deps&&ae(pe._f.deps),O(Q,Je,De,Be))}},ie=(B,H)=>{if(qe(r.errors,H)&&B.focus)return B.focus(),1},ae=async(B,H={})=>{let Q,we;const pe=Dn(B);if(t.resolver){const xe=await Y(Vt(B)?B:pe);Q=nn(xe),we=B?!pe.some(Ie=>qe(xe,Ie)):Q}else B?(we=(await Promise.all(pe.map(async xe=>{const Ie=qe(n,xe);return await ne(Ie&&Ie._f?{[xe]:Ie}:Ie)}))).every(Boolean),!(!we&&!r.isValid)&&L()):we=Q=await ne(n);return m.state.next({...!Vi(B)||h.isValid&&Q!==r.isValid?{}:{name:B},...t.resolver||!B?{isValid:Q}:{},errors:r.errors}),H.shouldFocus&&!we&&fl(n,ie,B?pe:a.mount),we},Ae=B=>{const H={...o.mount?s:i};return Vt(B)?H:Vi(B)?qe(H,B):B.map(Q=>qe(H,Q))},A=(B,H)=>({invalid:!!qe((H||r).errors,B),isDirty:!!qe((H||r).dirtyFields,B),error:qe((H||r).errors,B),isValidating:!!qe(r.validatingFields,B),isTouched:!!qe((H||r).touchedFields,B)}),M=B=>{B&&Dn(B).forEach(H=>gr(r.errors,H)),m.state.next({errors:B?r.errors:{}})},$=(B,H,Q)=>{const we=(qe(n,B,{_f:{}})._f||{}).ref,pe=qe(r.errors,B)||{},{ref:xe,message:Ie,type:De,...Je}=pe;Ft(r.errors,B,{...Je,...H,ref:we}),m.state.next({name:B,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&we&&we.focus&&we.focus()},K=(B,H)=>qi(B)?m.values.subscribe({next:Q=>B(G(void 0,H),Q)}):G(B,H,!0),Z=(B,H={})=>{for(const Q of B?Dn(B):a.mount)a.mount.delete(Q),a.array.delete(Q),H.keepValue||(gr(n,Q),gr(s,Q)),!H.keepError&&gr(r.errors,Q),!H.keepDirty&&gr(r.dirtyFields,Q),!H.keepTouched&&gr(r.touchedFields,Q),!H.keepIsValidating&&gr(r.validatingFields,Q),!t.shouldUnregister&&!H.keepDefaultValue&&gr(i,Q);m.values.next({values:{...s}}),m.state.next({...r,...H.keepDirty?{isDirty:I()}:{}}),!H.keepIsValid&&L()},ce=({disabled:B,name:H,field:Q,fields:we})=>{($i(B)&&o.mount||B||a.disabled.has(H))&&(B?a.disabled.add(H):a.disabled.delete(H),X(H,s0(Q?Q._f:qe(we,H)._f),!1,!1,!0))},me=(B,H={})=>{let Q=qe(n,B);const we=$i(H.disabled)||$i(t.disabled);return Ft(n,B,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:B}},name:B,mount:!0,...H}}),a.mount.add(B),Q?ce({field:Q,disabled:$i(H.disabled)?H.disabled:t.disabled,name:B}):W(B,!0,H.value),{...we?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:bc(H.min),max:bc(H.max),minLength:bc(H.minLength),maxLength:bc(H.maxLength),pattern:bc(H.pattern)}:{},name:B,onChange:J,onBlur:J,ref:pe=>{if(pe){me(B,H),Q=qe(n,B);const xe=Vt(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,Ie=lj(xe),De=Q._f.refs||[];if(Ie?De.find(Je=>Je===xe):xe===Q._f.ref)return;Ft(n,B,{_f:{...Q._f,...Ie?{refs:[...De.filter(i0),xe,...Array.isArray(qe(i,B))?[{}]:[]],ref:{type:xe.type,name:B}}:{ref:xe}}}),W(B,!1,void 0,xe)}else Q=qe(n,B,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(YN(a.array,B)&&o.action)&&a.unMount.add(B)}}},le=()=>t.shouldFocusError&&fl(n,ie,a.mount),Ce=B=>{$i(B)&&(m.state.next({disabled:B}),fl(n,(H,Q)=>{const we=qe(n,Q);we&&(H.disabled=we._f.disabled||B,Array.isArray(we._f.refs)&&we._f.refs.forEach(pe=>{pe.disabled=we._f.disabled||B}))},0,!1))},ge=(B,H)=>async Q=>{let we;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let pe=Rr(s);if(a.disabled.size)for(const xe of a.disabled)Ft(pe,xe,void 0);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:xe,values:Ie}=await E();r.errors=xe,pe=Ie}else await ne(n);if(gr(r.errors,"root"),nn(r.errors)){m.state.next({errors:{}});try{await B(pe,Q)}catch(xe){we=xe}}else H&&await H({...r.errors},Q),le(),setTimeout(le);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:nn(r.errors)&&!we,submitCount:r.submitCount+1,errors:r.errors}),we)throw we},je=(B,H={})=>{qe(n,B)&&(Vt(H.defaultValue)?he(B,Rr(qe(i,B))):(he(B,H.defaultValue),Ft(i,B,Rr(H.defaultValue))),H.keepTouched||gr(r.touchedFields,B),H.keepDirty||(gr(r.dirtyFields,B),r.isDirty=H.defaultValue?I(B,Rr(qe(i,B))):I()),H.keepError||(gr(r.errors,B),h.isValid&&L()),m.state.next({...r}))},Te=(B,H={})=>{const Q=B?Rr(B):i,we=Rr(Q),pe=nn(B),xe=pe?i:we;if(H.keepDefaultValues||(i=Q),!H.keepValues){if(H.keepDirtyValues){const Ie=new Set([...a.mount,...Object.keys(xc(i,s))]);for(const De of Array.from(Ie))qe(r.dirtyFields,De)?Ft(xe,De,qe(s,De)):he(De,qe(xe,De))}else{if(Wm&&Vt(B))for(const Ie of a.mount){const De=qe(n,Ie);if(De&&De._f){const Je=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(zf(Je)){const Ye=Je.closest("form");if(Ye){Ye.reset();break}}}}n={}}s=t.shouldUnregister?H.keepDefaultValues?Rr(i):{}:Rr(xe),m.array.next({values:{...xe}}),m.values.next({values:{...xe}})}a={mount:H.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!H.keepIsValid||!!H.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!Ks(B,i)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:H.keepDirtyValues?H.keepDefaultValues&&s?xc(i,s):r.dirtyFields:H.keepDefaultValues&&B?xc(i,B):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Re=(B,H)=>Te(qi(B)?B(s):B,H);return{control:{register:me,unregister:Z,getFieldState:A,handleSubmit:ge,setError:$,_executeSchema:E,_getWatch:G,_getDirty:I,_updateValid:L,_removeUnmounted:T,_updateFieldArray:w,_updateDisabledField:ce,_getFieldArray:q,_reset:Te,_resetDefaultValues:()=>qi(t.defaultValues)&&t.defaultValues().then(B=>{Re(B,t.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:B=>{r={...r,...B}},_disableForm:Ce,_subjects:m,_proxyFormState:h,_setErrors:R,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(B){o=B},get _defaultValues(){return i},get _names(){return a},set _names(B){a=B},get _formState(){return r},set _formState(B){r=B},get _options(){return t},set _options(B){t={...t,...B}}},trigger:ae,register:me,handleSubmit:ge,watch:K,setValue:he,getValues:Ae,reset:Re,resetField:je,clearErrors:M,unregister:Z,setError:$,setFocus:(B,H={})=>{const Q=qe(n,B),we=Q&&Q._f;if(we){const pe=we.refs?we.refs[0]:we.ref;pe.focus&&(pe.focus(),H.shouldSelect&&qi(pe.select)&&pe.select())}},getFieldState:A}}function ia(e={}){const t=Ge.useRef(void 0),r=Ge.useRef(void 0),[n,i]=Ge.useState({isDirty:!1,isValidating:!1,isLoading:qi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:qi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...mj(e),formState:n});const s=t.current.control;return s._options=e,Jw({subject:s._subjects.state,next:o=>{rj(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),Ge.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Ge.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),Ge.useEffect(()=>{e.values&&!Ks(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[e.values,s]),Ge.useEffect(()=>{e.errors&&s._setErrors(e.errors)},[e.errors,s]),Ge.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Ge.useEffect(()=>{e.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=tj(n,s),t.current}const lt=be.forwardRef(({label:e,error:t,fullWidth:r=!1,leftIcon:n,rightIcon:i,className:s="",placeholder:o,type:a="text",min:l,step:d,...h},m)=>{const y=`
      block rounded-md border border-gray-400 
      focus:border-blue-500 focus:ring-blue-500 focus:outline-none
      disabled:cursor-not-allowed disabled:bg-gray-100 disabled:text-gray-500
      ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
      ${n?"pl-10":""}
      ${i?"pr-10":""}
      ${r?"w-full":""}
      ${s}
    `;return f.jsxs("div",{className:`${r?"w-full":""}`,children:[e&&f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),f.jsxs("div",{className:"relative",children:[n&&f.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-gray-500",children:n}),f.jsx("input",{ref:m,className:y,...h,placeholder:o,type:a,min:l,step:d}),i&&f.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-500",children:i})]}),t&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})});lt.displayName="Input";const Et=({children:e,title:t,subtitle:r,footer:n,className:i=""})=>f.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden ${i}`,children:[(t||r)&&f.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[t&&f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t}),r&&f.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r})]}),f.jsx("div",{className:"px-6 py-4",children:e}),n&&f.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:n})]}),gj=()=>{var l,d;const[e,t]=be.useState(!1),{login:r}=Mr(),n=Zr(),{register:i,handleSubmit:s,formState:{errors:o}}=ia(),a=async h=>{try{t(!0),await r(h.email,h.password),Ke.success("Inicio de sesin exitoso"),n("/dashboard")}catch(m){Ke.error(m.message||"Error al iniciar sesin")}finally{t(!1)}};return f.jsxs(Et,{className:"w-full max-w-md mx-auto",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Iniciar Sesin"}),f.jsx("p",{className:"text-gray-600 mt-2",children:"Ingresa tus credenciales para acceder"})]}),f.jsxs("form",{onSubmit:s(a),className:"space-y-4",children:[f.jsx(lt,{label:"Correo Electrnico",type:"email",fullWidth:!0,leftIcon:f.jsx(Uw,{size:18}),error:(l=o.email)==null?void 0:l.message,...i("email",{required:"El correo electrnico es obligatorio",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Correo electrnico invlido"}})}),f.jsx(lt,{label:"Contrasea",type:"password",fullWidth:!0,leftIcon:f.jsx(S1,{size:18}),error:(d=o.password)==null?void 0:d.message,...i("password",{required:"La contrasea es obligatoria",minLength:{value:6,message:"La contrasea debe tener al menos 6 caracteres"}})}),f.jsx(it,{type:"submit",fullWidth:!0,isLoading:e,children:"Iniciar Sesin"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-sm text-gray-600",children:["No tienes una cuenta?"," ",f.jsx("a",{href:"/register",className:"text-blue-600 hover:text-blue-800 font-medium",onClick:h=>{h.preventDefault(),n("/register")},children:"Regstrate"})]})})]})},vj=()=>f.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:f.jsx(gj,{})}),yj=()=>{var h,m,y;const[e,t]=be.useState(!1),{register:r}=Mr(),n=Zr(),{register:i,handleSubmit:s,watch:o,formState:{errors:a}}=ia(),l=o("password"),d=async p=>{try{t(!0),await r(p.email,p.password),Ke.success("Registro exitoso. Ahora puedes iniciar sesin."),n("/login")}catch(S){Ke.error(S.message||"Error al registrarse")}finally{t(!1)}};return f.jsxs(Et,{className:"w-full max-w-md mx-auto",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Crear Cuenta"}),f.jsx("p",{className:"text-gray-600 mt-2",children:"Regstrate para comenzar a usar la aplicacin"})]}),f.jsxs("form",{onSubmit:s(d),className:"space-y-4",children:[f.jsx(lt,{label:"Correo Electrnico",type:"email",fullWidth:!0,leftIcon:f.jsx(Uw,{size:18}),error:(h=a.email)==null?void 0:h.message,...i("email",{required:"El correo electrnico es obligatorio",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Correo electrnico invlido"}})}),f.jsx(lt,{label:"Contrasea",type:"password",fullWidth:!0,leftIcon:f.jsx(S1,{size:18}),error:(m=a.password)==null?void 0:m.message,...i("password",{required:"La contrasea es obligatoria",minLength:{value:6,message:"La contrasea debe tener al menos 6 caracteres"}})}),f.jsx(lt,{label:"Confirmar Contrasea",type:"password",fullWidth:!0,leftIcon:f.jsx(S1,{size:18}),error:(y=a.confirmPassword)==null?void 0:y.message,...i("confirmPassword",{required:"Confirma tu contrasea",validate:p=>p===l||"Las contraseas no coinciden"})}),f.jsx(it,{type:"submit",fullWidth:!0,isLoading:e,children:"Registrarse"})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsxs("p",{className:"text-sm text-gray-600",children:["Ya tienes una cuenta?"," ",f.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-800 font-medium",onClick:p=>{p.preventDefault(),n("/login")},children:"Iniciar Sesin"})]})})]})},wj=()=>f.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:f.jsx(yj,{})});let Ud;const xj=new Uint8Array(16);function bj(){if(!Ud&&(Ud=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ud))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ud(xj)}const Or=[];for(let e=0;e<256;++e)Or.push((e+256).toString(16).slice(1));function _j(e,t=0){return Or[e[t+0]]+Or[e[t+1]]+Or[e[t+2]]+Or[e[t+3]]+"-"+Or[e[t+4]]+Or[e[t+5]]+"-"+Or[e[t+6]]+Or[e[t+7]]+"-"+Or[e[t+8]]+Or[e[t+9]]+"-"+Or[e[t+10]]+Or[e[t+11]]+Or[e[t+12]]+Or[e[t+13]]+Or[e[t+14]]+Or[e[t+15]]}const Sj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),w5={randomUUID:Sj};function Qo(e,t,r){if(w5.randomUUID&&!t&&!e)return w5.randomUUID();e=e||{};const n=e.random||(e.rng||bj)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,_j(n)}const yo=xu((e,t)=>({cfdis:[],currentCFDI:null,loading:!1,error:null,fetchCFDIs:async()=>{try{e({loading:!0,error:null});const{data:r,error:n}=await ht.from("cfdis").select("*").order("created_at",{ascending:!1});if(n)throw n;e({cfdis:r,loading:!1})}catch(r){e({error:r.message,loading:!1})}},getCFDI:async r=>{try{e({loading:!0,error:null});const{data:n,error:i}=await ht.from("cfdis").select("*").eq("id",r).single();if(i)throw i;e({currentCFDI:n,loading:!1})}catch(n){e({error:n.message,loading:!1})}},addCFDI:async r=>{var n,i,s;try{if(e({loading:!0,error:null}),!((n=r.emisor)!=null&&n.rfc)||!((i=r.receptor)!=null&&i.rfc)||!((s=r.conceptos)!=null&&s.length))throw new Error("Faltan campos requeridos. Por favor complete todos los campos obligatorios.");const o={...r,id:Qo(),type:r.type||"factura",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:a,error:l}=await ht.from("cfdis").insert([o]).select().single();if(l)throw console.error("Supabase error:",l),new Error(l.message);if(!a)throw new Error("No se pudo crear el documento. Por favor intente de nuevo.");return e(d=>({cfdis:[a,...d.cfdis],currentCFDI:a,loading:!1,error:null})),a}catch(o){throw console.error("Store error:",o),e({error:o.message||"Error al crear el documento",loading:!1}),o}},updateCFDI:async(r,n)=>{var i,s,o;try{if(e({loading:!0,error:null}),!((i=n.emisor)!=null&&i.rfc)||!((s=n.receptor)!=null&&s.rfc)||!((o=n.conceptos)!=null&&o.length))throw new Error("Faltan campos requeridos. Por favor complete todos los campos obligatorios.");const a={...n,type:n.type,updated_at:new Date().toISOString()},{data:l,error:d}=await ht.from("cfdis").update(a).eq("id",r).select().single();if(d)throw console.error("Supabase error:",d),new Error(d.message);if(!l)throw new Error("No se pudo actualizar el documento. Por favor intente de nuevo.");return e(h=>{var m;return{cfdis:h.cfdis.map(y=>y.id===r?l:y),currentCFDI:((m=h.currentCFDI)==null?void 0:m.id)===r?l:h.currentCFDI,loading:!1,error:null}}),l}catch(a){throw console.error("Store error:",a),e({error:a.message||"Error al actualizar el documento",loading:!1}),a}},deleteCFDI:async r=>{try{e({loading:!0,error:null});const{error:n}=await ht.from("cfdis").delete().eq("id",r);if(n)throw n;e(i=>{var s;return{cfdis:i.cfdis.filter(o=>o.id!==r),currentCFDI:((s=i.currentCFDI)==null?void 0:s.id)===r?null:i.currentCFDI,loading:!1}})}catch(n){throw e({error:n.message,loading:!1}),n}},getCFDIById:r=>t().cfdis.find(n=>n.id===r),cancelCFDI:async r=>{try{e({loading:!0,error:null});const{error:n}=await ht.from("cfdis").update({estado:"cancelado",updated_at:new Date().toISOString()}).eq("id",r);if(n)throw n;e(i=>{var s;return{cfdis:i.cfdis.map(o=>o.id===r?{...o,estado:"cancelado",updated_at:new Date().toISOString()}:o),currentCFDI:((s=i.currentCFDI)==null?void 0:s.id)===r?{...i.currentCFDI,estado:"cancelado",updated_at:new Date().toISOString()}:i.currentCFDI,loading:!1}})}catch(n){throw e({error:n.message,loading:!1}),n}},clearCurrentCFDI:()=>{e({currentCFDI:null})}})),Sh=xu(e=>({regimenesFiscales:[],usosCFDI:[],metodosPago:[],formasPago:[],productosServicios:[],loading:!1,error:null,fetchCatalogos:async()=>{try{e({loading:!0,error:null});const[t,r,n,i,s]=await Promise.all([ht.from("regimenes_fiscales").select("*"),ht.from("usos_cfdi").select("*"),ht.from("metodos_pago").select("*"),ht.from("formas_pago").select("*"),ht.from("productos_servicios").select("*")]);if(t.error)throw t.error;if(r.error)throw r.error;if(n.error)throw n.error;if(i.error)throw i.error;if(s.error)throw s.error;e({regimenesFiscales:t.data,usosCFDI:r.data,metodosPago:n.data,formasPago:i.data,productosServicios:s.data,loading:!1})}catch(t){e({error:t.message,loading:!1})}}})),Nj=()=>{Sh.setState({regimenesFiscales:[{id:"601",codigo:"601",descripcion:"General de Ley Personas Morales"},{id:"603",codigo:"603",descripcion:"Personas Morales con Fines no Lucrativos"},{id:"605",codigo:"605",descripcion:"Sueldos y Salarios e Ingresos Asimilados a Salarios"},{id:"606",codigo:"606",descripcion:"Arrendamiento"},{id:"612",codigo:"612",descripcion:"Personas Fsicas con Actividades Empresariales y Profesionales"},{id:"626",codigo:"626",descripcion:"Rgimen Simplificado de Confianza"}],usosCFDI:[{id:"G01",codigo:"G01",descripcion:"Adquisicin de mercancas"},{id:"G02",codigo:"G02",descripcion:"Devoluciones, descuentos o bonificaciones"},{id:"G03",codigo:"G03",descripcion:"Gastos en general"},{id:"P01",codigo:"P01",descripcion:"Por definir"}],metodosPago:[{id:"PUE",codigo:"PUE",descripcion:"Pago en una sola exhibicin"},{id:"PPD",codigo:"PPD",descripcion:"Pago en parcialidades o diferido"}],formasPago:[{id:"01",codigo:"01",descripcion:"Efectivo"},{id:"02",codigo:"02",descripcion:"Cheque nominativo"},{id:"03",codigo:"03",descripcion:"Transferencia electrnica de fondos"},{id:"04",codigo:"04",descripcion:"Tarjeta de crdito"},{id:"28",codigo:"28",descripcion:"Tarjeta de dbito"},{id:"99",codigo:"99",descripcion:"Por definir"}],productosServicios:[{id:"01010101",codigo:"01010101",descripcion:"No existe en el catlogo"},{id:"43231500",codigo:"43231500",descripcion:"Software funcional especfico"},{id:"80101500",codigo:"80101500",descripcion:"Servicios de consultora de negocios"},{id:"81111500",codigo:"81111500",descripcion:"Ingeniera de software o hardware"},{id:"84111500",codigo:"84111500",descripcion:"Servicios contables"}],loading:!1,error:null})},jj=({cfdis:e})=>{const t=e.length,r=e.filter(l=>l.estado==="timbrado").length,n=e.filter(l=>l.estado==="cancelado").length,i=e.filter(l=>l.estado==="borrador").length,s=e.filter(l=>l.estado==="timbrado").reduce((l,d)=>l+d.total,0),o=[...e].sort((l,d)=>new Date(d.created_at).getTime()-new Date(l.created_at).getTime()).slice(0,5),a=l=>{switch(l){case"timbrado":return f.jsx(b1,{size:16,className:"text-green-500"});case"cancelado":return f.jsx(uu,{size:16,className:"text-red-500"});default:return f.jsx(_1,{size:16,className:"text-yellow-500"})}};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[f.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 rounded-full bg-blue-100 text-blue-600",children:f.jsx(In,{size:24})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total de Facturas"}),f.jsx("p",{className:"text-2xl font-semibold",children:t})]})]})}),f.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 rounded-full bg-green-100 text-green-600",children:f.jsx(b1,{size:24})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Timbradas"}),f.jsx("p",{className:"text-2xl font-semibold",children:r})]})]})}),f.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 rounded-full bg-red-100 text-red-600",children:f.jsx(uu,{size:24})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Canceladas"}),f.jsx("p",{className:"text-2xl font-semibold",children:n})]})]})}),f.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"p-3 rounded-full bg-yellow-100 text-yellow-600",children:f.jsx(_1,{size:24})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Borradores"}),f.jsx("p",{className:"text-2xl font-semibold",children:i})]})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx(Et,{title:"Monto Total Facturado",children:f.jsxs("div",{className:"flex items-center justify-center py-6",children:[f.jsx("div",{className:"p-4 rounded-full bg-green-100 text-green-600",children:f.jsx(PN,{size:32})}),f.jsxs("div",{className:"ml-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Facturado (MXN)"}),f.jsxs("p",{className:"text-3xl font-bold",children:["$",s.toFixed(2)]})]})]})}),f.jsx(Et,{title:"Facturas Recientes",children:o.length>0?f.jsx("ul",{className:"divide-y divide-gray-200",children:o.map(l=>f.jsx("li",{className:"py-3",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[a(l.estado),f.jsxs("div",{className:"ml-3",children:[f.jsx("p",{className:"text-sm font-medium",children:l.receptor.nombre}),f.jsx("p",{className:"text-xs text-gray-500",children:new Date(l.fechaEmision).toLocaleDateString()})]})]}),f.jsxs("p",{className:"text-sm font-medium",children:["$",l.total.toFixed(2)]})]})},l.id))}):f.jsx("p",{className:"py-4 text-center text-gray-500",children:"No hay facturas recientes"})})]})]})},kj=()=>{const{user:e}=Mr(),{cfdis:t,loading:r,fetchCFDIs:n}=yo(),i=Zr();be.useEffect(()=>{if(!e){i("/login");return}n(),Nj()},[e,i,n]);const s=()=>{i("/facturas/nueva")};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),f.jsxs("p",{className:"text-gray-600",children:["Bienvenido, ",e==null?void 0:e.email]})]}),f.jsx(it,{onClick:s,leftIcon:f.jsx(na,{size:18}),children:"Nueva Factura"})]}),f.jsx(jj,{cfdis:t})]})};function Lt(e){"@babel/helpers - typeof";return Lt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(e)}var Yr=Uint8Array,Rn=Uint16Array,Xm=Int32Array,Nh=new Yr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),jh=new Yr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),P1=new Yr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rx=function(e,t){for(var r=new Rn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new Xm(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},nx=rx(Nh,2),ix=nx.b,C1=nx.r;ix[28]=258,C1[258]=28;var sx=rx(jh,0),Aj=sx.b,x5=sx.r,E1=new Rn(32768);for(var $t=0;$t<32768;++$t){var Bs=($t&43690)>>1|($t&21845)<<1;Bs=(Bs&52428)>>2|(Bs&13107)<<2,Bs=(Bs&61680)>>4|(Bs&3855)<<4,E1[$t]=((Bs&65280)>>8|(Bs&255)<<8)>>1}var Ji=function(e,t,r){for(var n=e.length,i=0,s=new Rn(t);i<n;++i)e[i]&&++s[e[i]-1];var o=new Rn(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(r){a=new Rn(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var d=i<<4|e[i],h=t-e[i],m=o[e[i]-1]++<<h,y=m|(1<<h)-1;m<=y;++m)a[E1[m]>>l]=d}else for(a=new Rn(n),i=0;i<n;++i)e[i]&&(a[i]=E1[o[e[i]-1]++]>>15-e[i]);return a},ho=new Yr(288);for(var $t=0;$t<144;++$t)ho[$t]=8;for(var $t=144;$t<256;++$t)ho[$t]=9;for(var $t=256;$t<280;++$t)ho[$t]=7;for(var $t=280;$t<288;++$t)ho[$t]=8;var hu=new Yr(32);for(var $t=0;$t<32;++$t)hu[$t]=5;var Lj=Ji(ho,9,0),Pj=Ji(ho,9,1),Cj=Ji(hu,5,0),Ej=Ji(hu,5,1),o0=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},mi=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},a0=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Ym=function(e){return(e+7)/8|0},ox=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Yr(e.subarray(t,r))},Ij=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],yi=function(e,t,r){var n=new Error(t||Ij[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,yi),!r)throw n;return n},Fj=function(e,t,r,n){var i=e.length,s=0;if(!i||t.f&&!t.l)return r||new Yr(0);var o=!r,a=o||t.i!=2,l=t.i;o&&(r=new Yr(i*3));var d=function(ge){var je=r.length;if(ge>je){var Te=new Yr(Math.max(je*2,ge));Te.set(r),r=Te}},h=t.f||0,m=t.p||0,y=t.b||0,p=t.l,S=t.d,_=t.m,L=t.n,x=i*8;do{if(!p){h=mi(e,m,1);var w=mi(e,m+1,3);if(m+=3,w)if(w==1)p=Pj,S=Ej,_=9,L=5;else if(w==2){var X=mi(e,m,31)+257,O=mi(e,m+10,15)+4,E=X+mi(e,m+5,31)+1;m+=14;for(var Y=new Yr(E),ne=new Yr(19),T=0;T<O;++T)ne[P1[T]]=mi(e,m+T*3,7);m+=O*3;for(var I=o0(ne),G=(1<<I)-1,q=Ji(ne,I,1),T=0;T<E;){var fe=q[mi(e,m,G)];m+=fe&15;var N=fe>>4;if(N<16)Y[T++]=N;else{var ue=0,he=0;for(N==16?(he=3+mi(e,m,3),m+=2,ue=Y[T-1]):N==17?(he=3+mi(e,m,7),m+=3):N==18&&(he=11+mi(e,m,127),m+=7);he--;)Y[T++]=ue}}var J=Y.subarray(0,X),ie=Y.subarray(X);_=o0(J),L=o0(ie),p=Ji(J,_,1),S=Ji(ie,L,1)}else yi(1);else{var N=Ym(m)+4,R=e[N-4]|e[N-3]<<8,W=N+R;if(W>i){l&&yi(0);break}a&&d(y+R),r.set(e.subarray(N,W),y),t.b=y+=R,t.p=m=W*8,t.f=h;continue}if(m>x){l&&yi(0);break}}a&&d(y+131072);for(var ae=(1<<_)-1,Ae=(1<<L)-1,A=m;;A=m){var ue=p[a0(e,m)&ae],M=ue>>4;if(m+=ue&15,m>x){l&&yi(0);break}if(ue||yi(2),M<256)r[y++]=M;else if(M==256){A=m,p=null;break}else{var $=M-254;if(M>264){var T=M-257,K=Nh[T];$=mi(e,m,(1<<K)-1)+ix[T],m+=K}var Z=S[a0(e,m)&Ae],ce=Z>>4;Z||yi(3),m+=Z&15;var ie=Aj[ce];if(ce>3){var K=jh[ce];ie+=a0(e,m)&(1<<K)-1,m+=K}if(m>x){l&&yi(0);break}a&&d(y+131072);var me=y+$;if(y<ie){var le=s-ie,Ce=Math.min(ie,me);for(le+y<0&&yi(3);y<Ce;++y)r[y]=n[le+y]}for(;y<me;++y)r[y]=r[y-ie]}}t.l=p,t.p=A,t.b=y,t.f=h,p&&(h=1,t.m=_,t.d=S,t.n=L)}while(!h);return y!=r.length&&o?ox(r,0,y):r.subarray(0,y)},cs=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},_c=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},l0=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,s=r.slice();if(!i)return{t:lx,l:0};if(i==1){var o=new Yr(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(W,X){return W.f-X.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],d=0,h=1,m=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=i-1;)a=r[r[d].f<r[m].f?d++:m++],l=r[d!=h&&r[d].f<r[m].f?d++:m++],r[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var y=s[0].s,n=1;n<i;++n)s[n].s>y&&(y=s[n].s);var p=new Rn(y+1),S=I1(r[h-1],p,0);if(S>t){var n=0,_=0,L=S-t,x=1<<L;for(s.sort(function(X,O){return p[O.s]-p[X.s]||X.f-O.f});n<i;++n){var w=s[n].s;if(p[w]>t)_+=x-(1<<S-p[w]),p[w]=t;else break}for(_>>=L;_>0;){var N=s[n].s;p[N]<t?_-=1<<t-p[N]++-1:++n}for(;n>=0&&_;--n){var R=s[n].s;p[R]==t&&(--p[R],++_)}S=t}return{t:new Yr(p),l:S}},I1=function(e,t,r){return e.s==-1?Math.max(I1(e.l,t,r+1),I1(e.r,t,r+1)):t[e.s]=r},b5=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Rn(++t),n=0,i=e[0],s=1,o=function(l){r[n++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[a]}return{c:r.subarray(0,n),n:t}},Sc=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},ax=function(e,t,r){var n=r.length,i=Ym(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<n;++s)e[i+s+4]=r[s];return(i+4+n)*8},_5=function(e,t,r,n,i,s,o,a,l,d,h){cs(t,h++,r),++i[256];for(var m=l0(i,15),y=m.t,p=m.l,S=l0(s,15),_=S.t,L=S.l,x=b5(y),w=x.c,N=x.n,R=b5(_),W=R.c,X=R.n,O=new Rn(19),E=0;E<w.length;++E)++O[w[E]&31];for(var E=0;E<W.length;++E)++O[W[E]&31];for(var Y=l0(O,7),ne=Y.t,T=Y.l,I=19;I>4&&!ne[P1[I-1]];--I);var G=d+5<<3,q=Sc(i,ho)+Sc(s,hu)+o,fe=Sc(i,y)+Sc(s,_)+o+14+3*I+Sc(O,ne)+2*O[16]+3*O[17]+7*O[18];if(l>=0&&G<=q&&G<=fe)return ax(t,h,e.subarray(l,l+d));var ue,he,J,ie;if(cs(t,h,1+(fe<q)),h+=2,fe<q){ue=Ji(y,p,0),he=y,J=Ji(_,L,0),ie=_;var ae=Ji(ne,T,0);cs(t,h,N-257),cs(t,h+5,X-1),cs(t,h+10,I-4),h+=14;for(var E=0;E<I;++E)cs(t,h+3*E,ne[P1[E]]);h+=3*I;for(var Ae=[w,W],A=0;A<2;++A)for(var M=Ae[A],E=0;E<M.length;++E){var $=M[E]&31;cs(t,h,ae[$]),h+=ne[$],$>15&&(cs(t,h,M[E]>>5&127),h+=M[E]>>12)}}else ue=Lj,he=ho,J=Cj,ie=hu;for(var E=0;E<a;++E){var K=n[E];if(K>255){var $=K>>18&31;_c(t,h,ue[$+257]),h+=he[$+257],$>7&&(cs(t,h,K>>23&31),h+=Nh[$]);var Z=K&31;_c(t,h,J[Z]),h+=ie[Z],Z>3&&(_c(t,h,K>>5&8191),h+=jh[Z])}else _c(t,h,ue[K]),h+=he[K]}return _c(t,h,ue[256]),h+he[256]},Tj=new Xm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),lx=new Yr(0),Oj=function(e,t,r,n,i,s){var o=s.z||e.length,a=new Yr(n+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(n,a.length-i),d=s.l,h=(s.r||0)&7;if(t){h&&(l[0]=s.r>>3);for(var m=Tj[t-1],y=m>>13,p=m&8191,S=(1<<r)-1,_=s.p||new Rn(32768),L=s.h||new Rn(S+1),x=Math.ceil(r/3),w=2*x,N=function(Re){return(e[Re]^e[Re+1]<<x^e[Re+2]<<w)&S},R=new Xm(25e3),W=new Rn(288),X=new Rn(32),O=0,E=0,Y=s.i||0,ne=0,T=s.w||0,I=0;Y+2<o;++Y){var G=N(Y),q=Y&32767,fe=L[G];if(_[q]=fe,L[G]=q,T<=Y){var ue=o-Y;if((O>7e3||ne>24576)&&(ue>423||!d)){h=_5(e,l,0,R,W,X,E,ne,I,Y-I,h),ne=O=E=0,I=Y;for(var he=0;he<286;++he)W[he]=0;for(var he=0;he<30;++he)X[he]=0}var J=2,ie=0,ae=p,Ae=q-fe&32767;if(ue>2&&G==N(Y-Ae))for(var A=Math.min(y,ue)-1,M=Math.min(32767,Y),$=Math.min(258,ue);Ae<=M&&--ae&&q!=fe;){if(e[Y+J]==e[Y+J-Ae]){for(var K=0;K<$&&e[Y+K]==e[Y+K-Ae];++K);if(K>J){if(J=K,ie=Ae,K>A)break;for(var Z=Math.min(Ae,K-2),ce=0,he=0;he<Z;++he){var me=Y-Ae+he&32767,le=_[me],Ce=me-le&32767;Ce>ce&&(ce=Ce,fe=me)}}}q=fe,fe=_[q],Ae+=q-fe&32767}if(ie){R[ne++]=268435456|C1[J]<<18|x5[ie];var ge=C1[J]&31,je=x5[ie]&31;E+=Nh[ge]+jh[je],++W[257+ge],++X[je],T=Y+J,++O}else R[ne++]=e[Y],++W[e[Y]]}}for(Y=Math.max(Y,T);Y<o;++Y)R[ne++]=e[Y],++W[e[Y]];h=_5(e,l,d,R,W,X,E,ne,I,Y-I,h),d||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=L,s.p=_,s.i=Y,s.w=T)}else{for(var Y=s.w||0;Y<o+d;Y+=65535){var Te=Y+65535;Te>=o&&(l[h/8|0]=d,Te=o),h=ax(l,h+1,e.subarray(Y,Te))}s.i=o}return ox(a,0,n+Ym(h)+i)},cx=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,s=r.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Dj=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Yr(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return Oj(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},ux=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},Rj=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=cx();i.p(t.dictionary),ux(e,2,i.d())}},Mj=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&yi(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&yi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function F1(e,t){t||(t={});var r=cx();r.p(e);var n=Dj(e,t,t.dictionary?6:2,4);return Rj(n,t),ux(n,n.length-4,r.d()),n}function Bj(e,t){return Fj(e.subarray(Mj(e,t),-4),{i:2},t,t)}var Uj=typeof TextDecoder<"u"&&new TextDecoder,$j=0;try{Uj.decode(lx,{stream:!0}),$j=1}catch{}var rt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function c0(){rt.console&&typeof rt.console.log=="function"&&rt.console.log.apply(rt.console,arguments)}var Tt={log:c0,warn:function(e){rt.console&&(typeof rt.console.warn=="function"?rt.console.warn.apply(rt.console,arguments):c0.call(null,arguments))},error:function(e){rt.console&&(typeof rt.console.error=="function"?rt.console.error.apply(rt.console,arguments):c0(e))}};function u0(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Do(n.response,t,r)},n.onerror=function(){Tt.error("could not download file")},n.send()}function S5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function $d(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var zc,T1,Do=rt.saveAs||((typeof window>"u"?"undefined":Lt(window))!=="object"||window!==rt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=rt.URL||rt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?S5(i.href)?u0(e,t,r):$d(i,i.target="_blank"):$d(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){$d(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(S5(e))u0(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){$d(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Lt(s)!=="object"&&(Tt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return u0(e,t,r);var i=e.type==="application/octet-stream",s=/constructor/i.test(rt.HTMLElement)||rt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Lt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},a.readAsDataURL(e)}else{var l=rt.URL||rt.webkitURL,d=l.createObjectURL(e);n?n.location=d:location.href=d,n=null,setTimeout(function(){l.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function dx(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),d=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),"#"+a+l+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d0(e,t){var r=e[0],n=e[1],i=e[2],s=e[3];r=Hr(r,n,i,s,t[0],7,-680876936),s=Hr(s,r,n,i,t[1],12,-389564586),i=Hr(i,s,r,n,t[2],17,606105819),n=Hr(n,i,s,r,t[3],22,-1044525330),r=Hr(r,n,i,s,t[4],7,-176418897),s=Hr(s,r,n,i,t[5],12,1200080426),i=Hr(i,s,r,n,t[6],17,-1473231341),n=Hr(n,i,s,r,t[7],22,-45705983),r=Hr(r,n,i,s,t[8],7,1770035416),s=Hr(s,r,n,i,t[9],12,-1958414417),i=Hr(i,s,r,n,t[10],17,-42063),n=Hr(n,i,s,r,t[11],22,-1990404162),r=Hr(r,n,i,s,t[12],7,1804603682),s=Hr(s,r,n,i,t[13],12,-40341101),i=Hr(i,s,r,n,t[14],17,-1502002290),r=Gr(r,n=Hr(n,i,s,r,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Gr(s,r,n,i,t[6],9,-1069501632),i=Gr(i,s,r,n,t[11],14,643717713),n=Gr(n,i,s,r,t[0],20,-373897302),r=Gr(r,n,i,s,t[5],5,-701558691),s=Gr(s,r,n,i,t[10],9,38016083),i=Gr(i,s,r,n,t[15],14,-660478335),n=Gr(n,i,s,r,t[4],20,-405537848),r=Gr(r,n,i,s,t[9],5,568446438),s=Gr(s,r,n,i,t[14],9,-1019803690),i=Gr(i,s,r,n,t[3],14,-187363961),n=Gr(n,i,s,r,t[8],20,1163531501),r=Gr(r,n,i,s,t[13],5,-1444681467),s=Gr(s,r,n,i,t[2],9,-51403784),i=Gr(i,s,r,n,t[7],14,1735328473),r=Jr(r,n=Gr(n,i,s,r,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Jr(s,r,n,i,t[8],11,-2022574463),i=Jr(i,s,r,n,t[11],16,1839030562),n=Jr(n,i,s,r,t[14],23,-35309556),r=Jr(r,n,i,s,t[1],4,-1530992060),s=Jr(s,r,n,i,t[4],11,1272893353),i=Jr(i,s,r,n,t[7],16,-155497632),n=Jr(n,i,s,r,t[10],23,-1094730640),r=Jr(r,n,i,s,t[13],4,681279174),s=Jr(s,r,n,i,t[0],11,-358537222),i=Jr(i,s,r,n,t[3],16,-722521979),n=Jr(n,i,s,r,t[6],23,76029189),r=Jr(r,n,i,s,t[9],4,-640364487),s=Jr(s,r,n,i,t[12],11,-421815835),i=Jr(i,s,r,n,t[15],16,530742520),r=Kr(r,n=Jr(n,i,s,r,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Kr(s,r,n,i,t[7],10,1126891415),i=Kr(i,s,r,n,t[14],15,-1416354905),n=Kr(n,i,s,r,t[5],21,-57434055),r=Kr(r,n,i,s,t[12],6,1700485571),s=Kr(s,r,n,i,t[3],10,-1894986606),i=Kr(i,s,r,n,t[10],15,-1051523),n=Kr(n,i,s,r,t[1],21,-2054922799),r=Kr(r,n,i,s,t[8],6,1873313359),s=Kr(s,r,n,i,t[15],10,-30611744),i=Kr(i,s,r,n,t[6],15,-1560198380),n=Kr(n,i,s,r,t[13],21,1309151649),r=Kr(r,n,i,s,t[4],6,-145523070),s=Kr(s,r,n,i,t[11],10,-1120210379),i=Kr(i,s,r,n,t[2],15,718787259),n=Kr(n,i,s,r,t[9],21,-343485551),e[0]=eo(r,e[0]),e[1]=eo(n,e[1]),e[2]=eo(i,e[2]),e[3]=eo(s,e[3])}function kh(e,t,r,n,i,s){return t=eo(eo(t,e),eo(n,s)),eo(t<<i|t>>>32-i,r)}function Hr(e,t,r,n,i,s,o){return kh(t&r|~t&n,e,t,i,s,o)}function Gr(e,t,r,n,i,s,o){return kh(t&n|r&~n,e,t,i,s,o)}function Jr(e,t,r,n,i,s,o){return kh(t^r^n,e,t,i,s,o)}function Kr(e,t,r,n,i,s,o){return kh(r^(t|~n),e,t,i,s,o)}function fx(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)d0(n,zj(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(d0(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,d0(n,i),n}function zj(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}zc=rt.atob.bind(rt),T1=rt.btoa.bind(rt);var N5="0123456789abcdef".split("");function qj(e){for(var t="",r=0;r<4;r++)t+=N5[e>>8*r+4&15]+N5[e>>8*r&15];return t}function Vj(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function O1(e){return fx(e).map(Vj).join("")}var Wj=function(e){for(var t=0;t<e.length;t++)e[t]=qj(e[t]);return e.join("")}(fx("hello"))!="5d41402abc4b2a76b9719d911017c592";function eo(e,t){if(Wj){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function D1(e,t){var r,n,i,s;if(e!==r){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var d=0;for(l=0;l<256;l++){var h=a[l];d=(d+h+o.charCodeAt(l))%256,a[l]=a[d],a[d]=h}r=e,n=a}else a=n;var m=t.length,y=0,p=0,S="";for(l=0;l<m;l++)p=(p+(h=a[y=(y+1)%256]))%256,a[y]=a[p],a[p]=h,o=a[(a[y]+a[p])%256],S+=String.fromCharCode(t.charCodeAt(l)^o);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var j5={print:4,modify:8,copy:16,"annot-forms":32};function Va(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(j5.perm!==void 0)throw new Error("Invalid permission: "+a);i+=j5[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=O1(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=D1(this.encryptionKey,this.padding)}function Wa(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[n]}return t}function k5(e){if(Lt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(a){rt.console&&Tt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Wf(e){if(!(this instanceof Wf))return new Wf(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function hx(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Mo(e,t,r,n,i){if(!(this instanceof Mo))return new Mo(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,hx.call(this,n,i)}function il(e,t,r,n,i){if(!(this instanceof il))return new il(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,hx.call(this,n,i)}function tt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,d="S",h=null;Lt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,s=e.compress||e.compressPdf||s,(h=e.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=e.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=k5;var S="1.3",_=p.__private__.getPdfVersion=function(){return S};p.__private__.setPdfVersion=function(g){S=g};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return L};var x=p.__private__.getPageFormat=function(g){return L[g]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},N=w.COMPAT;function R(){this.saveGraphicsState(),V(new Ze(Be,0,0,-Be,0,js()*Be).toString()+" cm"),this.setFontSize(this.getFontSize()/Be),d="n",N=w.ADVANCED}function W(){this.restoreGraphicsState(),d="S",N=w.COMPAT}var X=p.__private__.combineFontStyleAndFontWeight=function(g,k){if(g=="bold"&&k=="normal"||g=="bold"&&k==400||g=="normal"&&k=="italic"||g=="bold"&&k=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return k&&(g=k==400||k==="normal"?g==="italic"?"italic":"normal":k!=700&&k!=="bold"||g!=="normal"?(k==700?"bold":k)+""+g:"bold"),g};p.advancedAPI=function(g){var k=N===w.COMPAT;return k&&R.call(this),typeof g!="function"||(g(this),k&&W.call(this)),this},p.compatAPI=function(g){var k=N===w.ADVANCED;return k&&W.call(this),typeof g!="function"||(g(this),k&&R.call(this)),this},p.isAdvancedAPI=function(){return N===w.ADVANCED};var O,E=function(g){if(N!==w.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=p.roundToPrecision=p.__private__.roundToPrecision=function(g,k){var z=t||k;if(isNaN(g)||isNaN(z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(z).replace(/0+$/,"")};O=p.hpf=p.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(g,16)};var ne=p.f2=p.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return Y(g,2)},T=p.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return Y(g,3)},I=p.scale=p.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return N===w.COMPAT?g*Be:N===w.ADVANCED?g:void 0},G=function(g){return N===w.COMPAT?js()-g:N===w.ADVANCED?g:void 0},q=function(g){return I(G(g))};p.__private__.setPrecision=p.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(t=parseInt(g,10))};var fe,ue="00000000000000000000000000000000",he=p.__private__.getFileId=function(){return ue},J=p.__private__.setFileId=function(g){return ue=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&($r=new Va(h.userPermissions,h.userPassword,h.ownerPassword,ue)),ue};p.setFileId=function(g){return J(g),this},p.getFileId=function(){return he()};var ie=p.__private__.convertDateToPDFDate=function(g){var k=g.getTimezoneOffset(),z=k<0?"+":"-",ee=Math.floor(Math.abs(k/60)),de=Math.abs(k%60),Ne=[z,$(ee),"'",$(de),"'"].join("");return["D:",g.getFullYear(),$(g.getMonth()+1),$(g.getDate()),$(g.getHours()),$(g.getMinutes()),$(g.getSeconds()),Ne].join("")},ae=p.__private__.convertPDFDateToDate=function(g){var k=parseInt(g.substr(2,4),10),z=parseInt(g.substr(6,2),10)-1,ee=parseInt(g.substr(8,2),10),de=parseInt(g.substr(10,2),10),Ne=parseInt(g.substr(12,2),10),Fe=parseInt(g.substr(14,2),10);return new Date(k,z,ee,de,Ne,Fe,0)},Ae=p.__private__.setCreationDate=function(g){var k;if(g===void 0&&(g=new Date),g instanceof Date)k=ie(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");k=g}return fe=k},A=p.__private__.getCreationDate=function(g){var k=fe;return g==="jsDate"&&(k=ae(fe)),k};p.setCreationDate=function(g){return Ae(g),this},p.getCreationDate=function(g){return A(g)};var M,$=p.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},K=p.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},Z=0,ce=[],me=[],le=0,Ce=[],ge=[],je=!1,Te=me,Re=function(){Z=0,le=0,me=[],ce=[],Ce=[],Qi=fr(),oi=fr()};p.__private__.setCustomOutputDestination=function(g){je=!0,Te=g};var _e=function(g){je||(Te=g)};p.__private__.resetCustomOutputDestination=function(){je=!1,Te=me};var V=p.__private__.out=function(g){return g=g.toString(),le+=g.length+1,Te.push(g),Te},He=p.__private__.write=function(g){return V(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},B=p.__private__.getArrayBuffer=function(g){for(var k=g.length,z=new ArrayBuffer(k),ee=new Uint8Array(z);k--;)ee[k]=g.charCodeAt(k);return z},H=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return H};var Q=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(g){return Q=N===w.ADVANCED?g/Be:g,this};var we,pe=p.__private__.getFontSize=p.getFontSize=function(){return N===w.COMPAT?Q:Q*Be},xe=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(g){return xe=g,this},p.__private__.getR2L=p.getR2L=function(){return xe};var Ie,De=p.__private__.setZoomMode=function(g){var k=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))we=g;else if(isNaN(g)){if(k.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');we=g}else we=parseInt(g,10)};p.__private__.getZoomMode=function(){return we};var Je,Ye=p.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Ie=g};p.__private__.getPageMode=function(){return Ie};var pt=p.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');Je=g};p.__private__.getLayoutMode=function(){return Je},p.__private__.setDisplayMode=p.setDisplayMode=function(g,k,z){return De(g),pt(k),Ye(z),this};var et={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(g){if(Object.keys(et).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return et[g]},p.__private__.getDocumentProperties=function(){return et},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(g){for(var k in et)et.hasOwnProperty(k)&&g[k]&&(et[k]=g[k]);return this},p.__private__.setDocumentProperty=function(g,k){if(Object.keys(et).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return et[g]=k};var dt,Be,Sr,vt,jn,St={},qt={},Ai=[],Nt={},wo={},Yt={},ii={},Yi=null,Qt=0,st=[],jt=new k5(p),xo=e.hotfixes||[],Ir={},Li={},Pi=[],Ze=function g(k,z,ee,de,Ne,Fe){if(!(this instanceof g))return new g(k,z,ee,de,Ne,Fe);isNaN(k)&&(k=1),isNaN(z)&&(z=0),isNaN(ee)&&(ee=0),isNaN(de)&&(de=1),isNaN(Ne)&&(Ne=0),isNaN(Fe)&&(Fe=0),this._matrix=[k,z,ee,de,Ne,Fe]};Object.defineProperty(Ze.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ze.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ze.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ze.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ze.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ze.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ze.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ze.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ze.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ze.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ze.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ze.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ze.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ze.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ze.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ze.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ze.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(g)},Ze.prototype.multiply=function(g){var k=g.sx*this.sx+g.shy*this.shx,z=g.sx*this.shy+g.shy*this.sy,ee=g.shx*this.sx+g.sy*this.shx,de=g.shx*this.shy+g.sy*this.sy,Ne=g.tx*this.sx+g.ty*this.shx+this.tx,Fe=g.tx*this.shy+g.ty*this.sy+this.ty;return new Ze(k,z,ee,de,Ne,Fe)},Ze.prototype.decompose=function(){var g=this.sx,k=this.shy,z=this.shx,ee=this.sy,de=this.tx,Ne=this.ty,Fe=Math.sqrt(g*g+k*k),$e=(g/=Fe)*z+(k/=Fe)*ee;z-=g*$e,ee-=k*$e;var Xe=Math.sqrt(z*z+ee*ee);return $e/=Xe,g*(ee/=Xe)<k*(z/=Xe)&&(g=-g,k=-k,$e=-$e,Fe=-Fe),{scale:new Ze(Fe,0,0,Xe,0,0),translate:new Ze(1,0,0,1,de,Ne),rotate:new Ze(g,k,-k,g,0,0),skew:new Ze(1,0,$e,1,0,0)}},Ze.prototype.toString=function(g){return this.join(" ")},Ze.prototype.inversed=function(){var g=this.sx,k=this.shy,z=this.shx,ee=this.sy,de=this.tx,Ne=this.ty,Fe=1/(g*ee-k*z),$e=ee*Fe,Xe=-k*Fe,ct=-z*Fe,ot=g*Fe;return new Ze($e,Xe,ct,ot,-$e*de-ct*Ne,-Xe*de-ot*Ne)},Ze.prototype.applyToPoint=function(g){var k=g.x*this.sx+g.y*this.shx+this.tx,z=g.x*this.shy+g.y*this.sy+this.ty;return new wa(k,z)},Ze.prototype.applyToRectangle=function(g){var k=this.applyToPoint(g),z=this.applyToPoint(new wa(g.x+g.w,g.y+g.h));return new Wl(k.x,k.y,z.x-k.x,z.y-k.y)},Ze.prototype.clone=function(){var g=this.sx,k=this.shy,z=this.shx,ee=this.sy,de=this.tx,Ne=this.ty;return new Ze(g,k,z,ee,de,Ne)},p.Matrix=Ze;var si=p.matrixMult=function(g,k){return k.multiply(g)},Ci=new Ze(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ci;var dn=function(g,k){if(!wo[g]){var z=(k instanceof Mo?"Sh":"P")+(Object.keys(Nt).length+1).toString(10);k.id=z,wo[g]=z,Nt[z]=k,jt.publish("addPattern",k)}};p.ShadingPattern=Mo,p.TilingPattern=il,p.addShadingPattern=function(g,k){return E("addShadingPattern()"),dn(g,k),this},p.beginTilingPattern=function(g){E("beginTilingPattern()"),Wu(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},p.endTilingPattern=function(g,k){E("endTilingPattern()"),k.stream=ge[M].join(`
`),dn(g,k),jt.publish("endTilingPattern",k),Pi.pop().restore()};var yr=p.__private__.newObject=function(){var g=fr();return kn(g,!0),g},fr=p.__private__.newObjectDeferred=function(){return Z++,ce[Z]=function(){return le},Z},kn=function(g,k){return k=typeof k=="boolean"&&k,ce[g]=le,k&&V(g+" 0 obj"),g},oa=p.__private__.newAdditionalObject=function(){var g={objId:fr(),content:""};return Ce.push(g),g},Qi=fr(),oi=fr(),ai=p.__private__.decodeColorString=function(g){var k=g.split(" ");if(k.length!==2||k[1]!=="g"&&k[1]!=="G")k.length===5&&(k[4]==="k"||k[4]==="K")&&(k=[(1-k[0])*(1-k[3]),(1-k[1])*(1-k[3]),(1-k[2])*(1-k[3]),"r"]);else{var z=parseFloat(k[0]);k=[z,z,z,"r"]}for(var ee="#",de=0;de<3;de++)ee+=("0"+Math.floor(255*parseFloat(k[de])).toString(16)).slice(-2);return ee},li=p.__private__.encodeColorString=function(g){var k;typeof g=="string"&&(g={ch1:g});var z=g.ch1,ee=g.ch2,de=g.ch3,Ne=g.ch4,Fe=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof z=="string"&&z.charAt(0)!=="#"){var $e=new dx(z);if($e.ok)z=$e.toHex();else if(!/^\d*\.?\d*$/.test(z))throw new Error('Invalid color "'+z+'" passed to jsPDF.encodeColorString.')}if(typeof z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(z)&&(z="#"+z[1]+z[1]+z[2]+z[2]+z[3]+z[3]),typeof z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(z)){var Xe=parseInt(z.substr(1),16);z=Xe>>16&255,ee=Xe>>8&255,de=255&Xe}if(ee===void 0||Ne===void 0&&z===ee&&ee===de)if(typeof z=="string")k=z+" "+Fe[0];else switch(g.precision){case 2:k=ne(z/255)+" "+Fe[0];break;case 3:default:k=T(z/255)+" "+Fe[0]}else if(Ne===void 0||Lt(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return k=["1.","1.","1.",Fe[1]].join(" ");if(typeof z=="string")k=[z,ee,de,Fe[1]].join(" ");else switch(g.precision){case 2:k=[ne(z/255),ne(ee/255),ne(de/255),Fe[1]].join(" ");break;default:case 3:k=[T(z/255),T(ee/255),T(de/255),Fe[1]].join(" ")}}else if(typeof z=="string")k=[z,ee,de,Ne,Fe[2]].join(" ");else switch(g.precision){case 2:k=[ne(z),ne(ee),ne(de),ne(Ne),Fe[2]].join(" ");break;case 3:default:k=[T(z),T(ee),T(de),T(Ne),Fe[2]].join(" ")}return k},Ei=p.__private__.getFilters=function(){return o},zn=p.__private__.putStream=function(g){var k=(g=g||{}).data||"",z=g.filters||Ei(),ee=g.alreadyAppliedFilters||[],de=g.addLength1||!1,Ne=k.length,Fe=g.objectId,$e=function(zr){return zr};if(h!==null&&Fe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&($e=$r.encryptor(Fe,0));var Xe={};z===!0&&(z=["FlateEncode"]);var ct=g.additionalKeyValues||[],ot=(Xe=tt.API.processDataByFilters!==void 0?tt.API.processDataByFilters(k,z):{data:k,reverseChain:[]}).reverseChain+(Array.isArray(ee)?ee.join(" "):ee.toString());if(Xe.data.length!==0&&(ct.push({key:"Length",value:Xe.data.length}),de===!0&&ct.push({key:"Length1",value:Ne})),ot.length!=0)if(ot.split("/").length-1==1)ct.push({key:"Filter",value:ot});else{ct.push({key:"Filter",value:"["+ot+"]"});for(var wt=0;wt<ct.length;wt+=1)if(ct[wt].key==="DecodeParms"){for(var Ht=[],Zt=0;Zt<Xe.reverseChain.split("/").length-1;Zt+=1)Ht.push("null");Ht.push(ct[wt].value),ct[wt].value="["+Ht.join(" ")+"]"}}V("<<");for(var hr=0;hr<ct.length;hr++)V("/"+ct[hr].key+" "+ct[hr].value);V(">>"),Xe.data.length!==0&&(V("stream"),V($e(Xe.data)),V("endstream"))},Ii=p.__private__.putPage=function(g){var k=g.number,z=g.data,ee=g.objId,de=g.contentsObjId;kn(ee,!0),V("<</Type /Page"),V("/Parent "+g.rootDictionaryObjId+" 0 R"),V("/Resources "+g.resourceDictionaryObjId+" 0 R"),V("/MediaBox ["+parseFloat(O(g.mediaBox.bottomLeftX))+" "+parseFloat(O(g.mediaBox.bottomLeftY))+" "+O(g.mediaBox.topRightX)+" "+O(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&V("/CropBox ["+O(g.cropBox.bottomLeftX)+" "+O(g.cropBox.bottomLeftY)+" "+O(g.cropBox.topRightX)+" "+O(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&V("/BleedBox ["+O(g.bleedBox.bottomLeftX)+" "+O(g.bleedBox.bottomLeftY)+" "+O(g.bleedBox.topRightX)+" "+O(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&V("/TrimBox ["+O(g.trimBox.bottomLeftX)+" "+O(g.trimBox.bottomLeftY)+" "+O(g.trimBox.topRightX)+" "+O(g.trimBox.topRightY)+"]"),g.artBox!==null&&V("/ArtBox ["+O(g.artBox.bottomLeftX)+" "+O(g.artBox.bottomLeftY)+" "+O(g.artBox.topRightX)+" "+O(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&V("/UserUnit "+g.userUnit),jt.publish("putPage",{objId:ee,pageContext:st[k],pageNumber:k,page:z}),V("/Contents "+de+" 0 R"),V(">>"),V("endobj");var Ne=z.join(`
`);return N===w.ADVANCED&&(Ne+=`
Q`),kn(de,!0),zn({data:Ne,filters:Ei(),objectId:de}),V("endobj"),ee},bo=p.__private__.putPages=function(){var g,k,z=[];for(g=1;g<=Qt;g++)st[g].objId=fr(),st[g].contentsObjId=fr();for(g=1;g<=Qt;g++)z.push(Ii({number:g,data:ge[g],objId:st[g].objId,contentsObjId:st[g].contentsObjId,mediaBox:st[g].mediaBox,cropBox:st[g].cropBox,bleedBox:st[g].bleedBox,trimBox:st[g].trimBox,artBox:st[g].artBox,userUnit:st[g].userUnit,rootDictionaryObjId:Qi,resourceDictionaryObjId:oi}));kn(Qi,!0),V("<</Type /Pages");var ee="/Kids [";for(k=0;k<Qt;k++)ee+=z[k]+" 0 R ";V(ee+"]"),V("/Count "+Qt),V(">>"),V("endobj"),jt.publish("postPutPages")},aa=function(g){jt.publish("putFont",{font:g,out:V,newObject:yr,putStream:zn}),g.isAlreadyPutted!==!0&&(g.objectNumber=yr(),V("<<"),V("/Type /Font"),V("/BaseFont /"+Wa(g.postScriptName)),V("/Subtype /Type1"),typeof g.encoding=="string"&&V("/Encoding /"+g.encoding),V("/FirstChar 32"),V("/LastChar 255"),V(">>"),V("endobj"))},la=function(){for(var g in St)St.hasOwnProperty(g)&&(m===!1||m===!0&&y.hasOwnProperty(g))&&aa(St[g])},ca=function(g){g.objectNumber=yr();var k=[];k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Form"}),k.push({key:"BBox",value:"["+[O(g.x),O(g.y),O(g.x+g.width),O(g.y+g.height)].join(" ")+"]"}),k.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var z=g.pages[1].join(`
`);zn({data:z,additionalKeyValues:k,objectId:g.objectNumber}),V("endobj")},ua=function(){for(var g in Ir)Ir.hasOwnProperty(g)&&ca(Ir[g])},Au=function(g,k){var z,ee=[],de=1/(k-1);for(z=0;z<1;z+=de)ee.push(z);if(ee.push(1),g[0].offset!=0){var Ne={offset:0,color:g[0].color};g.unshift(Ne)}if(g[g.length-1].offset!=1){var Fe={offset:1,color:g[g.length-1].color};g.push(Fe)}for(var $e="",Xe=0,ct=0;ct<ee.length;ct++){for(z=ee[ct];z>g[Xe+1].offset;)Xe++;var ot=g[Xe].offset,wt=(z-ot)/(g[Xe+1].offset-ot),Ht=g[Xe].color,Zt=g[Xe+1].color;$e+=K(Math.round((1-wt)*Ht[0]+wt*Zt[0]).toString(16))+K(Math.round((1-wt)*Ht[1]+wt*Zt[1]).toString(16))+K(Math.round((1-wt)*Ht[2]+wt*Zt[2]).toString(16))}return $e.trim()},Ah=function(g,k){k||(k=21);var z=yr(),ee=Au(g.colors,k),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+k+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zn({data:ee,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:z}),V("endobj"),g.objectNumber=yr(),V("<< /ShadingType "+g.type),V("/ColorSpace /DeviceRGB");var Ne="/Coords ["+O(parseFloat(g.coords[0]))+" "+O(parseFloat(g.coords[1]))+" ";g.type===2?Ne+=O(parseFloat(g.coords[2]))+" "+O(parseFloat(g.coords[3])):Ne+=O(parseFloat(g.coords[2]))+" "+O(parseFloat(g.coords[3]))+" "+O(parseFloat(g.coords[4]))+" "+O(parseFloat(g.coords[5])),V(Ne+="]"),g.matrix&&V("/Matrix ["+g.matrix.toString()+"]"),V("/Function "+z+" 0 R"),V("/Extend [true true]"),V(">>"),V("endobj")},Lh=function(g,k){var z=fr(),ee=yr();k.push({resourcesOid:z,objectOid:ee}),g.objectNumber=ee;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+g.boundingBox.map(O).join(" ")+"]"}),de.push({key:"XStep",value:O(g.xStep)}),de.push({key:"YStep",value:O(g.yStep)}),de.push({key:"Resources",value:z+" 0 R"}),g.matrix&&de.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),zn({data:g.stream,additionalKeyValues:de,objectId:g.objectNumber}),V("endobj")},da=function(g){var k;for(k in Nt)Nt.hasOwnProperty(k)&&(Nt[k]instanceof Mo?Ah(Nt[k]):Nt[k]instanceof il&&Lh(Nt[k],g))},Lu=function(g){for(var k in g.objectNumber=yr(),V("<<"),g)switch(k){case"opacity":V("/ca "+ne(g[k]));break;case"stroke-opacity":V("/CA "+ne(g[k]))}V(">>"),V("endobj")},Ph=function(){var g;for(g in Yt)Yt.hasOwnProperty(g)&&Lu(Yt[g])},Ol=function(){for(var g in V("/XObject <<"),Ir)Ir.hasOwnProperty(g)&&Ir[g].objectNumber>=0&&V("/"+g+" "+Ir[g].objectNumber+" 0 R");jt.publish("putXobjectDict"),V(">>")},Ch=function(){$r.oid=yr(),V("<<"),V("/Filter /Standard"),V("/V "+$r.v),V("/R "+$r.r),V("/U <"+$r.toHexString($r.U)+">"),V("/O <"+$r.toHexString($r.O)+">"),V("/P "+$r.P),V(">>"),V("endobj")},Pu=function(){for(var g in V("/Font <<"),St)St.hasOwnProperty(g)&&(m===!1||m===!0&&y.hasOwnProperty(g))&&V("/"+g+" "+St[g].objectNumber+" 0 R");V(">>")},Eh=function(){if(Object.keys(Nt).length>0){for(var g in V("/Shading <<"),Nt)Nt.hasOwnProperty(g)&&Nt[g]instanceof Mo&&Nt[g].objectNumber>=0&&V("/"+g+" "+Nt[g].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),V(">>")}},fa=function(g){if(Object.keys(Nt).length>0){for(var k in V("/Pattern <<"),Nt)Nt.hasOwnProperty(k)&&Nt[k]instanceof p.TilingPattern&&Nt[k].objectNumber>=0&&Nt[k].objectNumber<g&&V("/"+k+" "+Nt[k].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),V(">>")}},Ih=function(){if(Object.keys(Yt).length>0){var g;for(g in V("/ExtGState <<"),Yt)Yt.hasOwnProperty(g)&&Yt[g].objectNumber>=0&&V("/"+g+" "+Yt[g].objectNumber+" 0 R");jt.publish("putGStateDict"),V(">>")}},ir=function(g){kn(g.resourcesOid,!0),V("<<"),V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Pu(),Eh(),fa(g.objectOid),Ih(),Ol(),V(">>"),V("endobj")},Cu=function(){var g=[];la(),Ph(),ua(),da(g),jt.publish("putResources"),g.forEach(ir),ir({resourcesOid:oi,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},Eu=function(){jt.publish("putAdditionalObjects");for(var g=0;g<Ce.length;g++){var k=Ce[g];kn(k.objId,!0),V(k.content),V("endobj")}jt.publish("postPutAdditionalObjects")},Iu=function(g){qt[g.fontName]=qt[g.fontName]||{},qt[g.fontName][g.fontStyle]=g.id},Dl=function(g,k,z,ee,de){var Ne={id:"F"+(Object.keys(St).length+1).toString(10),postScriptName:g,fontName:k,fontStyle:z,encoding:ee,isStandardFont:de||!1,metadata:{}};return jt.publish("addFont",{font:Ne,instance:this}),St[Ne.id]=Ne,Iu(Ne),Ne.id},Fh=function(g){for(var k=0,z=H.length;k<z;k++){var ee=Dl.call(this,g[k][0],g[k][1],g[k][2],H[k][3],!0);m===!1&&(y[ee]=!0);var de=g[k][0].split("-");Iu({id:ee,fontName:de[0],fontStyle:de[1]||""})}jt.publish("addFonts",{fonts:St,dictionary:qt})},ci=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(ee){var k=ee.stack||"";~k.indexOf(" at ")&&(k=k.split(" at ")[1]);var z="Error in function "+k.split(`
`)[0].split("<")[0]+": "+ee.message;if(!rt.console)throw new Error(z);rt.console.error(z,ee),rt.alert&&alert(z)}},g.foo.bar=g,g.foo},ha=function(g,k){var z,ee,de,Ne,Fe,$e,Xe,ct,ot;if(de=(k=k||{}).sourceEncoding||"Unicode",Fe=k.outputEncoding,(k.autoencode||Fe)&&St[dt].metadata&&St[dt].metadata[de]&&St[dt].metadata[de].encoding&&(Ne=St[dt].metadata[de].encoding,!Fe&&St[dt].encoding&&(Fe=St[dt].encoding),!Fe&&Ne.codePages&&(Fe=Ne.codePages[0]),typeof Fe=="string"&&(Fe=Ne[Fe]),Fe)){for(Xe=!1,$e=[],z=0,ee=g.length;z<ee;z++)(ct=Fe[g.charCodeAt(z)])?$e.push(String.fromCharCode(ct)):$e.push(g[z]),$e[z].charCodeAt(0)>>8&&(Xe=!0);g=$e.join("")}for(z=g.length;Xe===void 0&&z!==0;)g.charCodeAt(z-1)>>8&&(Xe=!0),z--;if(!Xe)return g;for($e=k.noBOM?[]:[254,255],z=0,ee=g.length;z<ee;z++){if((ot=(ct=g.charCodeAt(z))>>8)>>8)throw new Error("Character at position "+z+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$e.push(ot),$e.push(ct-(ot<<8))}return String.fromCharCode.apply(void 0,$e)},fn=p.__private__.pdfEscape=p.pdfEscape=function(g,k){return ha(g,k).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Rl=p.__private__.beginPage=function(g){ge[++Qt]=[],st[Qt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},Tu(Qt),_e(ge[M])},Fu=function(g,k){var z,ee,de;switch(r=k||r,typeof g=="string"&&(z=x(g.toLowerCase()),Array.isArray(z)&&(ee=z[0],de=z[1])),Array.isArray(g)&&(ee=g[0]*Be,de=g[1]*Be),isNaN(ee)&&(ee=i[0],de=i[1]),(ee>14400||de>14400)&&(Tt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ee=Math.min(14400,ee),de=Math.min(14400,de)),i=[ee,de],r.substr(0,1)){case"l":de>ee&&(i=[de,ee]);break;case"p":ee>de&&(i=[de,ee])}Rl(i),Uu($l),V(ui),ql!==0&&V(ql+" J"),Vl!==0&&V(Vl+" j"),jt.publish("addPage",{pageNumber:Qt})},Th=function(g){g>0&&g<=Qt&&(ge.splice(g,1),st.splice(g,1),Qt--,M>Qt&&(M=Qt),this.setPage(M))},Tu=function(g){g>0&&g<=Qt&&(M=g)},Oh=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ge.length-1},Ou=function(g,k,z){var ee,de=void 0;return z=z||{},g=g!==void 0?g:St[dt].fontName,k=k!==void 0?k:St[dt].fontStyle,ee=g.toLowerCase(),qt[ee]!==void 0&&qt[ee][k]!==void 0?de=qt[ee][k]:qt[g]!==void 0&&qt[g][k]!==void 0?de=qt[g][k]:z.disableWarning===!1&&Tt.warn("Unable to look up font label for font '"+g+"', '"+k+"'. Refer to getFontList() for available fonts."),de||z.noFallback||(de=qt.times[k])==null&&(de=qt.times.normal),de},Dh=p.__private__.putInfo=function(){var g=yr(),k=function(ee){return ee};for(var z in h!==null&&(k=$r.encryptor(g,0)),V("<<"),V("/Producer ("+fn(k("jsPDF "+tt.version))+")"),et)et.hasOwnProperty(z)&&et[z]&&V("/"+z.substr(0,1).toUpperCase()+z.substr(1)+" ("+fn(k(et[z]))+")");V("/CreationDate ("+fn(k(fe))+")"),V(">>"),V("endobj")},Ml=p.__private__.putCatalog=function(g){var k=(g=g||{}).rootDictionaryObjId||Qi;switch(yr(),V("<<"),V("/Type /Catalog"),V("/Pages "+k+" 0 R"),we||(we="fullwidth"),we){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var z=""+we;z.substr(z.length-1)==="%"&&(we=parseInt(we)/100),typeof we=="number"&&V("/OpenAction [3 0 R /XYZ null null "+ne(we)+"]")}switch(Je||(Je="continuous"),Je){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}Ie&&V("/PageMode /"+Ie),jt.publish("putCatalog"),V(">>"),V("endobj")},Rh=p.__private__.putTrailer=function(){V("trailer"),V("<<"),V("/Size "+(Z+1)),V("/Root "+Z+" 0 R"),V("/Info "+(Z-1)+" 0 R"),h!==null&&V("/Encrypt "+$r.oid+" 0 R"),V("/ID [ <"+ue+"> <"+ue+"> ]"),V(">>")},Mh=p.__private__.putHeader=function(){V("%PDF-"+S),V("%")},Bh=p.__private__.putXRef=function(){var g="0000000000";V("xref"),V("0 "+(Z+1)),V("0000000000 65535 f ");for(var k=1;k<=Z;k++)typeof ce[k]=="function"?V((g+ce[k]()).slice(-10)+" 00000 n "):ce[k]!==void 0?V((g+ce[k]).slice(-10)+" 00000 n "):V("0000000000 00000 n ")},Zi=p.__private__.buildDocument=function(){Re(),_e(me),jt.publish("buildDocument"),Mh(),bo(),Eu(),Cu(),h!==null&&Ch(),Dh(),Ml();var g=le;return Bh(),Rh(),V("startxref"),V(""+g),V("%%EOF"),_e(ge[M]),me.join(`
`)},pa=p.__private__.getBlob=function(g){return new Blob([B(g)],{type:"application/pdf"})},ma=p.output=p.__private__.output=ci(function(g,k){switch(typeof(k=k||{})=="string"?k={filename:k}:k.filename=k.filename||"generated.pdf",g){case void 0:return Zi();case"save":p.save(k.filename);break;case"arraybuffer":return B(Zi());case"blob":return pa(Zi());case"bloburi":case"bloburl":if(rt.URL!==void 0&&typeof rt.URL.createObjectURL=="function")return rt.URL&&rt.URL.createObjectURL(pa(Zi()))||void 0;Tt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var z="",ee=Zi();try{z=T1(ee)}catch{z=T1(unescape(encodeURIComponent(ee)))}return"data:application/pdf;filename="+k.filename+";base64,"+z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';k.pdfObjectUrl&&(de=k.pdfObjectUrl,Ne="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(k)+");<\/script></body></html>",$e=rt.open();return $e!==null&&$e.document.write(Fe),$e}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rt)==="[object Window]"){var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(k.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+k.filename+'" width="500px" height="400px" /></body></html>',ct=rt.open();if(ct!==null){ct.document.write(Xe);var ot=this;ct.document.documentElement.querySelector("#pdfViewer").onload=function(){ct.document.title=k.filename,ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ot.output("bloburl"))}}return ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",k)+'"></iframe></body></html>',Ht=rt.open();if(Ht!==null&&(Ht.document.write(wt),Ht.document.title=k.filename),Ht||typeof safari>"u")return Ht;break;case"datauri":case"dataurl":return rt.document.location.href=this.output("datauristring",k);default:return null}}),Du=function(g){return Array.isArray(xo)===!0&&xo.indexOf(g)>-1};switch(n){case"pt":Be=1;break;case"mm":Be=72/25.4;break;case"cm":Be=72/2.54;break;case"in":Be=72;break;case"px":Be=Du("px_scaling")==1?.75:96/72;break;case"pc":case"em":Be=12;break;case"ex":Be=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Be=n}var $r=null;Ae(),J();var Uh=function(g){return h!==null?$r.encryptor(g,0):function(k){return k}},Ru=p.__private__.getPageInfo=p.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[g].objId,pageNumber:g,pageContext:st[g]}},nt=p.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var k in st)if(st[k].objId===g)break;return Ru(k)},$h=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:st[M].objId,pageNumber:M,pageContext:st[M]}};p.addPage=function(){return Fu.apply(this,arguments),this},p.setPage=function(){return Tu.apply(this,arguments),_e.call(this,ge[M]),this},p.insertPage=function(g){return this.addPage(),this.movePage(M,g),this},p.movePage=function(g,k){var z,ee;if(g>k){z=ge[g],ee=st[g];for(var de=g;de>k;de--)ge[de]=ge[de-1],st[de]=st[de-1];ge[k]=z,st[k]=ee,this.setPage(k)}else if(g<k){z=ge[g],ee=st[g];for(var Ne=g;Ne<k;Ne++)ge[Ne]=ge[Ne+1],st[Ne]=st[Ne+1];ge[k]=z,st[k]=ee,this.setPage(k)}return this},p.deletePage=function(){return Th.apply(this,arguments),this},p.__private__.text=p.text=function(g,k,z,ee,de){var Ne,Fe,$e,Xe,ct,ot,wt,Ht,Zt,hr=(ee=ee||{}).scope||this;if(typeof g=="number"&&typeof k=="number"&&(typeof z=="string"||Array.isArray(z))){var zr=z;z=k,k=g,g=zr}if(arguments[3]instanceof Ze?(E("The transform parameter of text() with a Matrix value"),Zt=de):($e=arguments[4],Xe=arguments[5],Lt(wt=arguments[3])==="object"&&wt!==null||(typeof $e=="string"&&(Xe=$e,$e=null),typeof wt=="string"&&(Xe=wt,wt=null),typeof wt=="number"&&($e=wt,wt=null),ee={flags:wt,angle:$e,align:Xe})),isNaN(k)||isNaN(z)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return hr;var Nr="",di=!1,An=typeof ee.lineHeightFactor=="number"?ee.lineHeightFactor:So,Oi=hr.internal.scaleFactor;function Hu(Ot){return Ot=Ot.split("	").join(Array(ee.TabLen||9).join(" ")),fn(Ot,wt)}function Kl(Ot){for(var Dt,or=Ot.concat(),wr=[],is=or.length;is--;)typeof(Dt=or.shift())=="string"?wr.push(Dt):Array.isArray(Ot)&&(Dt.length===1||Dt[1]===void 0&&Dt[2]===void 0)?wr.push(Dt[0]):wr.push([Dt[0],Dt[1],Dt[2]]);return wr}function Xl(Ot,Dt){var or;if(typeof Ot=="string")or=Dt(Ot)[0];else if(Array.isArray(Ot)){for(var wr,is,ic=Ot.concat(),Ca=[],Yu=ic.length;Yu--;)typeof(wr=ic.shift())=="string"?Ca.push(Dt(wr)[0]):Array.isArray(wr)&&typeof wr[0]=="string"&&(is=Dt(wr[0],wr[1],wr[2]),Ca.push([is[0],is[1],is[2]]));or=Ca}return or}var ba=!1,Yl=!0;if(typeof g=="string")ba=!0;else if(Array.isArray(g)){var Ql=g.concat();Fe=[];for(var _a,Fr=Ql.length;Fr--;)(typeof(_a=Ql.shift())!="string"||Array.isArray(_a)&&typeof _a[0]!="string")&&(Yl=!1);ba=Yl}if(ba===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Sa=Q/hr.internal.scaleFactor,Na=Sa*(An-1);switch(ee.baseline){case"bottom":z-=Na;break;case"top":z+=Sa-Na;break;case"hanging":z+=Sa-2*Na;break;case"middle":z+=Sa/2-Na}if((ot=ee.maxWidth||0)>0&&(typeof g=="string"?g=hr.splitTextToSize(g,ot):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Ot,Dt){return Ot.concat(hr.splitTextToSize(Dt,ot))},[]))),Ne={text:g,x:k,y:z,options:ee,mutex:{pdfEscape:fn,activeFontKey:dt,fonts:St,activeFontSize:Q}},jt.publish("preProcessText",Ne),g=Ne.text,$e=(ee=Ne.options).angle,!(Zt instanceof Ze)&&$e&&typeof $e=="number"){$e*=Math.PI/180,ee.rotationDirection===0&&($e=-$e),N===w.ADVANCED&&($e=-$e);var ja=Math.cos($e),Zl=Math.sin($e);Zt=new Ze(ja,Zl,-Zl,ja,0,0)}else $e&&$e instanceof Ze&&(Zt=$e);N!==w.ADVANCED||Zt||(Zt=Ci),(ct=ee.charSpace||ya)!==void 0&&(Nr+=O(I(ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ht=ee.horizontalScale)!==void 0&&(Nr+=O(100*Ht)+` Tz
`),ee.lang;var hn=-1,Yh=ee.renderingMode!==void 0?ee.renderingMode:ee.stroke,ec=hr.internal.getCurrentPageInfo().pageContext;switch(Yh){case 0:case!1:case"fill":hn=0;break;case 1:case!0:case"stroke":hn=1;break;case 2:case"fillThenStroke":hn=2;break;case 3:case"invisible":hn=3;break;case 4:case"fillAndAddForClipping":hn=4;break;case 5:case"strokeAndAddPathForClipping":hn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hn=6;break;case 7:case"addToPathForClipping":hn=7}var Gu=ec.usedRenderingMode!==void 0?ec.usedRenderingMode:-1;hn!==-1?Nr+=hn+` Tr
`:Gu!==-1&&(Nr+=`0 Tr
`),hn!==-1&&(ec.usedRenderingMode=hn),Xe=ee.align||"left";var qn,ka=Q*An,Ju=hr.internal.pageSize.getWidth(),Ku=St[dt];ct=ee.charSpace||ya,ot=ee.maxWidth||0,wt=Object.assign({autoencode:!0,noBOM:!0},ee.flags);var ks=[],ko=function(Ot){return hr.getStringUnitWidth(Ot,{font:Ku,charSpace:ct,fontSize:Q,doKerning:!1})*Q/Oi};if(Object.prototype.toString.call(g)==="[object Array]"){var pn;Fe=Kl(g),Xe!=="left"&&(qn=Fe.map(ko));var en,As=0;if(Xe==="right"){k-=qn[0],g=[],Fr=Fe.length;for(var ts=0;ts<Fr;ts++)ts===0?(en=Ti(k),pn=es(z)):(en=I(As-qn[ts]),pn=-ka),g.push([Fe[ts],en,pn]),As=qn[ts]}else if(Xe==="center"){k-=qn[0]/2,g=[],Fr=Fe.length;for(var rs=0;rs<Fr;rs++)rs===0?(en=Ti(k),pn=es(z)):(en=I((As-qn[rs])/2),pn=-ka),g.push([Fe[rs],en,pn]),As=qn[rs]}else if(Xe==="left"){g=[],Fr=Fe.length;for(var Aa=0;Aa<Fr;Aa++)g.push(Fe[Aa])}else if(Xe==="justify"&&Ku.encoding==="Identity-H"){g=[],Fr=Fe.length,ot=ot!==0?ot:Ju;for(var ns=0,sr=0;sr<Fr;sr++)if(pn=sr===0?es(z):-ka,en=sr===0?Ti(k):ns,sr<Fr-1){var tc=I((ot-qn[sr])/(Fe[sr].split(" ").length-1)),tn=Fe[sr].split(" ");g.push([tn[0]+" ",en,pn]),ns=0;for(var Vn=1;Vn<tn.length;Vn++){var La=(ko(tn[Vn-1]+" "+tn[Vn])-ko(tn[Vn]))*Oi+tc;Vn==tn.length-1?g.push([tn[Vn],La,0]):g.push([tn[Vn]+" ",La,0]),ns-=La}}else g.push([Fe[sr],en,pn]);g.push(["",ns,0])}else{if(Xe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],Fr=Fe.length,ot=ot!==0?ot:Ju,sr=0;sr<Fr;sr++)pn=sr===0?es(z):-ka,en=sr===0?Ti(k):0,sr<Fr-1?ks.push(O(I((ot-qn[sr])/(Fe[sr].split(" ").length-1)))):ks.push(0),g.push([Fe[sr],en,pn])}}var Xu=typeof ee.R2L=="boolean"?ee.R2L:xe;Xu===!0&&(g=Xl(g,function(Ot,Dt,or){return[Ot.split("").reverse().join(""),Dt,or]})),Ne={text:g,x:k,y:z,options:ee,mutex:{pdfEscape:fn,activeFontKey:dt,fonts:St,activeFontSize:Q}},jt.publish("postProcessText",Ne),g=Ne.text,di=Ne.mutex.isHex||!1;var rc=St[dt].encoding;rc!=="WinAnsiEncoding"&&rc!=="StandardEncoding"||(g=Xl(g,function(Ot,Dt,or){return[Hu(Ot),Dt,or]})),Fe=Kl(g),g=[];for(var Ao,Lo,Ls,Po=0,Pa=1,Co=Array.isArray(Fe[0])?Pa:Po,Ps="",nc=function(Ot,Dt,or){var wr="";return or instanceof Ze?(or=typeof ee.angle=="number"?si(or,new Ze(1,0,0,1,Ot,Dt)):si(new Ze(1,0,0,1,Ot,Dt),or),N===w.ADVANCED&&(or=si(new Ze(1,0,0,-1,0,0),or)),wr=or.join(" ")+` Tm
`):wr=O(Ot)+" "+O(Dt)+` Td
`,wr},Wn=0;Wn<Fe.length;Wn++){switch(Ps="",Co){case Pa:Ls=(di?"<":"(")+Fe[Wn][0]+(di?">":")"),Ao=parseFloat(Fe[Wn][1]),Lo=parseFloat(Fe[Wn][2]);break;case Po:Ls=(di?"<":"(")+Fe[Wn]+(di?">":")"),Ao=Ti(k),Lo=es(z)}ks!==void 0&&ks[Wn]!==void 0&&(Ps=ks[Wn]+` Tw
`),Wn===0?g.push(Ps+nc(Ao,Lo,Zt)+Ls):Co===Po?g.push(Ps+Ls):Co===Pa&&g.push(Ps+nc(Ao,Lo,Zt)+Ls)}g=Co===Po?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Hn=`BT
/`;return Hn+=dt+" "+Q+` Tf
`,Hn+=O(Q*An)+` TL
`,Hn+=No+`
`,Hn+=Nr,Hn+=g,V(Hn+="ET"),y[dt]=!0,hr};var zh=p.__private__.clip=p.clip=function(g){return V(g==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return zh("evenodd")},p.__private__.discardPath=p.discardPath=function(){return V("n"),this};var Fi=p.__private__.isValidStyle=function(g){var k=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(k=!0),k};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(g){return Fi(g)&&(d=g),this};var Mu=p.__private__.getStyle=p.getStyle=function(g){var k=d;switch(g){case"D":case"S":k="S";break;case"F":k="f";break;case"FD":case"DF":k="B";break;case"f":case"f*":case"B":case"B*":k=g}return k},Bu=p.close=function(){return V("h"),this};p.stroke=function(){return V("S"),this},p.fill=function(g){return ga("f",g),this},p.fillEvenOdd=function(g){return ga("f*",g),this},p.fillStroke=function(g){return ga("B",g),this},p.fillStrokeEvenOdd=function(g){return ga("B*",g),this};var ga=function(g,k){Lt(k)==="object"?Vh(k,g):V(g)},Bl=function(g){g===null||N===w.ADVANCED&&g===void 0||(g=Mu(g),V(g))};function qh(g,k,z,ee,de){var Ne=new il(k||this.boundingBox,z||this.xStep,ee||this.yStep,this.gState,de||this.matrix);Ne.stream=this.stream;var Fe=g+"$$"+this.cloneIndex+++"$$";return dn(Fe,Ne),Ne}var Vh=function(g,k){var z=wo[g.key],ee=Nt[z];if(ee instanceof Mo)V("q"),V(Wh(k)),ee.gState&&p.setGState(ee.gState),V(g.matrix.toString()+" cm"),V("/"+z+" sh"),V("Q");else if(ee instanceof il){var de=new Ze(1,0,0,-1,0,js());g.matrix&&(de=de.multiply(g.matrix||Ci),z=qh.call(ee,g.key,g.boundingBox,g.xStep,g.yStep,de).id),V("q"),V("/Pattern cs"),V("/"+z+" scn"),ee.gState&&p.setGState(ee.gState),V(k),V("Q")}},Wh=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ul=p.moveTo=function(g,k){return V(O(I(g))+" "+O(q(k))+" m"),this},_o=p.lineTo=function(g,k){return V(O(I(g))+" "+O(q(k))+" l"),this},Ss=p.curveTo=function(g,k,z,ee,de,Ne){return V([O(I(g)),O(q(k)),O(I(z)),O(q(ee)),O(I(de)),O(q(Ne)),"c"].join(" ")),this};p.__private__.line=p.line=function(g,k,z,ee,de){if(isNaN(g)||isNaN(k)||isNaN(z)||isNaN(ee)||!Fi(de))throw new Error("Invalid arguments passed to jsPDF.line");return N===w.COMPAT?this.lines([[z-g,ee-k]],g,k,[1,1],de||"S"):this.lines([[z-g,ee-k]],g,k,[1,1]).stroke()},p.__private__.lines=p.lines=function(g,k,z,ee,de,Ne){var Fe,$e,Xe,ct,ot,wt,Ht,Zt,hr,zr,Nr,di;if(typeof g=="number"&&(di=z,z=k,k=g,g=di),ee=ee||[1,1],Ne=Ne||!1,isNaN(k)||isNaN(z)||!Array.isArray(g)||!Array.isArray(ee)||!Fi(de)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ul(k,z),Fe=ee[0],$e=ee[1],ct=g.length,zr=k,Nr=z,Xe=0;Xe<ct;Xe++)(ot=g[Xe]).length===2?(zr=ot[0]*Fe+zr,Nr=ot[1]*$e+Nr,_o(zr,Nr)):(wt=ot[0]*Fe+zr,Ht=ot[1]*$e+Nr,Zt=ot[2]*Fe+zr,hr=ot[3]*$e+Nr,zr=ot[4]*Fe+zr,Nr=ot[5]*$e+Nr,Ss(wt,Ht,Zt,hr,zr,Nr));return Ne&&Bu(),Bl(de),this},p.path=function(g){for(var k=0;k<g.length;k++){var z=g[k],ee=z.c;switch(z.op){case"m":Ul(ee[0],ee[1]);break;case"l":_o(ee[0],ee[1]);break;case"c":Ss.apply(this,ee);break;case"h":Bu()}}return this},p.__private__.rect=p.rect=function(g,k,z,ee,de){if(isNaN(g)||isNaN(k)||isNaN(z)||isNaN(ee)||!Fi(de))throw new Error("Invalid arguments passed to jsPDF.rect");return N===w.COMPAT&&(ee=-ee),V([O(I(g)),O(q(k)),O(I(z)),O(I(ee)),"re"].join(" ")),Bl(de),this},p.__private__.triangle=p.triangle=function(g,k,z,ee,de,Ne,Fe){if(isNaN(g)||isNaN(k)||isNaN(z)||isNaN(ee)||isNaN(de)||isNaN(Ne)||!Fi(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[z-g,ee-k],[de-z,Ne-ee],[g-de,k-Ne]],g,k,[1,1],Fe,!0),this},p.__private__.roundedRect=p.roundedRect=function(g,k,z,ee,de,Ne,Fe){if(isNaN(g)||isNaN(k)||isNaN(z)||isNaN(ee)||isNaN(de)||isNaN(Ne)||!Fi(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $e=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*z),Ne=Math.min(Ne,.5*ee),this.lines([[z-2*de,0],[de*$e,0,de,Ne-Ne*$e,de,Ne],[0,ee-2*Ne],[0,Ne*$e,-de*$e,Ne,-de,Ne],[2*de-z,0],[-de*$e,0,-de,-Ne*$e,-de,-Ne],[0,2*Ne-ee],[0,-Ne*$e,de*$e,-Ne,de,-Ne]],g+de,k,[1,1],Fe,!0),this},p.__private__.ellipse=p.ellipse=function(g,k,z,ee,de){if(isNaN(g)||isNaN(k)||isNaN(z)||isNaN(ee)||!Fi(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*z,Fe=4/3*(Math.SQRT2-1)*ee;return Ul(g+z,k),Ss(g+z,k-Fe,g+Ne,k-ee,g,k-ee),Ss(g-Ne,k-ee,g-z,k-Fe,g-z,k),Ss(g-z,k+Fe,g-Ne,k+ee,g,k+ee),Ss(g+Ne,k+ee,g+z,k+Fe,g+z,k),Bl(de),this},p.__private__.circle=p.circle=function(g,k,z,ee){if(isNaN(g)||isNaN(k)||isNaN(z)||!Fi(ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,k,z,z,ee)},p.setFont=function(g,k,z){return z&&(k=X(k,z)),dt=Ou(g,k,{disableWarning:!1}),this};var Hh=p.__private__.getFont=p.getFont=function(){return St[Ou.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var g,k,z={};for(g in qt)if(qt.hasOwnProperty(g))for(k in z[g]=[],qt[g])qt[g].hasOwnProperty(k)&&z[g].push(k);return z},p.addFont=function(g,k,z,ee,de){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(z=X(z,ee)),de=de||"Identity-H",Dl.call(this,g,k,z,de)};var So,$l=e.lineWidth||.200025,va=p.__private__.getLineWidth=p.getLineWidth=function(){return $l},Uu=p.__private__.setLineWidth=p.setLineWidth=function(g){return $l=g,V(O(I(g))+" w"),this};p.__private__.setLineDash=tt.API.setLineDash=tt.API.setLineDashPattern=function(g,k){if(g=g||[],k=k||0,isNaN(k)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(z){return O(I(z))}).join(" "),k=O(I(k)),V("["+g+"] "+k+" d"),this};var $u=p.__private__.getLineHeight=p.getLineHeight=function(){return Q*So};p.__private__.getLineHeight=p.getLineHeight=function(){return Q*So};var zu=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(So=g),this},qu=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return So};zu(e.lineHeight);var Ti=p.__private__.getHorizontalCoordinate=function(g){return I(g)},es=p.__private__.getVerticalCoordinate=function(g){return N===w.ADVANCED?g:st[M].mediaBox.topRightY-st[M].mediaBox.bottomLeftY-I(g)},Gh=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(g){return O(Ti(g))},Ns=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(g){return O(es(g))},ui=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ai(ui)},p.__private__.setStrokeColor=p.setDrawColor=function(g,k,z,ee){return ui=li({ch1:g,ch2:k,ch3:z,ch4:ee,pdfColorType:"draw",precision:2}),V(ui),this};var zl=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ai(zl)},p.__private__.setFillColor=p.setFillColor=function(g,k,z,ee){return zl=li({ch1:g,ch2:k,ch3:z,ch4:ee,pdfColorType:"fill",precision:2}),V(zl),this};var No=e.textColor||"0 g",Jh=p.__private__.getTextColor=p.getTextColor=function(){return ai(No)};p.__private__.setTextColor=p.setTextColor=function(g,k,z,ee){return No=li({ch1:g,ch2:k,ch3:z,ch4:ee,pdfColorType:"text",precision:3}),this};var ya=e.charSpace,Kh=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ya||0)};p.__private__.setCharSpace=p.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ya=g,this};var ql=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(g){var k=p.CapJoinStyles[g];if(k===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ql=k,V(k+" J"),this};var Vl=0;p.__private__.setLineJoin=p.setLineJoin=function(g){var k=p.CapJoinStyles[g];if(k===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vl=k,V(k+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return V(O(I(g))+" M"),this},p.GState=Wf,p.setGState=function(g){(g=typeof g=="string"?Yt[ii[g]]:Vu(null,g)).equals(Yi)||(V("/"+g.id+" gs"),Yi=g)};var Vu=function(g,k){if(!g||!ii[g]){var z=!1;for(var ee in Yt)if(Yt.hasOwnProperty(ee)&&Yt[ee].equals(k)){z=!0;break}if(z)k=Yt[ee];else{var de="GS"+(Object.keys(Yt).length+1).toString(10);Yt[de]=k,k.id=de}return g&&(ii[g]=k.id),jt.publish("addGState",k),k}};p.addGState=function(g,k){return Vu(g,k),this},p.saveGraphicsState=function(){return V("q"),Ai.push({key:dt,size:Q,color:No}),this},p.restoreGraphicsState=function(){V("Q");var g=Ai.pop();return dt=g.key,Q=g.size,No=g.color,Yi=null,this},p.setCurrentTransformationMatrix=function(g){return V(g.toString()+" cm"),this},p.comment=function(g){return V("#"+g),this};var wa=function(g,k){var z=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return z},set:function(Ne){isNaN(Ne)||(z=parseFloat(Ne))}});var ee=k||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ee},set:function(Ne){isNaN(Ne)||(ee=parseFloat(Ne))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(Ne){de=Ne.toString()}}),this},Wl=function(g,k,z,ee){wa.call(this,g,k),this.type="rect";var de=z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Fe){isNaN(Fe)||(de=parseFloat(Fe))}});var Ne=ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(Fe){isNaN(Fe)||(Ne=parseFloat(Fe))}}),this},Hl=function(){this.page=Qt,this.currentPage=M,this.pages=ge.slice(0),this.pagesContext=st.slice(0),this.x=Sr,this.y=vt,this.matrix=jn,this.width=jo(M),this.height=js(M),this.outputDestination=Te,this.id="",this.objectNumber=-1};Hl.prototype.restore=function(){Qt=this.page,M=this.currentPage,st=this.pagesContext,ge=this.pages,Sr=this.x,vt=this.y,jn=this.matrix,Gl(M,this.width),Jl(M,this.height),Te=this.outputDestination};var Wu=function(g,k,z,ee,de){Pi.push(new Hl),Qt=M=0,ge=[],Sr=g,vt=k,jn=de,Rl([z,ee])},Xh=function(g){if(Li[g])Pi.pop().restore();else{var k=new Hl,z="Xo"+(Object.keys(Ir).length+1).toString(10);k.id=z,Li[g]=z,Ir[z]=k,jt.publish("addFormObject",k),Pi.pop().restore()}};for(var xa in p.beginFormObject=function(g,k,z,ee,de){return Wu(g,k,z,ee,de),this},p.endFormObject=function(g){return Xh(g),this},p.doFormObject=function(g,k){var z=Ir[Li[g]];return V("q"),V(k.toString()+" cm"),V("/"+z.id+" Do"),V("Q"),this},p.getFormObject=function(g){var k=Ir[Li[g]];return{x:k.x,y:k.y,width:k.width,height:k.height,matrix:k.matrix}},p.save=function(g,k){return g=g||"generated.pdf",(k=k||{}).returnPromise=k.returnPromise||!1,k.returnPromise===!1?(Do(pa(Zi()),g),typeof Do.unload=="function"&&rt.setTimeout&&setTimeout(Do.unload,911),this):new Promise(function(z,ee){try{var de=Do(pa(Zi()),g);typeof Do.unload=="function"&&rt.setTimeout&&setTimeout(Do.unload,911),z(de)}catch(Ne){ee(Ne.message)}})},tt.API)tt.API.hasOwnProperty(xa)&&(xa==="events"&&tt.API.events.length?function(g,k){var z,ee,de;for(de=k.length-1;de!==-1;de--)z=k[de][0],ee=k[de][1],g.subscribe.apply(g,[z].concat(typeof ee=="function"?[ee]:ee))}(jt,tt.API.events):p[xa]=tt.API[xa]);var jo=p.getPageWidth=function(g){return(st[g=g||M].mediaBox.topRightX-st[g].mediaBox.bottomLeftX)/Be},Gl=p.setPageWidth=function(g,k){st[g].mediaBox.topRightX=k*Be+st[g].mediaBox.bottomLeftX},js=p.getPageHeight=function(g){return(st[g=g||M].mediaBox.topRightY-st[g].mediaBox.bottomLeftY)/Be},Jl=p.setPageHeight=function(g,k){st[g].mediaBox.topRightY=k*Be+st[g].mediaBox.bottomLeftY};return p.internal={pdfEscape:fn,getStyle:Mu,getFont:Hh,getFontSize:pe,getCharSpace:Kh,getTextColor:Jh,getLineHeight:$u,getLineHeightFactor:qu,getLineWidth:va,write:He,getHorizontalCoordinate:Ti,getVerticalCoordinate:es,getCoordinateString:Gh,getVerticalCoordinateString:Ns,collections:{},newObject:yr,newAdditionalObject:oa,newObjectDeferred:fr,newObjectDeferredBegin:kn,getFilters:Ei,putStream:zn,events:jt,scaleFactor:Be,pageSize:{getWidth:function(){return jo(M)},setWidth:function(g){Gl(M,g)},getHeight:function(){return js(M)},setHeight:function(g){Jl(M,g)}},encryptionOptions:h,encryption:$r,getEncryptor:Uh,output:ma,getNumberOfPages:Oh,pages:ge,out:V,f2:ne,f3:T,getPageInfo:Ru,getPageInfoByObjId:nt,getCurrentPageInfo:$h,getPDFVersion:_,Point:wa,Rectangle:Wl,Matrix:Ze,hasHotfix:Du},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return jo(M)},set:function(g){Gl(M,g)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return js(M)},set:function(g){Jl(M,g)},enumerable:!0,configurable:!0}),Fh.call(p,H),dt="F1",Fu(i,r),jt.publish("initialized"),p}Va.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Va.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Va.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Va.prototype.processOwnerPassword=function(e,t){return D1(O1(t).substr(0,5),e)},Va.prototype.encryptor=function(e,t){var r=O1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return D1(r,n)}},Wf.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Lt(e)!==Lt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},tt.API={events:[]},tt.version="2.5.2";var tr=tt.API,Qm=1,sa=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ua=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},at=function(e){return e.toFixed(2)},Us=function(e){return e.toFixed(5)};tr.__acroform__={};var Nn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},A5=function(e){return e*Qm},Bi=function(e){var t=new mx,r=We.internal.getHeight(e)||0,n=We.internal.getWidth(e)||0;return t.BBox=[0,0,Number(at(n)),Number(at(r))],t},Hj=tr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Gj=tr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Jj=tr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},lr=tr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Jj(e,t-1)},cr=tr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Hj(e,t-1)},ur=tr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Gj(e,t-1)},Kj=tr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],a=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+a)||0,l.upperRight_X=r(i+o)||0,l.upperRight_Y=n(s)||0,[Number(at(l.lowerLeft_X)),Number(at(l.lowerLeft_Y)),Number(at(l.upperRight_X)),Number(at(l.upperRight_Y))]},Xj=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=R1(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+at(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Bi(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},R1=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=r,o=We.internal.getHeight(e)||0;o=o<0?-o:o;var a=We.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(T,I,G){if(T+1<i.length){var q=I+" "+i[T+1][0];return zd(q,e,G).width<=a-4}return!1};s++;e:for(;s>0;){t="",s--;var d,h,m=zd("3",e,s).height,y=e.multiline?o-s:(o-m)/2,p=y+=2,S=0,_=0,L=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+zd(t,e,s=12).width+", FieldWidth:"+a+`
`;break}for(var x="",w=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var R=!1;if(i[N].length!==1&&L!==i[N].length-1){if((m+2)*(w+2)+2>o)continue e;x+=i[N][L],R=!0,_=N,N--}else{x=(x+=i[N][L]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var W=parseInt(N),X=l(W,x,s),O=N>=i.length-1;if(X&&!O){x+=" ",L=0;continue}if(X||O){if(O)_=W;else if(e.multiline&&(m+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(m+2)*(w+2)+2>o)continue e;_=W}}for(var E="",Y=S;Y<=_;Y++){var ne=i[Y];if(e.multiline){if(Y===_){E+=ne[L]+" ",L=(L+1)%ne.length;continue}if(Y===S){E+=ne[ne.length-1]+" ";continue}}E+=ne[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,h=zd(E,e,s).width,e.textAlign){case"right":d=a-h-2;break;case"center":d=(a-h)/2;break;case"left":default:d=2}t+=at(d)+" "+at(p)+` Td
`,t+="("+sa(E)+`) Tj
`,t+=-at(d)+` 0 Td
`,p=-(s+2),h=0,S=R?_:_+1,w++,x=""}break}return n.text=t,n.fontSize=s,n},zd=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Yj={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Qj=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},Zj=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,i=e[r];t.internal.newObjectDeferredBegin(i.objId,!0),Lt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[n]}},ek=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(ji.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Yj)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Qm=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new gx,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&Qj(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],l=[],d=a.Rect;if(a.Rect&&(a.Rect=Kj(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=We.createDefaultAppearanceStream(a),Lt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=d,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=Xj(a);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var m="";for(var y in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(y)){var p=a.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var S=p[o];typeof S=="function"&&(S=S.call(i,a)),m+="/"+o+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=p)=="function"&&(S=S.call(i,a)),m+="/"+o+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&Zj(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},px=tr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Lt(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+sa(n(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},f0=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+sa(n(e))+")"},Wi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wi.prototype.toString=function(){return this.objId+" 0 R"},Wi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Wi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:px(i,this.objId,this.scope)}):i instanceof Wi?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var mx=function(){Wi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Nn(mx,Wi);var gx=function(){Wi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+sa(r(e))+")"}},set:function(r){e=r}})};Nn(gx,Wi);var ji=function e(){Wi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!lr(t,3)},set:function(x){x?this.F=cr(t,3):this.F=ur(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Hf)return;s="FieldObject"+e.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+sa(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Qm:d},set:function(x){d=x}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(x){h=x}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Hf||this instanceof Ho))return f0(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=x}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Pr?y:f0(y,this.objId,this.scope)},set:function(x){x=x.toString(),y=this instanceof Pr?x:x.substr(0,1)==="("?Ua(x.substr(1,x.length-2)):Ua(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pr?Ua(y.substr(1,y.length-1)):y},set:function(x){x=x.toString(),y=this instanceof Pr?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Pr?p:f0(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof Pr?x:x.substr(0,1)==="("?Ua(x.substr(1,x.length-2)):Ua(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pr?Ua(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Pr?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(x){x=!!x,_=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(x){S=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,1)},set:function(x){x?this.Ff=cr(this.Ff,1):this.Ff=ur(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,2)},set:function(x){x?this.Ff=cr(this.Ff,2):this.Ff=ur(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,3)},set:function(x){x?this.Ff=cr(this.Ff,3):this.Ff=ur(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');L=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(L){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:L=2;break;case"center":case 1:L=1;break;case"left":case 0:default:L=0}}})};Nn(ji,Wi);var hl=function(){ji.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return px(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,d=[];l=o.exec(s);)d.push(l[a]);return d}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,18)},set:function(r){r?this.Ff=cr(this.Ff,18):this.Ff=ur(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=cr(this.Ff,19):this.Ff=ur(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,20)},set:function(r){r?(this.Ff=cr(this.Ff,20),t.sort()):this.Ff=ur(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,22)},set:function(r){r?this.Ff=cr(this.Ff,22):this.Ff=ur(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,23)},set:function(r){r?this.Ff=cr(this.Ff,23):this.Ff=ur(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,27)},set:function(r){r?this.Ff=cr(this.Ff,27):this.Ff=ur(this.Ff,27)}}),this.hasAppearanceStream=!1};Nn(hl,ji);var pl=function(){hl.call(this),this.fontName="helvetica",this.combo=!1};Nn(pl,hl);var ml=function(){pl.call(this),this.combo=!0};Nn(ml,pl);var af=function(){ml.call(this),this.edit=!0};Nn(af,ml);var Pr=function(){ji.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,15)},set:function(r){r?this.Ff=cr(this.Ff,15):this.Ff=ur(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,16)},set:function(r){r?this.Ff=cr(this.Ff,16):this.Ff=ur(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,17)},set:function(r){r?this.Ff=cr(this.Ff,17):this.Ff=ur(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,26)},set:function(r){r?this.Ff=cr(this.Ff,26):this.Ff=ur(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+sa(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Lt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Nn(Pr,ji);var lf=function(){Pr.call(this),this.pushButton=!0};Nn(lf,Pr);var gl=function(){Pr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Nn(gl,Pr);var Hf=function(){var e,t;ji.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+sa(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Lt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=We.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Nn(Hf,ji),gl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},gl.prototype.createOption=function(e){var t=new Hf;return t.Parent=this,t.optionName=e,this.Kids.push(t),tk.call(this.scope,t),t};var cf=function(){Pr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=We.CheckBox.createAppearanceStream()};Nn(cf,Pr);var Ho=function(){ji.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,13)},set:function(t){t?this.Ff=cr(this.Ff,13):this.Ff=ur(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,21)},set:function(t){t?this.Ff=cr(this.Ff,21):this.Ff=ur(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,23)},set:function(t){t?this.Ff=cr(this.Ff,23):this.Ff=ur(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,24)},set:function(t){t?this.Ff=cr(this.Ff,24):this.Ff=ur(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,25)},set:function(t){t?this.Ff=cr(this.Ff,25):this.Ff=ur(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,26)},set:function(t){t?this.Ff=cr(this.Ff,26):this.Ff=ur(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Nn(Ho,ji);var uf=function(){Ho.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!lr(this.Ff,14)},set:function(e){e?this.Ff=cr(this.Ff,14):this.Ff=ur(this.Ff,14)}}),this.password=!0};Nn(uf,Ho);var We={CheckBox:{createAppearanceStream:function(){return{N:{On:We.CheckBox.YesNormal},D:{On:We.CheckBox.YesPushDown,Off:We.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=R1(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+at(We.internal.getWidth(e))+" "+at(We.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+at(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Bi(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],s=We.internal.getHeight(e),o=We.internal.getWidth(e),a=R1(e,e.caption);return i.push("1 g"),i.push("0 0 "+at(o)+" "+at(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+at(o-1)+" "+at(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+at(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+at(We.internal.getWidth(e))+" "+at(We.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:We.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=We.RadioButton.Circle.YesNormal,t.D[e]=We.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=We.internal.getWidth(e)<=We.internal.getHeight(e)?We.internal.getWidth(e)/4:We.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=We.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Us(We.internal.getWidth(e)/2)+" "+Us(We.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=We.internal.getWidth(e)<=We.internal.getHeight(e)?We.internal.getWidth(e)/4:We.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*We.internal.Bezier_C).toFixed(5)),o=Number((n*We.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Us(We.internal.getWidth(e)/2)+" "+Us(We.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Us(We.internal.getWidth(e)/2)+" "+Us(We.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=We.internal.getWidth(e)<=We.internal.getHeight(e)?We.internal.getWidth(e)/4:We.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*We.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Us(We.internal.getWidth(e)/2)+" "+Us(We.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:We.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=We.RadioButton.Cross.YesNormal,t.D[e]=We.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Bi(e);t.scope=e.scope;var r=[],n=We.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+at(We.internal.getWidth(e)-2)+" "+at(We.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(at(n.x1.x)+" "+at(n.x1.y)+" m"),r.push(at(n.x2.x)+" "+at(n.x2.y)+" l"),r.push(at(n.x4.x)+" "+at(n.x4.y)+" m"),r.push(at(n.x3.x)+" "+at(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=We.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+at(We.internal.getWidth(e))+" "+at(We.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+at(We.internal.getWidth(e)-2)+" "+at(We.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(at(r.x1.x)+" "+at(r.x1.y)+" m"),n.push(at(r.x2.x)+" "+at(r.x2.y)+" l"),n.push(at(r.x4.x)+" "+at(r.x4.y)+" m"),n.push(at(r.x3.x)+" "+at(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Bi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+at(We.internal.getWidth(e))+" "+at(We.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};We.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=We.internal.getWidth(e),r=We.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},We.internal.getWidth=function(e){var t=0;return Lt(e)==="object"&&(t=A5(e.Rect[2])),t},We.internal.getHeight=function(e){var t=0;return Lt(e)==="object"&&(t=A5(e.Rect[3])),t};var tk=tr.addField=function(e){if(ek(this,e),!(e instanceof ji))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};tr.AcroFormChoiceField=hl,tr.AcroFormListBox=pl,tr.AcroFormComboBox=ml,tr.AcroFormEditBox=af,tr.AcroFormButton=Pr,tr.AcroFormPushButton=lf,tr.AcroFormRadioButton=gl,tr.AcroFormCheckBox=cf,tr.AcroFormTextField=Ho,tr.AcroFormPasswordField=uf,tr.AcroFormAppearance=We,tr.AcroForm={ChoiceField:hl,ListBox:pl,ComboBox:ml,EditBox:af,Button:Pr,PushButton:lf,RadioButton:gl,CheckBox:cf,TextField:Ho,PasswordField:uf,Appearance:We},tt.AcroForm={ChoiceField:hl,ListBox:pl,ComboBox:ml,EditBox:af,Button:Pr,PushButton:lf,RadioButton:gl,CheckBox:cf,TextField:Ho,PasswordField:uf,Appearance:We};function vx(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(T,I){var G,q,fe,ue,he,J=t;if((I=I||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(X(T))for(he in r)for(fe=r[he],G=0;G<fe.length;G+=1){for(ue=!0,q=0;q<fe[G].length;q+=1)if(fe[G][q]!==void 0&&fe[G][q]!==T[q]){ue=!1;break}if(ue===!0){J=he;break}}else for(he in r)for(fe=r[he],G=0;G<fe.length;G+=1){for(ue=!0,q=0;q<fe[G].length;q+=1)if(fe[G][q]!==void 0&&fe[G][q]!==T.charCodeAt(q)){ue=!1;break}if(ue===!0){J=he;break}}return J===t&&I!==t&&(J=I),J},i=function T(I){for(var G=this.internal.write,q=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:I.width}),ue.push({key:"Height",value:I.height}),I.colorSpace===L.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===L.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var he="",J=0,ie=I.transparency.length;J<ie;J++)he+=I.transparency[J]+" "+I.transparency[J]+" ";ue.push({key:"Mask",value:"["+he+"]"})}I.sMask!==void 0&&ue.push({key:"SMask",value:I.objectId+1+" 0 R"});var ae=I.filter!==void 0?["/"+I.filter]:void 0;if(q({data:I.data,additionalKeyValues:ue,alreadyAppliedFilters:ae,objectId:I.objectId}),G("endobj"),"sMask"in I&&I.sMask!==void 0){var Ae="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,A={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:Ae,data:I.sMask};"filter"in I&&(A.filter=I.filter),T.call(this,A)}if(I.colorSpace===L.INDEXED){var M=this.internal.newObject();q({data:E(new Uint8Array(I.palette)),objectId:M}),G("endobj")}},s=function(){var T=this.internal.collections.addImage_images;for(var I in T)i.call(this,T[I])},o=function(){var T,I=this.internal.collections.addImage_images,G=this.internal.write;for(var q in I)G("/I"+(T=I[q]).index,T.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var T=this.internal.collections.addImage_images;return a.call(this),T},d=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(T){return typeof e["process"+T.toUpperCase()]=="function"},m=function(T){return Lt(T)==="object"&&T.nodeType===1},y=function(T,I){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var G=""+T.getAttribute("src");if(G.indexOf("data:image/")===0)return zc(unescape(G).split("base64,").pop());var q=e.loadFile(G,!0);if(q!==void 0)return q}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var fe;switch(I){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;case"JPEG":case"JPG":default:fe="image/jpeg"}return zc(T.toDataURL(fe,1).split("base64,").pop())}},p=function(T){var I=this.internal.collections.addImage_images;if(I){for(var G in I)if(T===I[G].alias)return I[G]}},S=function(T,I,G){return T||I||(T=-96,I=-96),T<0&&(T=-1*G.width*72/T/this.internal.scaleFactor),I<0&&(I=-1*G.height*72/I/this.internal.scaleFactor),T===0&&(T=I*G.width/G.height),I===0&&(I=T*G.height/G.width),[T,I]},_=function(T,I,G,q,fe,ue){var he=S.call(this,G,q,fe),J=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,ae=l.call(this);if(G=he[0],q=he[1],ae[fe.index]=fe,ue){ue*=Math.PI/180;var Ae=Math.cos(ue),A=Math.sin(ue),M=function(K){return K.toFixed(4)},$=[M(Ae),M(A),M(-1*A),M(Ae),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,J(T),ie(I+q),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([J(G),"0","0",J(q),"0","0","cm"].join(" "))):this.internal.write([J(G),"0","0",J(q),J(T),ie(I+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},L=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(T){var I,G,q=0;if(typeof T=="string")for(G=T.length,I=0;I<G;I++)q=(q<<5)-q+T.charCodeAt(I),q|=0;else if(X(T))for(G=T.byteLength/2,I=0;I<G;I++)q=(q<<5)-q+T[I],q|=0;return q},N=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var I=!0;return T.length===0&&(I=!1),T.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(I=!1),I},R=e.__addimage__.extractImageFromDataUrl=function(T){var I=(T=T||"").split("base64,"),G=null;if(I.length===2){var q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(I[0]);Array.isArray(q)&&(G={mimeType:q[1],charset:q[2],data:I[1]})}return G},W=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return W()&&T instanceof ArrayBuffer};var X=e.__addimage__.isArrayBufferView=function(T){return W()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},O=e.__addimage__.binaryStringToUint8Array=function(T){for(var I=T.length,G=new Uint8Array(I),q=0;q<I;q++)G[q]=T.charCodeAt(q);return G},E=e.__addimage__.arrayBufferToBinaryString=function(T){for(var I="",G=X(T)?T:new Uint8Array(T),q=0;q<G.length;q+=8192)I+=String.fromCharCode.apply(null,G.subarray(q,q+8192));return I};e.addImage=function(){var T,I,G,q,fe,ue,he,J,ie;if(typeof arguments[1]=="number"?(I=t,G=arguments[1],q=arguments[2],fe=arguments[3],ue=arguments[4],he=arguments[5],J=arguments[6],ie=arguments[7]):(I=arguments[1],G=arguments[2],q=arguments[3],fe=arguments[4],ue=arguments[5],he=arguments[6],J=arguments[7],ie=arguments[8]),Lt(T=arguments[0])==="object"&&!m(T)&&"imageData"in T){var ae=T;T=ae.imageData,I=ae.format||I||t,G=ae.x||G||0,q=ae.y||q||0,fe=ae.w||ae.width||fe,ue=ae.h||ae.height||ue,he=ae.alias||he,J=ae.compression||J,ie=ae.rotation||ae.angle||ie}var Ae=this.internal.getFilters();if(J===void 0&&Ae.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(G)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var A=Y.call(this,T,I,he,J);return _.call(this,G,q,fe,ue,A,ie),this};var Y=function(T,I,G,q){var fe,ue,he;if(typeof T=="string"&&n(T)===t){T=unescape(T);var J=ne(T,!1);(J!==""||(J=e.loadFile(T,!0))!==void 0)&&(T=J)}if(m(T)&&(T=y(T,I)),I=n(T,I),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((he=G)==null||he.length===0)&&(G=function(ie){return typeof ie=="string"||X(ie)?w(ie):X(ie.data)?w(ie.data):null}(T)),(fe=p.call(this,G))||(W()&&(T instanceof Uint8Array||I==="RGBA"||(ue=T,T=O(T))),fe=this["process"+I.toUpperCase()](T,d.call(this),G,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in e.image_compression?ie:x.NONE}(q),ue)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},ne=e.__addimage__.convertBase64ToBinaryString=function(T,I){var G;I=typeof I!="boolean"||I;var q,fe="";if(typeof T=="string"){q=(G=R(T))!==null?G.data:T;try{fe=zc(q)}catch(ue){if(I)throw N(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return fe};e.getImageProperties=function(T){var I,G,q="";if(m(T)&&(T=y(T)),typeof T=="string"&&n(T)===t&&((q=ne(T,!1))===""&&(q=e.loadFile(T)||""),T=q),G=n(T),!h(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(!W()||T instanceof Uint8Array||(T=O(T)),!(I=this["process"+G.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=G,I}})(tt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};tt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,h=!1,m=0;m<d.length&&!h;m++)switch((n=d[m]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var y=0;y<d.length;y++){n=d[y];var p=this.internal.pdfEscape,S=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(_.objId),w=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+p(x(n.contents))+")",s+=" /Popup "+L.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(x(w))+") >>",_.content=s;var N=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(s+=" /Open true"),s+=" >>",L.content=s,this.internal.write(_.objId,"0 R",L.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(S(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var W=this.annotations._nameMap[n.options.name];n.options.pageNumber=W.page,n.options.top=W.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var X=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+X+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:d(n),w:l(r+i),h:d(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,i,s){var o,a,l=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var h=this.splitTextToSize(r,a).length;o=Math.ceil(d*h)}else a=l,o=d;return this.text(r,n,i,s),i+=.2*d,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-d,a,o,s),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(tt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(_){return t[_.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=e.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&i.indexOf(_.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length>=1};var d=e.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length>=3};var h=e.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&s(_)&&t[_.charCodeAt(0)].length==4},m=e.__arabicParser__.resolveLigatures=function(_){var L=0,x=r,w="",N=0;for(L=0;L<_.length;L+=1)x[_.charCodeAt(L)]!==void 0?(N++,typeof(x=x[_.charCodeAt(L)])=="number"&&(w+=String.fromCharCode(x),x=r,N=0),L===_.length-1&&(x=r,w+=_.charAt(L-(N-1)),L-=N-1,N=0)):(x=r,w+=_.charAt(L-N),L-=N,N=0);return w};e.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(_,L,x){return o(_)?s(_)===!1?-1:!d(_)||!o(L)&&!o(x)||!o(x)&&a(L)||a(_)&&!o(L)||a(_)&&l(L)||a(_)&&a(L)?0:h(_)&&o(L)&&!a(L)&&o(x)&&d(x)?3:a(_)||!o(x)?1:2:-1},p=function(_){var L=0,x=0,w=0,N="",R="",W="",X=(_=_||"").split("\\s+"),O=[];for(L=0;L<X.length;L+=1){for(O.push(""),x=0;x<X[L].length;x+=1)N=X[L][x],R=X[L][x-1],W=X[L][x+1],o(N)?(w=y(N,R,W),O[L]+=w!==-1?String.fromCharCode(t[N.charCodeAt(0)][w]):N):O[L]+=N;O[L]=m(O[L])}return O.join(" ")},S=e.__arabicParser__.processArabic=e.processArabic=function(){var _,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(L)){var w=0;for(x=[],w=0;w<L.length;w+=1)Array.isArray(L[w])?x.push([p(L[w][0]),L[w][1],L[w][2]]):x.push([p(L[w])]);_=x}else _=p(L);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};e.events.push(["preProcessText",S])}(tt.API),tt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(tt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(_){S=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,d){n.call(this);var h=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),y=d.scaleFactor||this.internal.scaleFactor,p=0,S=0,_=0,L=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=d.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,R){return N.concat(L.splitTextToSize(R,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)p<(_=this.getStringUnitWidth(l[w],{font:m})*h)&&(p=_);return p!==0&&(S=l.length),{w:p/=y,h:Math.max((S*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,m=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===l.lineNumber?(l.x=(d.x||0)+(d.width||0),l.y=d.y||0):d.y+d.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,p&&y&&(this.printHeaderRow(l.lineNumber,!0),l.y+=y[0].height)):l.y=d.y+d.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};e.table=function(l,d,h,m,y){if(n.call(this),!h)throw new Error("No data for PDF table.");var p,S,_,L,x=[],w=[],N=[],R={},W={},X=[],O=[],E=(y=y||{}).autoSize||!1,Y=y.printHeaders!==!1,ne=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,T=y.margins||Object.assign({width:this.getPageWidth()},t),I=typeof y.padding=="number"?y.padding:3,G=y.headerBackgroundColor||"#c8c8c8",q=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=ne,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=q,this.setFontSize(ne),m==null)w=x=Object.keys(h[0]),N=x.map(function(){return"left"});else if(Array.isArray(m)&&Lt(m[0])==="object")for(x=m.map(function(ae){return ae.name}),w=m.map(function(ae){return ae.prompt||ae.name||""}),N=m.map(function(ae){return ae.align||"left"}),p=0;p<m.length;p+=1)W[m[p].name]=m[p].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(w=x=m,N=x.map(function(){return"left"}));if(E||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<x.length;p+=1){for(R[L=x[p]]=h.map(function(ae){return ae[L]}),this.setFont(void 0,"bold"),X.push(this.getTextDimensions(w[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=R[L],this.setFont(void 0,"normal"),_=0;_<S.length;_+=1)X.push(this.getTextDimensions(S[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);W[L]=Math.max.apply(null,X)+I+I,X=[]}if(Y){var fe={};for(p=0;p<x.length;p+=1)fe[x[p]]={},fe[x[p]].text=w[p],fe[x[p]].align=N[p];var ue=a.call(this,fe,W);O=x.map(function(ae){return new s(l,d,W[ae],ue,fe[ae].text,void 0,fe[ae].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var he=m.reduce(function(ae,Ae){return ae[Ae.name]=Ae.align,ae},{});for(p=0;p<h.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:h[p]},this);var J=a.call(this,h[p],W);for(_=0;_<x.length;_+=1){var ie=h[p][x[_]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:_,data:ie},this),o.call(this,new s(l,d,W[x[_]],J,ie,p+2,he[x[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=d,this};var a=function(l,d){var h=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(l).map(function(p){var S=l[p];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,d[p]-h-h)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/y+h+h},this).reduce(function(p,S){return Math.max(p,S)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){h=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(h.y=this.internal.__cell__.margins.top||0,y.push(h)),h.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(S)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(tt.API);var yx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wx=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],M1=vx(wx),xx=[100,200,300,400,500,600,700,800,900],rk=vx(xx);function B1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return yx[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof M1[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function L5(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var nk={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},P5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function C5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ik(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},nk,r.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(i[(s=B1(t[a])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+C5(s)+"' and default family '"+n+"'.");if(o=function(l,d){if(d[l])return d[l];var h=M1[l],m=h<=M1.normal?-1:1,y=L5(d,wx,h,m);if(!y)throw new Error("Could not find a matching font-stretch value for "+l);return y}(s.stretch,o),o=function(l,d){if(d[l])return d[l];for(var h=yx[l],m=0;m<h.length;++m)if(d[h[m]])return d[h[m]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,d){if(d[l])return d[l];if(l===400&&d[500])return d[500];if(l===500&&d[400])return d[400];var h=rk[l],m=L5(d,xx,h,l<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+l);return m}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+C5(s)+"'.");return o}function E5(e){return e.trimLeft()}function sk(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function ok(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var qd,I5,F5,h0=["times"];(function(e){var t,r,n,i,s,o,a,l,d,h=function(A){return A=A||{},this.isStrokeTransparent=A.isStrokeTransparent||!1,this.strokeOpacity=A.strokeOpacity||1,this.strokeStyle=A.strokeStyle||"#000000",this.fillStyle=A.fillStyle||"#000000",this.isFillTransparent=A.isFillTransparent||!1,this.fillOpacity=A.fillOpacity||1,this.font=A.font||"10px sans-serif",this.textBaseline=A.textBaseline||"alphabetic",this.textAlign=A.textAlign||"left",this.lineWidth=A.lineWidth||1,this.lineJoin=A.lineJoin||"miter",this.lineCap=A.lineCap||"butt",this.path=A.path||[],this.transform=A.transform!==void 0?A.transform.clone():new l,this.globalCompositeOperation=A.globalCompositeOperation||"normal",this.globalAlpha=A.globalAlpha||1,this.clip_path=A.clip_path||[],this.currentPoint=A.currentPoint||new o,this.miterLimit=A.miterLimit||10,this.lastPoint=A.lastPoint||new o,this.lineDashOffset=A.lineDashOffset||0,this.lineDash=A.lineDash||[],this.margin=A.margin||[0,0,0,0],this.prevPageLastElemOffset=A.prevPageLastElemOffset||0,this.ignoreClearRect=typeof A.ignoreClearRect!="boolean"||A.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new m(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,d=new h}]);var m=function(A){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=A;Object.defineProperty(this,"pdf",{get:function(){return M}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(_e){$=!!_e}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(_e){K=!!_e}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(_e){isNaN(_e)||(Z=_e)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(_e){isNaN(_e)||(ce=_e)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(_e){var V;typeof _e=="number"?V=[_e,_e,_e,_e]:((V=new Array(4))[0]=_e[0],V[1]=_e.length>=2?_e[1]:V[0],V[2]=_e.length>=3?_e[2]:V[0],V[3]=_e.length>=4?_e[3]:V[1]),d.margin=V}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(_e){me=_e}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(_e){le=_e}});var Ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ce},set:function(_e){Ce=_e}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(_e){_e instanceof h&&(d=_e)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(_e){d.path=_e}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(_e){ge=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var V;V=y(_e),this.ctx.fillStyle=V.style,this.ctx.isFillTransparent=V.a===0,this.ctx.fillOpacity=V.a,this.pdf.setFillColor(V.r,V.g,V.b,{a:V.a}),this.pdf.setTextColor(V.r,V.g,V.b,{a:V.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var V=y(_e);this.ctx.strokeStyle=V.style,this.ctx.isStrokeTransparent=V.a===0,this.ctx.strokeOpacity=V.a,V.a===0?this.pdf.setDrawColor(255,255,255):(V.a,this.pdf.setDrawColor(V.r,V.g,V.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var je=null;function Te(_e,V){if(je===null){var He=function(B){var H=[];return Object.keys(B).forEach(function(Q){B[Q].forEach(function(we){var pe=null;switch(we){case"bold":pe={family:Q,weight:"bold"};break;case"italic":pe={family:Q,style:"italic"};break;case"bolditalic":pe={family:Q,weight:"bold",style:"italic"};break;case"":case"normal":pe={family:Q}}pe!==null&&(pe.ref={name:Q,style:we},H.push(pe))})}),H}(_e.getFontList());je=function(B){for(var H={},Q=0;Q<B.length;++Q){var we=B1(B[Q]),pe=we.family,xe=we.stretch,Ie=we.style,De=we.weight;H[pe]=H[pe]||{},H[pe][xe]=H[pe][xe]||{},H[pe][xe][Ie]=H[pe][xe][Ie]||{},H[pe][xe][Ie][De]=we}return H}(He.concat(V))}return je}var Re=null;Object.defineProperty(this,"fontFaces",{get:function(){return Re},set:function(_e){je=null,Re=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var V;if(this.ctx.font=_e,(V=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var He=V[1],B=(V[2],V[3]),H=V[4],Q=(V[5],V[6]),we=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(H)[2];H=Math.floor(we==="px"?parseFloat(H)*this.pdf.internal.scaleFactor:we==="em"?parseFloat(H)*this.pdf.getFontSize():parseFloat(H)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(H);var pe=function(et){var dt,Be,Sr=[],vt=et.trim();if(vt==="")return h0;if(vt in P5)return[P5[vt]];for(;vt!=="";){switch(Be=null,dt=(vt=E5(vt)).charAt(0)){case'"':case"'":Be=sk(vt.substring(1),dt);break;default:Be=ok(vt)}if(Be===null||(Sr.push(Be[0]),(vt=E5(Be[1]))!==""&&vt.charAt(0)!==","))return h0;vt=vt.replace(/^,/,"")}return Sr}(Q);if(this.fontFaces){var xe=ik(Te(this.pdf,this.fontFaces),pe.map(function(et){return{family:et,stretch:"normal",weight:B,style:He}}));this.pdf.setFont(xe.ref.name,xe.ref.style)}else{var Ie="";(B==="bold"||parseInt(B,10)>=700||He==="bold")&&(Ie="bold"),He==="italic"&&(Ie+="italic"),Ie.length===0&&(Ie="normal");for(var De="",Je={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ye=0;Ye<pe.length;Ye++){if(this.pdf.internal.getFont(pe[Ye],Ie,{noFallback:!0,disableWarning:!0})!==void 0){De=pe[Ye];break}if(Ie==="bolditalic"&&this.pdf.internal.getFont(pe[Ye],"bold",{noFallback:!0,disableWarning:!0})!==void 0)De=pe[Ye],Ie="bold";else if(this.pdf.internal.getFont(pe[Ye],"normal",{noFallback:!0,disableWarning:!0})!==void 0){De=pe[Ye],Ie="normal";break}}if(De===""){for(var pt=0;pt<pe.length;pt++)if(Je[pe[pt]]){De=Je[pe[pt]];break}}De=De===""?"Times":De,this.pdf.setFont(De,Ie)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,Ae.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,Ae.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};m.prototype.setLineDash=function(A){this.lineDash=A},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){R.call(this,"fill",!1)},m.prototype.stroke=function(){R.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(A,M){if(isNaN(A)||isNaN(M))throw Tt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new o(A,M));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new o(A,M)},m.prototype.closePath=function(){var A=new o(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&Lt(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){A=new o(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(A.x,A.y)},m.prototype.lineTo=function(A,M){if(isNaN(A)||isNaN(M))throw Tt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new o(A,M));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new o($.x,$.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},m.prototype.quadraticCurveTo=function(A,M,$,K){if(isNaN($)||isNaN(K)||isNaN(A)||isNaN(M))throw Tt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new o($,K)),ce=this.ctx.transform.applyToPoint(new o(A,M));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},m.prototype.bezierCurveTo=function(A,M,$,K,Z,ce){if(isNaN(Z)||isNaN(ce)||isNaN(A)||isNaN(M)||isNaN($)||isNaN(K))throw Tt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new o(Z,ce)),le=this.ctx.transform.applyToPoint(new o(A,M)),Ce=this.ctx.transform.applyToPoint(new o($,K));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:Ce.x,y2:Ce.y,x:me.x,y:me.y}),this.ctx.lastPoint=new o(me.x,me.y)},m.prototype.arc=function(A,M,$,K,Z,ce){if(isNaN(A)||isNaN(M)||isNaN($)||isNaN(K)||isNaN(Z))throw Tt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new o(A,M));A=me.x,M=me.y;var le=this.ctx.transform.applyToPoint(new o(0,$)),Ce=this.ctx.transform.applyToPoint(new o(0,0));$=Math.sqrt(Math.pow(le.x-Ce.x,2)+Math.pow(le.y-Ce.y,2))}Math.abs(Z-K)>=2*Math.PI&&(K=0,Z=2*Math.PI),this.path.push({type:"arc",x:A,y:M,radius:$,startAngle:K,endAngle:Z,counterclockwise:ce})},m.prototype.arcTo=function(A,M,$,K,Z){throw new Error("arcTo not implemented.")},m.prototype.rect=function(A,M,$,K){if(isNaN(A)||isNaN(M)||isNaN($)||isNaN(K))throw Tt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(A,M),this.lineTo(A+$,M),this.lineTo(A+$,M+K),this.lineTo(A,M+K),this.lineTo(A,M),this.lineTo(A+$,M),this.lineTo(A,M)},m.prototype.fillRect=function(A,M,$,K){if(isNaN(A)||isNaN(M)||isNaN($)||isNaN(K))throw Tt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(A,M,$,K),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},m.prototype.strokeRect=function(A,M,$,K){if(isNaN(A)||isNaN(M)||isNaN($)||isNaN(K))throw Tt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(A,M,$,K),this.stroke())},m.prototype.clearRect=function(A,M,$,K){if(isNaN(A)||isNaN(M)||isNaN($)||isNaN(K))throw Tt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(A,M,$,K))},m.prototype.save=function(A){A=typeof A!="boolean"||A;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),A){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},m.prototype.restore=function(A){A=typeof A!="boolean"||A;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(M),A&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(A){var M,$,K,Z;if(A.isCanvasGradient===!0&&(A=A.getColor()),!A)return{r:0,g:0,b:0,a:0,style:A};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(A))M=0,$=0,K=0,Z=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(A);if(ce!==null)M=parseInt(ce[1]),$=parseInt(ce[2]),K=parseInt(ce[3]),Z=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(A))!==null)M=parseInt(ce[1]),$=parseInt(ce[2]),K=parseInt(ce[3]),Z=parseFloat(ce[4]);else{if(Z=1,typeof A=="string"&&A.charAt(0)!=="#"){var me=new dx(A);A=me.ok?me.toHex():"#000000"}A.length===4?(M=A.substring(1,2),M+=M,$=A.substring(2,3),$+=$,K=A.substring(3,4),K+=K):(M=A.substring(1,3),$=A.substring(3,5),K=A.substring(5,7)),M=parseInt(M,16),$=parseInt($,16),K=parseInt(K,16)}}return{r:M,g:$,b:K,a:Z,style:A}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(A,M,$,K){if(isNaN(M)||isNaN($)||typeof A!="string")throw Tt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!p.call(this)){var Z=J(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;I.call(this,{text:A,x:M,y:$,scale:ce,angle:Z,align:this.textAlign,maxWidth:K})}},m.prototype.strokeText=function(A,M,$,K){if(isNaN(M)||isNaN($)||typeof A!="string")throw Tt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){K=isNaN(K)?void 0:K;var Z=J(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;I.call(this,{text:A,x:M,y:$,scale:ce,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:K})}},m.prototype.measureText=function(A){if(typeof A!="string")throw Tt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,$=this.pdf.internal.scaleFactor,K=M.internal.getFontSize(),Z=M.getStringUnitWidth(A)*K/M.internal.scaleFactor,ce=function(me){var le=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new ce({width:Z*=Math.round(96*$/72*1e4)/1e4})},m.prototype.scale=function(A,M){if(isNaN(A)||isNaN(M))throw Tt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new l(A,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply($)},m.prototype.rotate=function(A){if(isNaN(A))throw Tt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new l(Math.cos(A),Math.sin(A),-Math.sin(A),Math.cos(A),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},m.prototype.translate=function(A,M){if(isNaN(A)||isNaN(M))throw Tt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new l(1,0,0,1,A,M);this.ctx.transform=this.ctx.transform.multiply($)},m.prototype.transform=function(A,M,$,K,Z,ce){if(isNaN(A)||isNaN(M)||isNaN($)||isNaN(K)||isNaN(Z)||isNaN(ce))throw Tt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(A,M,$,K,Z,ce);this.ctx.transform=this.ctx.transform.multiply(me)},m.prototype.setTransform=function(A,M,$,K,Z,ce){A=isNaN(A)?1:A,M=isNaN(M)?0:M,$=isNaN($)?0:$,K=isNaN(K)?1:K,Z=isNaN(Z)?0:Z,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(A,M,$,K,Z,ce)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(A,M,$,K,Z,ce,me,le,Ce){var ge=this.pdf.getImageProperties(A),je=1,Te=1,Re=1,_e=1;K!==void 0&&le!==void 0&&(Re=le/K,_e=Ce/Z,je=ge.width/K*le/K,Te=ge.height/Z*Ce/Z),ce===void 0&&(ce=M,me=$,M=0,$=0),K!==void 0&&le===void 0&&(le=K,Ce=Z),K===void 0&&le===void 0&&(le=ge.width,Ce=ge.height);for(var V,He=this.ctx.transform.decompose(),B=J(He.rotate.shx),H=new l,Q=(H=(H=(H=H.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new a(ce-M*Re,me-$*_e,K*je,Z*Te)),we=L.call(this,Q),pe=[],xe=0;xe<we.length;xe+=1)pe.indexOf(we[xe])===-1&&pe.push(we[xe]);if(N(pe),this.autoPaging)for(var Ie=pe[0],De=pe[pe.length-1],Je=Ie;Je<De+1;Je++){this.pdf.setPage(Je);var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=Je===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=Je===1?0:et+(Je-2)*dt;if(this.ctx.clip_path.length!==0){var Sr=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(V,this.posX+this.margin[3],-Be+pt+this.ctx.prevPageLastElemOffset),W.call(this,"fill",!0),this.path=Sr}var vt=JSON.parse(JSON.stringify(Q));vt=w([vt],this.posX+this.margin[3],-Be+pt+this.ctx.prevPageLastElemOffset)[0];var jn=(Je>Ie||Je<De)&&_.call(this);jn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,dt,null).clip().discardPath()),this.pdf.addImage(A,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,B),jn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(A,"JPEG",Q.x,Q.y,Q.w,Q.h,null,null,B)};var L=function(A,M,$){var K=[];M=M||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(A.type){default:case"mt":case"lt":K.push(Math.floor((A.y+Z)/$)+1);break;case"arc":K.push(Math.floor((A.y+Z-A.radius)/$)+1),K.push(Math.floor((A.y+Z+A.radius)/$)+1);break;case"qct":var ce=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x,A.y);K.push(Math.floor((ce.y+Z)/$)+1),K.push(Math.floor((ce.y+ce.h+Z)/$)+1);break;case"bct":var me=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,A.x1,A.y1,A.x2,A.y2,A.x,A.y);K.push(Math.floor((me.y+Z)/$)+1),K.push(Math.floor((me.y+me.h+Z)/$)+1);break;case"rect":K.push(Math.floor((A.y+Z)/$)+1),K.push(Math.floor((A.y+A.h+Z)/$)+1)}for(var le=0;le<K.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<K[le];)x.call(this);return K},x=function(){var A=this.fillStyle,M=this.strokeStyle,$=this.font,K=this.lineCap,Z=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=A,this.strokeStyle=M,this.font=$,this.lineCap=K,this.lineWidth=Z,this.lineJoin=ce},w=function(A,M,$){for(var K=0;K<A.length;K++)switch(A[K].type){case"bct":A[K].x2+=M,A[K].y2+=$;case"qct":A[K].x1+=M,A[K].y1+=$;case"mt":case"lt":case"arc":default:A[K].x+=M,A[K].y+=$}return A},N=function(A){return A.sort(function(M,$){return M-$})},R=function(A,M){for(var $,K,Z=this.fillStyle,ce=this.strokeStyle,me=this.lineCap,le=this.lineWidth,Ce=Math.abs(le*this.ctx.transform.scaleX),ge=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),Re=[],_e=0;_e<Te.length;_e++)if(Te[_e].x!==void 0)for(var V=L.call(this,Te[_e]),He=0;He<V.length;He+=1)Re.indexOf(V[He])===-1&&Re.push(V[He]);for(var B=0;B<Re.length;B++)for(;this.pdf.internal.getNumberOfPages()<Re[B];)x.call(this);if(N(Re),this.autoPaging)for(var H=Re[0],Q=Re[Re.length-1],we=H;we<Q+1;we++){this.pdf.setPage(we),this.fillStyle=Z,this.strokeStyle=ce,this.lineCap=me,this.lineWidth=Ce,this.lineJoin=ge;var pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xe=we===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=we===1?0:Ie+(we-2)*De;if(this.ctx.clip_path.length!==0){var Ye=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w($,this.posX+this.margin[3],-Je+xe+this.ctx.prevPageLastElemOffset),W.call(this,A,!0),this.path=Ye}if(K=JSON.parse(JSON.stringify(je)),this.path=w(K,this.posX+this.margin[3],-Je+xe+this.ctx.prevPageLastElemOffset),M===!1||we===0){var pt=(we>H||we<Q)&&_.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pe,De,null).clip().discardPath()),W.call(this,A,M),pt&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=Ce,W.call(this,A,M),this.lineWidth=le;this.path=je},W=function(A,M){if((A!=="stroke"||M||!S.call(this))&&(A==="stroke"||M||!p.call(this))){for(var $,K,Z=[],ce=this.path,me=0;me<ce.length;me++){var le=ce[me];switch(le.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:le,deltas:[],abs:[]});break;case"lt":var Ce=Z.length;if(ce[me-1]&&!isNaN(ce[me-1].x)&&($=[le.x-ce[me-1].x,le.y-ce[me-1].y],Ce>0)){for(;Ce>=0;Ce--)if(Z[Ce-1].close!==!0&&Z[Ce-1].begin!==!0){Z[Ce-1].deltas.push($),Z[Ce-1].abs.push(le);break}}break;case"bct":$=[le.x1-ce[me-1].x,le.y1-ce[me-1].y,le.x2-ce[me-1].x,le.y2-ce[me-1].y,le.x-ce[me-1].x,le.y-ce[me-1].y],Z[Z.length-1].deltas.push($);break;case"qct":var ge=ce[me-1].x+2/3*(le.x1-ce[me-1].x),je=ce[me-1].y+2/3*(le.y1-ce[me-1].y),Te=le.x+2/3*(le.x1-le.x),Re=le.y+2/3*(le.y1-le.y),_e=le.x,V=le.y;$=[ge-ce[me-1].x,je-ce[me-1].y,Te-ce[me-1].x,Re-ce[me-1].y,_e-ce[me-1].x,V-ce[me-1].y],Z[Z.length-1].deltas.push($);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(le)}}K=M?null:A==="stroke"?"stroke":"fill";for(var He=!1,B=0;B<Z.length;B++)if(Z[B].arc)for(var H=Z[B].abs,Q=0;Q<H.length;Q++){var we=H[Q];we.type==="arc"?E.call(this,we.x,we.y,we.radius,we.startAngle,we.endAngle,we.counterclockwise,void 0,M,!He):G.call(this,we.x,we.y),He=!0}else if(Z[B].close===!0)this.pdf.internal.out("h"),He=!1;else if(Z[B].begin!==!0){var pe=Z[B].start.x,xe=Z[B].start.y;q.call(this,Z[B].deltas,pe,xe),He=!0}K&&Y.call(this,K),M&&ne.call(this)}},X=function(A){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return A-$;case"top":return A+M-$;case"hanging":return A+M-2*$;case"middle":return A+M/2-$;case"ideographic":return A;case"alphabetic":default:return A}},O=function(A){return A+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var A=function(){};return A.colorStops=[],A.addColorStop=function(M,$){this.colorStops.push([M,$])},A.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},A.isCanvasGradient=!0,A},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(A,M,$,K,Z,ce,me,le,Ce){for(var ge=ue.call(this,$,K,Z,ce),je=0;je<ge.length;je++){var Te=ge[je];je===0&&(Ce?T.call(this,Te.x1+A,Te.y1+M):G.call(this,Te.x1+A,Te.y1+M)),fe.call(this,A,M,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}le?ne.call(this):Y.call(this,me)},Y=function(A){switch(A){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ne=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(A,M){this.pdf.internal.out(r(A)+" "+n(M)+" m")},I=function(A){var M;switch(A.align){case"right":case"end":M="right";break;case"center":M="center";break;case"left":case"start":default:M="left"}var $=this.pdf.getTextDimensions(A.text),K=X.call(this,A.y),Z=O.call(this,K)-$.h,ce=this.ctx.transform.applyToPoint(new o(A.x,K)),me=this.ctx.transform.decompose(),le=new l;le=(le=(le=le.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Ce,ge,je,Te=this.ctx.transform.applyToRectangle(new a(A.x,K,$.w,$.h)),Re=le.applyToRectangle(new a(A.x,Z,$.w,$.h)),_e=L.call(this,Re),V=[],He=0;He<_e.length;He+=1)V.indexOf(_e[He])===-1&&V.push(_e[He]);if(N(V),this.autoPaging)for(var B=V[0],H=V[V.length-1],Q=B;Q<H+1;Q++){this.pdf.setPage(Q);var we=Q===1?this.posY+this.margin[0]:this.margin[0],pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xe=this.pdf.internal.pageSize.height-this.margin[2],Ie=xe-this.margin[0],De=this.pdf.internal.pageSize.width-this.margin[1],Je=De-this.margin[3],Ye=Q===1?0:pe+(Q-2)*Ie;if(this.ctx.clip_path.length!==0){var pt=this.path;Ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ce,this.posX+this.margin[3],-1*Ye+we),W.call(this,"fill",!0),this.path=pt}var et=w([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-Ye+we+this.ctx.prevPageLastElemOffset)[0];A.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*A.scale),je=this.lineWidth,this.lineWidth=je*A.scale);var dt=this.autoPaging!=="text";if(dt||et.y+et.h<=xe){if(dt||et.y>=we&&et.x<=De){var Be=dt?A.text:this.pdf.splitTextToSize(A.text,A.maxWidth||De-et.x)[0],Sr=w([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-Ye+we+this.ctx.prevPageLastElemOffset)[0],vt=dt&&(Q>B||Q<H)&&_.call(this);vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,Ie,null).clip().discardPath()),this.pdf.text(Be,Sr.x,Sr.y,{angle:A.angle,align:M,renderingMode:A.renderingMode}),vt&&this.pdf.restoreGraphicsState()}}else et.y<xe&&(this.ctx.prevPageLastElemOffset+=xe-et.y);A.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=je)}else A.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*A.scale),je=this.lineWidth,this.lineWidth=je*A.scale),this.pdf.text(A.text,ce.x+this.posX,ce.y+this.posY,{angle:A.angle,align:M,renderingMode:A.renderingMode,maxWidth:A.maxWidth}),A.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=je)},G=function(A,M,$,K){$=$||0,K=K||0,this.pdf.internal.out(r(A+$)+" "+n(M+K)+" l")},q=function(A,M,$){return this.pdf.lines(A,M,$,null,null)},fe=function(A,M,$,K,Z,ce,me,le){this.pdf.internal.out([t(i($+A)),t(s(K+M)),t(i(Z+A)),t(s(ce+M)),t(i(me+A)),t(s(le+M)),"c"].join(" "))},ue=function(A,M,$,K){for(var Z=2*Math.PI,ce=Math.PI/2;M>$;)M-=Z;var me=Math.abs($-M);me<Z&&K&&(me=Z-me);for(var le=[],Ce=K?-1:1,ge=M;me>1e-5;){var je=ge+Ce*Math.min(me,ce);le.push(he.call(this,A,ge,je)),me-=Math.abs(je-ge),ge=je}return le},he=function(A,M,$){var K=($-M)/2,Z=A*Math.cos(K),ce=A*Math.sin(K),me=Z,le=-ce,Ce=me*me+le*le,ge=Ce+me*Z+le*ce,je=4/3*(Math.sqrt(2*Ce*ge)-ge)/(me*ce-le*Z),Te=me-je*le,Re=le+je*me,_e=Te,V=-Re,He=K+M,B=Math.cos(He),H=Math.sin(He);return{x1:A*Math.cos(M),y1:A*Math.sin(M),x2:Te*B-Re*H,y2:Te*H+Re*B,x3:_e*B-V*H,y3:_e*H+V*B,x4:A*Math.cos($),y4:A*Math.sin($)}},J=function(A){return 180*A/Math.PI},ie=function(A,M,$,K,Z,ce){var me=A+.5*($-A),le=M+.5*(K-M),Ce=Z+.5*($-Z),ge=ce+.5*(K-ce),je=Math.min(A,Z,me,Ce),Te=Math.max(A,Z,me,Ce),Re=Math.min(M,ce,le,ge),_e=Math.max(M,ce,le,ge);return new a(je,Re,Te-je,_e-Re)},ae=function(A,M,$,K,Z,ce,me,le){var Ce,ge,je,Te,Re,_e,V,He,B,H,Q,we,pe,xe,Ie=$-A,De=K-M,Je=Z-$,Ye=ce-K,pt=me-Z,et=le-ce;for(ge=0;ge<41;ge++)B=(V=(je=A+(Ce=ge/40)*Ie)+Ce*((Re=$+Ce*Je)-je))+Ce*(Re+Ce*(Z+Ce*pt-Re)-V),H=(He=(Te=M+Ce*De)+Ce*((_e=K+Ce*Ye)-Te))+Ce*(_e+Ce*(ce+Ce*et-_e)-He),ge==0?(Q=B,we=H,pe=B,xe=H):(Q=Math.min(Q,B),we=Math.min(we,H),pe=Math.max(pe,B),xe=Math.max(xe,H));return new a(Math.round(Q),Math.round(we),Math.round(pe-Q),Math.round(xe-we))},Ae=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var A,M,$=(A=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:A,lineDashOffset:M}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(tt.API),function(e){var t=function(s){var o,a,l,d,h,m,y,p,S,_;for(a=[],l=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(m=(h=((h=((h=((h=(h-(_=h%85))/85)-(S=h%85))/85)-(p=h%85))/85)-(y=h%85))/85)%85,a.push(m+33,y+33,p+33,S+33,_+33)):a.push(122);return function(L,x){for(var w=x;w>0;w--)L.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},r=function(s){var o,a,l,d,h,m=String,y="length",p=255,S="charCodeAt",_="slice",L="replace";for(s[_](-2),s=s[_](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),l=[],d=0,h=(s+=o="uuuuu"[_](s[y]%5||5))[y];h>d;d+=5)a=52200625*(s[S](d)-33)+614125*(s[S](d+1)-33)+7225*(s[S](d+2)-33)+85*(s[S](d+3)-33)+(s[S](d+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(x,w){for(var N=w;N>0;N--)x.pop()}(l,o[y]),m.fromCharCode.apply(m,l)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=F1(o)).reduce(function(l,d){return l+String.fromCharCode(d)},"")};e.processDataByFilters=function(s,o){var a=0,l=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:d.reverse().join(" ")}}}(tt.API),function(e){e.loadFile=function(t,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,d,h){var m=new XMLHttpRequest,y=0,p=function(S){var _=S.length,L=[],x=String.fromCharCode;for(y=0;y<_;y+=1)L.push(x(255&S.charCodeAt(y)));return L.join("")};if(m.open("GET",l,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?h(p(this.responseText)):h(void 0)}),m.send(null),d&&m.status===200)return p(m.responseText)}(i,s,o)}catch{}return a}(t,r,n)},e.loadImageFile=e.loadFile}(tt.API),function(e){function t(){return(rt.html2canvas?Promise.resolve(rt.html2canvas):xs(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(rt.DOMPurify?Promise.resolve(rt.DOMPurify):xs(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var a=Lt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var d in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[d]=a.style[d];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),l);return d=(d=d.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(d,h){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),y=d.firstChild;y;y=y.nextSibling)h!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(l(y,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(a){var l=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=d,d)for(var y=0;y<d.length;++y){var p=d[y],S=p.src.find(function(_){return _.format==="truetype"});S&&l.addFont(S.url,p.ref.name,p.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,l.context2d.save(!0),a(this.prop.container,m)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,d){return Math.floor(l*d/72*96)}return this.then(function(){(o=o||tt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,d){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,d){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(d,h){return l.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return l.updateProgress(null,d),m}).then(d,h).then(function(m){return l.updateProgress(1),m})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(d,o,a);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,tt.getPageSize=function(o,a,l){if(Lt(o)==="object"){var d=o;o=d.orientation,a=d.unit||a,l=d.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var h,m=(""+l).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}var p,S=0,_=0;if(y.hasOwnProperty(m))S=y[m][1]/h,_=y[m][0]/h;else try{S=l[1],_=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",_>S&&(p=_,_=S,S=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",S>_&&(p=_,_=S,S=p)}return{width:_,height:S,unit:a,k:h,orientation:o}},e.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(B1):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(tt.API),tt.API.addJS=function(e){return F5=e,this.internal.events.subscribe("postPutResources",function(){qd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(qd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),I5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+F5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){qd!==void 0&&I5!==void 0&&this.internal.out("/Names <</JavaScript "+qd+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=n.exec(o);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,h=[];for(s=0;s<d;s++){var m=r.internal.newObject();h.push(m);var y=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<h.length;s++)r.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(tt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,s,o,a){var l,d=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(m){for(var y,p=256*m.charCodeAt(4)+m.charCodeAt(5),S=m.length,_={width:0,height:0,numcomponents:1},L=4;L<S;L+=2){if(L+=p,t.indexOf(m.charCodeAt(L+1))!==-1){y=256*m.charCodeAt(L+5)+m.charCodeAt(L+6),_={width:256*m.charCodeAt(L+7)+m.charCodeAt(L+8),height:y,numcomponents:m.charCodeAt(L+9)};break}p=256*m.charCodeAt(L+2)+m.charCodeAt(L+3)}return _}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:d,index:n,alias:i}}return h}}(tt.API);var $a,Vd,T5,O5,D5,ak=function(){var e,t,r;function n(s){var o,a,l,d,h,m,y,p,S,_,L,x,w,N;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(o=this.readUInt32(),S=(function(){var R,W;for(W=[],R=0;R<4;++R)W.push(String.fromCharCode(this.data[this.pos++]));return W}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),d=this.readUInt16()||100,m.delay=1e3*h/d,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,o-=4),s=(m!=null?m.data:void 0)||this.imgData,x=0;0<=o?x<o:x>o;0<=o?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((_=l-this.transparency.indexed.length)>0)for(w=0;0<=_?w<_:w>_;0<=_?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":y=(L=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,L.slice(0,y)),this.text[p]=String.fromCharCode.apply(String,L.slice(y+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(m,y,p,S){var _,L,x,w,N,R,W,X,O,E,Y,ne,T,I,G,q,fe,ue,he,J,ie,ae=Math.ceil((d.width-m)/p),Ae=Math.ceil((d.height-y)/S),A=d.width==ae&&d.height==Ae;for(I=o*ae,ne=A?a:new Uint8Array(I*Ae),R=s.length,T=0,L=0;T<Ae&&l<R;){switch(s[l++]){case 0:for(w=fe=0;fe<I;w=fe+=1)ne[L++]=s[l++];break;case 1:for(w=ue=0;ue<I;w=ue+=1)_=s[l++],N=w<o?0:ne[L-o],ne[L++]=(_+N)%256;break;case 2:for(w=he=0;he<I;w=he+=1)_=s[l++],x=(w-w%o)/o,G=T&&ne[(T-1)*I+x*o+w%o],ne[L++]=(G+_)%256;break;case 3:for(w=J=0;J<I;w=J+=1)_=s[l++],x=(w-w%o)/o,N=w<o?0:ne[L-o],G=T&&ne[(T-1)*I+x*o+w%o],ne[L++]=(_+Math.floor((N+G)/2))%256;break;case 4:for(w=ie=0;ie<I;w=ie+=1)_=s[l++],x=(w-w%o)/o,N=w<o?0:ne[L-o],T===0?G=q=0:(G=ne[(T-1)*I+x*o+w%o],q=x&&ne[(T-1)*I+(x-1)*o+w%o]),W=N+G-q,X=Math.abs(W-N),E=Math.abs(W-G),Y=Math.abs(W-q),O=X<=E&&X<=Y?N:E<=Y?G:q,ne[L++]=(_+O)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!A){var M=((y+T*S)*d.width+m)*o,$=T*I;for(w=0;w<ae;w+=1){for(var K=0;K<o;K+=1)a[M++]=ne[$++];M+=(p-1)*o}}T++}}return s=Bj(s),d.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),a},n.prototype.decodePalette=function(){var s,o,a,l,d,h,m,y,p;for(a=this.palette,h=this.transparency.indexed||[],d=new Uint8Array((h.length||0)+a.length),l=0,s=0,o=m=0,y=a.length;m<y;o=m+=3)d[l++]=a[o],d[l++]=a[o+1],d[l++]=a[o+2],d[l++]=(p=h[s++])!=null?p:255;return d},n.prototype.copyToImageData=function(s,o){var a,l,d,h,m,y,p,S,_,L,x;if(l=this.colors,_=null,a=this.hasAlphaChannel,this.palette.length&&(_=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,a=!0),S=(d=s.data||s).length,m=_||o,h=y=0,l===1)for(;h<S;)p=_?4*o[h/4]:y,L=m[p++],d[h++]=L,d[h++]=L,d[h++]=L,d[h++]=a?m[p++]:255,y=p;else for(;h<S;)p=_?4*o[h/4]:y,d[h++]=m[p++],d[h++]=m[p++],d[h++]=m[p++],d[h++]=a?m[p++]:255,y=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(rt)==="[object Window]"){try{t=rt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,a,l,d,h,m,y,p;if(this.animation){for(p=[],a=h=0,m=(y=this.animation.frames).length;h<m;a=++h)o=y[a],l=s.createImageData(o.width,o.height),d=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,d),o.imageData=l,p.push(o.image=e(l));return p}},n.prototype.renderFrame=function(s,o){var a,l,d;return a=(l=this.animation.frames)[o],d=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},n.prototype.animate=function(s){var o,a,l,d,h,m,y=this;return a=0,m=this.animation,d=m.numFrames,l=m.frames,h=m.numPlays,(o=function(){var p,S;if(p=a++%d,S=l[p],y.renderFrame(s,p),d>1&&a/d<h)return y.animation._timeout=setTimeout(o,S.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function lk(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var a=null,l=null;s&&(a=t,l=o,t+=3*o);var d=!0,h=[],m=0,y=null,p=0,S=null;for(this.width=r,this.height=n;d&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,S=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var _=e[t++];m=e[t++]|e[t++]<<8,y=e[t++],!(1&_)&&(y=null),p=_>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var L=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,R=e[t++],W=R>>6&1,X=1<<(7&R)+1,O=a,E=l,Y=!1;R>>7&&(Y=!0,O=t,E=X,t+=3*X);var ne=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}h.push({x:L,y:x,width:w,height:N,has_local_palette:Y,palette_offset:O,palette_size:E,data_offset:ne,data_length:t-ne,transparent_index:y,interlaced:!!W,delay:m,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return S},this.frameInfo=function(I){if(I<0||I>=h.length)throw new Error("Frame index out of range.");return h[I]},this.decodeAndBlitFrameBGRA=function(I,G){var q=this.frameInfo(I),fe=q.width*q.height,ue=new Uint8Array(fe);R5(e,q.data_offset,ue,fe);var he=q.palette_offset,J=q.transparent_index;J===null&&(J=256);var ie=q.width,ae=r-ie,Ae=ie,A=4*(q.y*r+q.x),M=4*((q.y+q.height)*r+q.x),$=A,K=4*ae;q.interlaced===!0&&(K+=4*r*7);for(var Z=8,ce=0,me=ue.length;ce<me;++ce){var le=ue[ce];if(Ae===0&&(Ae=ie,($+=K)>=M&&(K=4*ae+4*r*(Z-1),$=A+(ie+ae)*(Z<<1),Z>>=1)),le===J)$+=4;else{var Ce=e[he+3*le],ge=e[he+3*le+1],je=e[he+3*le+2];G[$++]=je,G[$++]=ge,G[$++]=Ce,G[$++]=255}--Ae}},this.decodeAndBlitFrameRGBA=function(I,G){var q=this.frameInfo(I),fe=q.width*q.height,ue=new Uint8Array(fe);R5(e,q.data_offset,ue,fe);var he=q.palette_offset,J=q.transparent_index;J===null&&(J=256);var ie=q.width,ae=r-ie,Ae=ie,A=4*(q.y*r+q.x),M=4*((q.y+q.height)*r+q.x),$=A,K=4*ae;q.interlaced===!0&&(K+=4*r*7);for(var Z=8,ce=0,me=ue.length;ce<me;++ce){var le=ue[ce];if(Ae===0&&(Ae=ie,($+=K)>=M&&(K=4*ae+4*r*(Z-1),$=A+(ie+ae)*(Z<<1),Z>>=1)),le===J)$+=4;else{var Ce=e[he+3*le],ge=e[he+3*le+1],je=e[he+3*le+2];G[$++]=Ce,G[$++]=ge,G[$++]=je,G[$++]=255}--Ae}}}function R5(e,t,r,n){for(var i=e[t++],s=1<<i,o=s+1,a=o+1,l=i+1,d=(1<<l)-1,h=0,m=0,y=0,p=e[t++],S=new Int32Array(4096),_=null;;){for(;h<16&&p!==0;)m|=e[t++]<<h,h+=8,p===1?p=e[t++]:--p;if(h<l)break;var L=m&d;if(m>>=l,h-=l,L!==s){if(L===o)break;for(var x=L<a?L:_,w=0,N=x;N>s;)N=S[N]>>8,++w;var R=N;if(y+w+(x!==L?1:0)>n)return void Tt.log("Warning, gif stream longer than expected.");r[y++]=R;var W=y+=w;for(x!==L&&(r[y++]=R),N=x;w--;)N=S[N],r[--W]=255&N,N>>=8;_!==null&&a<4096&&(S[a++]=_<<8|R,a>=d+1&&l<12&&(++l,d=d<<1|1)),_=L}else a=o+1,d=(1<<(l=i+1))-1,_=null}return y!==n&&Tt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function p0(e){var t,r,n,i,s,o=Math.floor,a=new Array(64),l=new Array(64),d=new Array(64),h=new Array(64),m=new Array(65535),y=new Array(65535),p=new Array(64),S=new Array(64),_=[],L=0,x=7,w=new Array(64),N=new Array(64),R=new Array(64),W=new Array(256),X=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(A,M){for(var $=0,K=0,Z=new Array,ce=1;ce<=16;ce++){for(var me=1;me<=A[ce];me++)Z[M[K]]=[],Z[M[K]][0]=$,Z[M[K]][1]=ce,K++,$++;$*=2}return Z}function he(A){for(var M=A[0],$=A[1]-1;$>=0;)M&1<<$&&(L|=1<<x),$--,--x<0&&(L==255?(J(255),J(0)):J(L),x=7,L=0)}function J(A){_.push(A)}function ie(A){J(A>>8&255),J(255&A)}function ae(A,M,$,K,Z){for(var ce,me=Z[0],le=Z[240],Ce=function(H,Q){var we,pe,xe,Ie,De,Je,Ye,pt,et,dt,Be=0;for(et=0;et<8;++et){we=H[Be],pe=H[Be+1],xe=H[Be+2],Ie=H[Be+3],De=H[Be+4],Je=H[Be+5],Ye=H[Be+6];var Sr=we+(pt=H[Be+7]),vt=we-pt,jn=pe+Ye,St=pe-Ye,qt=xe+Je,Ai=xe-Je,Nt=Ie+De,wo=Ie-De,Yt=Sr+Nt,ii=Sr-Nt,Yi=jn+qt,Qt=jn-qt;H[Be]=Yt+Yi,H[Be+4]=Yt-Yi;var st=.707106781*(Qt+ii);H[Be+2]=ii+st,H[Be+6]=ii-st;var jt=.382683433*((Yt=wo+Ai)-(Qt=St+vt)),xo=.5411961*Yt+jt,Ir=1.306562965*Qt+jt,Li=.707106781*(Yi=Ai+St),Pi=vt+Li,Ze=vt-Li;H[Be+5]=Ze+xo,H[Be+3]=Ze-xo,H[Be+1]=Pi+Ir,H[Be+7]=Pi-Ir,Be+=8}for(Be=0,et=0;et<8;++et){we=H[Be],pe=H[Be+8],xe=H[Be+16],Ie=H[Be+24],De=H[Be+32],Je=H[Be+40],Ye=H[Be+48];var si=we+(pt=H[Be+56]),Ci=we-pt,dn=pe+Ye,yr=pe-Ye,fr=xe+Je,kn=xe-Je,oa=Ie+De,Qi=Ie-De,oi=si+oa,ai=si-oa,li=dn+fr,Ei=dn-fr;H[Be]=oi+li,H[Be+32]=oi-li;var zn=.707106781*(Ei+ai);H[Be+16]=ai+zn,H[Be+48]=ai-zn;var Ii=.382683433*((oi=Qi+kn)-(Ei=yr+Ci)),bo=.5411961*oi+Ii,aa=1.306562965*Ei+Ii,la=.707106781*(li=kn+yr),ca=Ci+la,ua=Ci-la;H[Be+40]=ua+bo,H[Be+24]=ua-bo,H[Be+8]=ca+aa,H[Be+56]=ca-aa,Be++}for(et=0;et<64;++et)dt=H[et]*Q[et],p[et]=dt>0?dt+.5|0:dt-.5|0;return p}(A,M),ge=0;ge<64;++ge)S[O[ge]]=Ce[ge];var je=S[0]-$;$=S[0],je==0?he(K[0]):(he(K[y[ce=32767+je]]),he(m[ce]));for(var Te=63;Te>0&&S[Te]==0;)Te--;if(Te==0)return he(me),$;for(var Re,_e=1;_e<=Te;){for(var V=_e;S[_e]==0&&_e<=Te;)++_e;var He=_e-V;if(He>=16){Re=He>>4;for(var B=1;B<=Re;++B)he(le);He&=15}ce=32767+S[_e],he(Z[(He<<4)+y[ce]]),he(m[ce]),_e++}return Te!=63&&he(me),$}function Ae(A){A=Math.min(Math.max(A,1),100),s!=A&&(function(M){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var Z=o(($[K]*M+50)/100);Z=Math.min(Math.max(Z,1),255),a[O[K]]=Z}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var le=o((ce[me]*M+50)/100);le=Math.min(Math.max(le,1),255),l[O[me]]=le}for(var Ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,je=0;je<8;je++)for(var Te=0;Te<8;Te++)d[ge]=1/(a[O[ge]]*Ce[je]*Ce[Te]*8),h[ge]=1/(l[O[ge]]*Ce[je]*Ce[Te]*8),ge++}(A<50?Math.floor(5e3/A):Math.floor(200-2*A)),s=A)}this.encode=function(A,M){M&&Ae(M),_=new Array,L=0,x=7,ie(65496),ie(65504),ie(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),ie(1),ie(1),J(0),J(0),function(){ie(65499),ie(132),J(0);for(var pe=0;pe<64;pe++)J(a[pe]);J(1);for(var xe=0;xe<64;xe++)J(l[xe])}(),function(pe,xe){ie(65472),ie(17),J(8),ie(xe),ie(pe),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(A.width,A.height),function(){ie(65476),ie(418),J(0);for(var pe=0;pe<16;pe++)J(E[pe+1]);for(var xe=0;xe<=11;xe++)J(Y[xe]);J(16);for(var Ie=0;Ie<16;Ie++)J(ne[Ie+1]);for(var De=0;De<=161;De++)J(T[De]);J(1);for(var Je=0;Je<16;Je++)J(I[Je+1]);for(var Ye=0;Ye<=11;Ye++)J(G[Ye]);J(17);for(var pt=0;pt<16;pt++)J(q[pt+1]);for(var et=0;et<=161;et++)J(fe[et])}(),ie(65498),ie(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var $=0,K=0,Z=0;L=0,x=7,this.encode.displayName="_encode_";for(var ce,me,le,Ce,ge,je,Te,Re,_e,V=A.data,He=A.width,B=A.height,H=4*He,Q=0;Q<B;){for(ce=0;ce<H;){for(ge=H*Q+ce,Te=-1,Re=0,_e=0;_e<64;_e++)je=ge+(Re=_e>>3)*H+(Te=4*(7&_e)),Q+Re>=B&&(je-=H*(Q+1+Re-B)),ce+Te>=H&&(je-=ce+Te-H+4),me=V[je++],le=V[je++],Ce=V[je++],w[_e]=(X[me]+X[le+256>>0]+X[Ce+512>>0]>>16)-128,N[_e]=(X[me+768>>0]+X[le+1024>>0]+X[Ce+1280>>0]>>16)-128,R[_e]=(X[me+1280>>0]+X[le+1536>>0]+X[Ce+1792>>0]>>16)-128;$=ae(w,d,$,t,n),K=ae(N,h,K,r,i),Z=ae(R,h,Z,r,i),ce+=32}Q+=8}if(x>=0){var we=[];we[1]=x+1,we[0]=(1<<x+1)-1,he(we)}return ie(65497),new Uint8Array(_)},e=e||50,function(){for(var A=String.fromCharCode,M=0;M<256;M++)W[M]=A(M)}(),t=ue(E,Y),r=ue(I,G),n=ue(ne,T),i=ue(q,fe),function(){for(var A=1,M=2,$=1;$<=15;$++){for(var K=A;K<M;K++)y[32767+K]=$,m[32767+K]=[],m[32767+K][1]=$,m[32767+K][0]=K;for(var Z=-(M-1);Z<=-A;Z++)y[32767+Z]=$,m[32767+Z]=[],m[32767+Z][1]=$,m[32767+Z][0]=M-1+Z;A<<=1,M<<=1}}(),function(){for(var A=0;A<256;A++)X[A]=19595*A,X[A+256>>0]=38470*A,X[A+512>>0]=7471*A+32768,X[A+768>>0]=-11059*A,X[A+1024>>0]=-21709*A,X[A+1280>>0]=32768*A+8421375,X[A+1536>>0]=-27439*A,X[A+1792>>0]=-5329*A}(),Ae(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function gi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function M5(e){function t(E){if(!E)throw Error("assert :P")}function r(E,Y,ne){for(var T=0;4>T;T++)if(E[Y+T]!=ne.charCodeAt(T))return!0;return!1}function n(E,Y,ne,T,I){for(var G=0;G<I;G++)E[Y+G]=ne[T+G]}function i(E,Y,ne,T){for(var I=0;I<T;I++)E[Y+I]=ne}function s(E){return new Int32Array(E)}function o(E,Y){for(var ne=[],T=0;T<E;T++)ne.push(new Y);return ne}function a(E,Y){var ne=[];return function T(I,G,q){for(var fe=q[G],ue=0;ue<fe&&(I.push(q.length>G+1?[]:new Y),!(q.length<G+1));ue++)T(I[ue],G+1,q)}(ne,0,E),ne}var l=function(){var E=this;function Y(c,u){for(var v=1<<u-1>>>0;c&v;)v>>>=1;return v?(c&v-1)+v:c}function ne(c,u,v,b,j){t(!(b%v));do c[u+(b-=v)]=j;while(0<b)}function T(c,u,v,b,j){if(t(2328>=j),512>=j)var P=s(512);else if((P=s(j))==null)return 0;return function(C,F,D,U,te,ve){var ye,oe,Pe=F,Se=1<<D,re=s(16),se=s(16);for(t(te!=0),t(U!=null),t(C!=null),t(0<D),oe=0;oe<te;++oe){if(15<U[oe])return 0;++re[U[oe]]}if(re[0]==te)return 0;for(se[1]=0,ye=1;15>ye;++ye){if(re[ye]>1<<ye)return 0;se[ye+1]=se[ye]+re[ye]}for(oe=0;oe<te;++oe)ye=U[oe],0<U[oe]&&(ve[se[ye]++]=oe);if(se[15]==1)return(U=new I).g=0,U.value=ve[0],ne(C,Pe,1,Se,U),Se;var ke,Ee=-1,Le=Se-1,ze=0,Me=1,Qe=1,Ue=1<<D;for(oe=0,ye=1,te=2;ye<=D;++ye,te<<=1){if(Me+=Qe<<=1,0>(Qe-=re[ye]))return 0;for(;0<re[ye];--re[ye])(U=new I).g=ye,U.value=ve[oe++],ne(C,Pe+ze,te,Ue,U),ze=Y(ze,ye)}for(ye=D+1,te=2;15>=ye;++ye,te<<=1){if(Me+=Qe<<=1,0>(Qe-=re[ye]))return 0;for(;0<re[ye];--re[ye]){if(U=new I,(ze&Le)!=Ee){for(Pe+=Ue,ke=1<<(Ee=ye)-D;15>Ee&&!(0>=(ke-=re[Ee]));)++Ee,ke<<=1;Se+=Ue=1<<(ke=Ee-D),C[F+(Ee=ze&Le)].g=ke+D,C[F+Ee].value=Pe-F-Ee}U.g=ye-D,U.value=ve[oe++],ne(C,Pe+(ze>>D),te,Ue,U),ze=Y(ze,ye)}}return Me!=2*se[15]-1?0:Se}(c,u,v,b,j,P)}function I(){this.value=this.g=0}function G(){this.value=this.g=0}function q(){this.G=o(5,I),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Fr,G)}function fe(c,u,v,b){t(c!=null),t(u!=null),t(2147483648>b),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=u,c.pa=v,c.Jd=u,c.Yc=v+b,c.Zc=4<=b?v+b-4+1:v,ce(c)}function ue(c,u){for(var v=0;0<u--;)v|=le(c,128)<<u;return v}function he(c,u){var v=ue(c,u);return me(c)?-v:v}function J(c,u,v,b){var j,P=0;for(t(c!=null),t(u!=null),t(4294967288>b),c.Sb=b,c.Ra=0,c.u=0,c.h=0,4<b&&(b=4),j=0;j<b;++j)P+=u[v+j]<<8*j;c.Ra=P,c.bb=b,c.oa=u,c.pa=v}function ie(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<ja-8>>>0,++c.bb,c.u-=8;$(c)&&(c.h=1,c.u=0)}function ae(c,u){if(t(0<=u),!c.h&&u<=Na){var v=M(c)&Sa[u];return c.u+=u,ie(c),v}return c.h=1,c.u=0}function Ae(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function A(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function M(c){return c.Ra>>>(c.u&ja-1)>>>0}function $(c){return t(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>ja}function K(c,u){c.u=u,c.h=$(c)}function Z(c){c.u>=Zl&&(t(c.u>=Zl),ie(c))}function ce(c){t(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(t(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function me(c){return ue(c,1)}function le(c,u){var v=c.Ca;0>c.b&&ce(c);var b=c.b,j=v*u>>>8,P=(c.I>>>b>j)+0;for(P?(v-=j,c.I-=j+1<<b>>>0):v=j+1,b=v,j=0;256<=b;)j+=8,b>>=8;return b=7^j+hn[b],c.b-=b,c.Ca=(v<<b)-1,P}function Ce(c,u,v){c[u+0]=v>>24&255,c[u+1]=v>>16&255,c[u+2]=v>>8&255,c[u+3]=v>>0&255}function ge(c,u){return c[u+0]<<0|c[u+1]<<8}function je(c,u){return ge(c,u)|c[u+2]<<16}function Te(c,u){return ge(c,u)|ge(c,u+2)<<16}function Re(c,u){var v=1<<u;return t(c!=null),t(0<u),c.X=s(v),c.X==null?0:(c.Mb=32-u,c.Xa=u,1)}function _e(c,u){t(c!=null),t(u!=null),t(c.Xa==u.Xa),n(u.X,0,c.X,0,1<<u.Xa)}function V(){this.X=[],this.Xa=this.Mb=0}function He(c,u,v,b){t(v!=null),t(b!=null);var j=v[0],P=b[0];return j==0&&(j=(c*P+u/2)/u),P==0&&(P=(u*j+c/2)/c),0>=j||0>=P?0:(v[0]=j,b[0]=P,1)}function B(c,u){return c+(1<<u)-1>>>u}function H(c,u){return((4278255360&c)+(4278255360&u)>>>0&4278255360)+((16711935&c)+(16711935&u)>>>0&16711935)>>>0}function Q(c,u){E[u]=function(v,b,j,P,C,F,D){var U;for(U=0;U<C;++U){var te=E[c](F[D+U-1],j,P+U);F[D+U]=H(v[b+U],te)}}}function we(){this.ud=this.hd=this.jd=0}function pe(c,u){return((4278124286&(c^u))>>>1)+(c&u)>>>0}function xe(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Ie(c,u){return xe(c+(c-u+.5>>1))}function De(c,u,v){return Math.abs(u-v)-Math.abs(c-v)}function Je(c,u,v,b,j,P,C){for(b=P[C-1],v=0;v<j;++v)P[C+v]=b=H(c[u+v],b)}function Ye(c,u,v,b,j){var P;for(P=0;P<v;++P){var C=c[u+P],F=C>>8&255,D=16711935&(D=(D=16711935&C)+((F<<16)+F));b[j+P]=(4278255360&C)+D>>>0}}function pt(c,u){u.jd=c>>0&255,u.hd=c>>8&255,u.ud=c>>16&255}function et(c,u,v,b,j,P){var C;for(C=0;C<b;++C){var F=u[v+C],D=F>>>8,U=F,te=255&(te=(te=F>>>16)+((c.jd<<24>>24)*(D<<24>>24)>>>5));U=255&(U=(U=U+((c.hd<<24>>24)*(D<<24>>24)>>>5))+((c.ud<<24>>24)*(te<<24>>24)>>>5)),j[P+C]=(4278255360&F)+(te<<16)+U}}function dt(c,u,v,b,j){E[u]=function(P,C,F,D,U,te,ve,ye,oe){for(D=ve;D<ye;++D)for(ve=0;ve<oe;++ve)U[te++]=j(F[b(P[C++])])},E[c]=function(P,C,F,D,U,te,ve){var ye=8>>P.b,oe=P.Ea,Pe=P.K[0],Se=P.w;if(8>ye)for(P=(1<<P.b)-1,Se=(1<<ye)-1;C<F;++C){var re,se=0;for(re=0;re<oe;++re)re&P||(se=b(D[U++])),te[ve++]=j(Pe[se&Se]),se>>=ye}else E["VP8LMapColor"+v](D,U,Pe,Se,te,ve,C,F,oe)}}function Be(c,u,v,b,j){for(v=u+v;u<v;){var P=c[u++];b[j++]=P>>16&255,b[j++]=P>>8&255,b[j++]=P>>0&255}}function Sr(c,u,v,b,j){for(v=u+v;u<v;){var P=c[u++];b[j++]=P>>16&255,b[j++]=P>>8&255,b[j++]=P>>0&255,b[j++]=P>>24&255}}function vt(c,u,v,b,j){for(v=u+v;u<v;){var P=(C=c[u++])>>16&240|C>>12&15,C=C>>0&240|C>>28&15;b[j++]=P,b[j++]=C}}function jn(c,u,v,b,j){for(v=u+v;u<v;){var P=(C=c[u++])>>16&248|C>>13&7,C=C>>5&224|C>>3&31;b[j++]=P,b[j++]=C}}function St(c,u,v,b,j){for(v=u+v;u<v;){var P=c[u++];b[j++]=P>>0&255,b[j++]=P>>8&255,b[j++]=P>>16&255}}function qt(c,u,v,b,j,P){if(P==0)for(v=u+v;u<v;)Ce(b,((P=c[u++])[0]>>24|P[1]>>8&65280|P[2]<<8&16711680|P[3]<<24)>>>0),j+=32;else n(b,j,c,u,v)}function Ai(c,u){E[u][0]=E[c+"0"],E[u][1]=E[c+"1"],E[u][2]=E[c+"2"],E[u][3]=E[c+"3"],E[u][4]=E[c+"4"],E[u][5]=E[c+"5"],E[u][6]=E[c+"6"],E[u][7]=E[c+"7"],E[u][8]=E[c+"8"],E[u][9]=E[c+"9"],E[u][10]=E[c+"10"],E[u][11]=E[c+"11"],E[u][12]=E[c+"12"],E[u][13]=E[c+"13"],E[u][14]=E[c+"0"],E[u][15]=E[c+"0"]}function Nt(c){return c==ep||c==tp||c==nd||c==rp}function wo(){this.eb=[],this.size=this.A=this.fb=0}function Yt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ii(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wo,this.f.kb=new Yt,this.sd=null}function Yi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function jt(c,u){var v=c.T,b=u.ba.f.RGBA,j=b.eb,P=b.fb+c.ka*b.A,C=Jn[u.ba.S],F=c.y,D=c.O,U=c.f,te=c.N,ve=c.ea,ye=c.W,oe=u.cc,Pe=u.dc,Se=u.Mc,re=u.Nc,se=c.ka,ke=c.ka+c.T,Ee=c.U,Le=Ee+1>>1;for(se==0?C(F,D,null,null,U,te,ve,ye,U,te,ve,ye,j,P,null,null,Ee):(C(u.ec,u.fc,F,D,oe,Pe,Se,re,U,te,ve,ye,j,P-b.A,j,P,Ee),++v);se+2<ke;se+=2)oe=U,Pe=te,Se=ve,re=ye,te+=c.Rc,ye+=c.Rc,P+=2*b.A,C(F,(D+=2*c.fa)-c.fa,F,D,oe,Pe,Se,re,U,te,ve,ye,j,P-b.A,j,P,Ee);return D+=c.fa,c.j+ke<c.o?(n(u.ec,u.fc,F,D,Ee),n(u.cc,u.dc,U,te,Le),n(u.Mc,u.Nc,ve,ye,Le),v--):1&ke||C(F,D,null,null,U,te,ve,ye,U,te,ve,ye,j,P+b.A,null,null,Ee),v}function xo(c,u,v){var b=c.F,j=[c.J];if(b!=null){var P=c.U,C=u.ba.S,F=C==rd||C==nd;u=u.ba.f.RGBA;var D=[0],U=c.ka;D[0]=c.T,c.Kb&&(U==0?--D[0]:(--U,j[0]-=c.width),c.j+c.ka+c.T==c.o&&(D[0]=c.o-c.j-U));var te=u.eb;U=u.fb+U*u.A,c=Dt(b,j[0],c.width,P,D,te,U+(F?0:3),u.A),t(v==D),c&&Nt(C)&&Hn(te,U,F,P,D,u.A)}return 0}function Ir(c){var u=c.ma,v=u.ba.S,b=11>v,j=v==ed||v==td||v==rd||v==Zh||v==12||Nt(v);if(u.memory=null,u.Ib=null,u.Jb=null,u.Nd=null,!Yl(u.Oa,c,j?11:12))return 0;if(j&&Nt(v)&&Fe(),c.da)alert("todo:use_scaling");else{if(b){if(u.Ib=st,c.Kb){if(v=c.U+1>>1,u.memory=s(c.U+2*v),u.memory==null)return 0;u.ec=u.memory,u.fc=0,u.cc=u.ec,u.dc=u.fc+c.U,u.Mc=u.cc,u.Nc=u.dc+v,u.Ib=jt,Fe()}}else alert("todo:EmitYUV");j&&(u.Jb=xo,b&&de())}if(b&&!dg){for(c=0;256>c;++c)Wx[c]=89858*(c-128)+sd>>id,Jx[c]=-22014*(c-128)+sd,Gx[c]=-45773*(c-128),Hx[c]=113618*(c-128)+sd>>id;for(c=oc;c<sp;++c)u=76283*(c-16)+sd>>id,Kx[c-oc]=An(u,255),Xx[c-oc]=An(u+8>>4,15);dg=1}return 1}function Li(c){var u=c.ma,v=c.U,b=c.T;return t(!(1&c.ka)),0>=v||0>=b?0:(v=u.Ib(c,u),u.Jb!=null&&u.Jb(c,u,v),u.Dc+=v,1)}function Pi(c){c.ma.memory=null}function Ze(c,u,v,b){return ae(c,8)!=47?0:(u[0]=ae(c,14)+1,v[0]=ae(c,14)+1,b[0]=ae(c,1),ae(c,3)!=0?0:!c.h)}function si(c,u){if(4>c)return c+1;var v=c-2>>1;return(2+(1&c)<<v)+ae(u,v)+1}function Ci(c,u){return 120<u?u-120:1<=(v=((v=Ex[u-1])>>4)*c+(8-(15&v)))?v:1;var v}function dn(c,u,v){var b=M(v),j=c[u+=255&b].g-8;return 0<j&&(K(v,v.u+8),b=M(v),u+=c[u].value,u+=b&(1<<j)-1),K(v,v.u+c[u].g),c[u].value}function yr(c,u,v){return v.g+=c.g,v.value+=c.value<<u>>>0,t(8>=v.g),c.g}function fr(c,u,v){var b=c.xc;return t((u=b==0?0:c.vc[c.md*(v>>b)+(u>>b)])<c.Wb),c.Ya[u]}function kn(c,u,v,b){var j=c.ab,P=c.c*u,C=c.C;u=C+u;var F=v,D=b;for(b=c.Ta,v=c.Ua;0<j--;){var U=c.gc[j],te=C,ve=u,ye=F,oe=D,Pe=(D=b,F=v,U.Ea);switch(t(te<ve),t(ve<=U.nc),U.hc){case 2:Gu(ye,oe,(ve-te)*Pe,D,F);break;case 0:var Se=te,re=ve,se=D,ke=F,Ee=(Ue=U).Ea;Se==0&&(Yh(ye,oe,null,null,1,se,ke),Je(ye,oe+1,0,0,Ee-1,se,ke+1),oe+=Ee,ke+=Ee,++Se);for(var Le=1<<Ue.b,ze=Le-1,Me=B(Ee,Ue.b),Qe=Ue.K,Ue=Ue.w+(Se>>Ue.b)*Me;Se<re;){var _t=Qe,kt=Ue,xt=1;for(ec(ye,oe,se,ke-Ee,1,se,ke);xt<Ee;){var gt=(xt&~ze)+Le;gt>Ee&&(gt=Ee),(0,ks[_t[kt++]>>8&15])(ye,oe+ +xt,se,ke+xt-Ee,gt-xt,se,ke+xt),xt=gt}oe+=Ee,ke+=Ee,++Se&ze||(Ue+=Me)}ve!=U.nc&&n(D,F-Pe,D,F+(ve-te-1)*Pe,Pe);break;case 1:for(Pe=ye,re=oe,Ee=(ye=U.Ea)-(ke=ye&~(se=(oe=1<<U.b)-1)),Se=B(ye,U.b),Le=U.K,U=U.w+(te>>U.b)*Se;te<ve;){for(ze=Le,Me=U,Qe=new we,Ue=re+ke,_t=re+ye;re<Ue;)pt(ze[Me++],Qe),ko(Qe,Pe,re,oe,D,F),re+=oe,F+=oe;re<_t&&(pt(ze[Me++],Qe),ko(Qe,Pe,re,Ee,D,F),re+=Ee,F+=Ee),++te&se||(U+=Se)}break;case 3:if(ye==D&&oe==F&&0<U.b){for(re=D,ye=Pe=F+(ve-te)*Pe-(ke=(ve-te)*B(U.Ea,U.b)),oe=D,se=F,Se=[],ke=(Ee=ke)-1;0<=ke;--ke)Se[ke]=oe[se+ke];for(ke=Ee-1;0<=ke;--ke)re[ye+ke]=Se[ke];qn(U,te,ve,D,Pe,D,F)}else qn(U,te,ve,ye,oe,D,F)}F=b,D=v}D!=v&&n(b,v,F,D,P)}function oa(c,u){var v=c.V,b=c.Ba+c.c*c.C,j=u-c.C;if(t(u<=c.l.o),t(16>=j),0<j){var P=c.l,C=c.Ta,F=c.Ua,D=P.width;if(kn(c,j,v,b),j=F=[F],t((v=c.C)<(b=u)),t(P.v<P.va),b>P.o&&(b=P.o),v<P.j){var U=P.j-v;v=P.j,j[0]+=U*D}if(v>=b?v=0:(j[0]+=4*P.v,P.ka=v-P.j,P.U=P.va-P.v,P.T=b-v,v=1),v){if(F=F[0],11>(v=c.ca).S){var te=v.f.RGBA,ve=(b=v.S,j=P.U,P=P.T,U=te.eb,te.A),ye=P;for(te=te.fb+c.Ma*te.A;0<ye--;){var oe=C,Pe=F,Se=j,re=U,se=te;switch(b){case Zu:pn(oe,Pe,Se,re,se);break;case ed:en(oe,Pe,Se,re,se);break;case ep:en(oe,Pe,Se,re,se),Hn(re,se,0,Se,1,0);break;case tg:rs(oe,Pe,Se,re,se);break;case td:qt(oe,Pe,Se,re,se,1);break;case tp:qt(oe,Pe,Se,re,se,1),Hn(re,se,0,Se,1,0);break;case rd:qt(oe,Pe,Se,re,se,0);break;case nd:qt(oe,Pe,Se,re,se,0),Hn(re,se,1,Se,1,0);break;case Zh:As(oe,Pe,Se,re,se);break;case rp:As(oe,Pe,Se,re,se),Ot(re,se,Se,1,0);break;case rg:ts(oe,Pe,Se,re,se);break;default:t(0)}F+=D,te+=ve}c.Ma+=P}else alert("todo:EmitRescaledRowsYUVA");t(c.Ma<=v.height)}}c.C=u,t(c.C<=c.i)}function Qi(c){var u;if(0<c.ua)return 0;for(u=0;u<c.Wb;++u){var v=c.Ya[u].G,b=c.Ya[u].H;if(0<v[1][b[1]+0].g||0<v[2][b[2]+0].g||0<v[3][b[3]+0].g)return 0}return 1}function oi(c,u,v,b,j,P){if(c.Z!=0){var C=c.qd,F=c.rd;for(t(Es[c.Z]!=null);u<v;++u)Es[c.Z](C,F,b,j,b,j,P),C=b,F=j,j+=P;c.qd=C,c.rd=F}}function ai(c,u){var v=c.l.ma,b=v.Z==0||v.Z==1?c.l.j:c.C;if(b=c.C<b?b:c.C,t(u<=c.l.o),u>b){var j=c.l.width,P=v.ca,C=v.tb+j*b,F=c.V,D=c.Ba+c.c*b,U=c.gc;t(c.ab==1),t(U[0].hc==3),Ju(U[0],b,u,F,D,P,C),oi(v,b,u,P,C,j)}c.C=c.Ma=u}function li(c,u,v,b,j,P,C){var F=c.$/b,D=c.$%b,U=c.m,te=c.s,ve=v+c.$,ye=ve;j=v+b*j;var oe=v+b*P,Pe=280+te.ua,Se=c.Pb?F:16777216,re=0<te.ua?te.Wa:null,se=te.wc,ke=ve<oe?fr(te,D,F):null;t(c.C<P),t(oe<=j);var Ee=!1;e:for(;;){for(;Ee||ve<oe;){var Le=0;if(F>=Se){var ze=ve-v;t((Se=c).Pb),Se.wd=Se.m,Se.xd=ze,0<Se.s.ua&&_e(Se.s.Wa,Se.s.vb),Se=F+Fx}if(D&se||(ke=fr(te,D,F)),t(ke!=null),ke.Qb&&(u[ve]=ke.qb,Ee=!0),!Ee)if(Z(U),ke.jc){Le=U,ze=u;var Me=ve,Qe=ke.pd[M(Le)&Fr-1];t(ke.jc),256>Qe.g?(K(Le,Le.u+Qe.g),ze[Me]=Qe.value,Le=0):(K(Le,Le.u+Qe.g-256),t(256<=Qe.value),Le=Qe.value),Le==0&&(Ee=!0)}else Le=dn(ke.G[0],ke.H[0],U);if(U.h)break;if(Ee||256>Le){if(!Ee)if(ke.nd)u[ve]=(ke.qb|Le<<8)>>>0;else{if(Z(U),Ee=dn(ke.G[1],ke.H[1],U),Z(U),ze=dn(ke.G[2],ke.H[2],U),Me=dn(ke.G[3],ke.H[3],U),U.h)break;u[ve]=(Me<<24|Ee<<16|Le<<8|ze)>>>0}if(Ee=!1,++ve,++D>=b&&(D=0,++F,C!=null&&F<=P&&!(F%16)&&C(c,F),re!=null))for(;ye<ve;)Le=u[ye++],re.X[(506832829*Le&4294967295)>>>re.Mb]=Le}else if(280>Le){if(Le=si(Le-256,U),ze=dn(ke.G[4],ke.H[4],U),Z(U),ze=Ci(b,ze=si(ze,U)),U.h)break;if(ve-v<ze||j-ve<Le)break e;for(Me=0;Me<Le;++Me)u[ve+Me]=u[ve+Me-ze];for(ve+=Le,D+=Le;D>=b;)D-=b,++F,C!=null&&F<=P&&!(F%16)&&C(c,F);if(t(ve<=j),D&se&&(ke=fr(te,D,F)),re!=null)for(;ye<ve;)Le=u[ye++],re.X[(506832829*Le&4294967295)>>>re.Mb]=Le}else{if(!(Le<Pe))break e;for(Ee=Le-280,t(re!=null);ye<ve;)Le=u[ye++],re.X[(506832829*Le&4294967295)>>>re.Mb]=Le;Le=ve,t(!(Ee>>>(ze=re).Xa)),u[Le]=ze.X[Ee],Ee=!0}Ee||t(U.h==$(U))}if(c.Pb&&U.h&&ve<j)t(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&_e(c.s.vb,c.s.Wa);else{if(U.h)break e;C!=null&&C(c,F>P?P:F),c.a=0,c.$=ve-v}return 1}return c.a=3,0}function Ei(c){t(c!=null),c.vc=null,c.yc=null,c.Ya=null;var u=c.Wa;u!=null&&(u.X=null),c.vb=null,t(c!=null)}function zn(){var c=new Xh;return c==null?null:(c.a=0,c.xb=sg,Ai("Predictor","VP8LPredictors"),Ai("Predictor","VP8LPredictors_C"),Ai("PredictorAdd","VP8LPredictorsAdd"),Ai("PredictorAdd","VP8LPredictorsAdd_C"),Gu=Ye,ko=et,pn=Be,en=Sr,As=vt,ts=jn,rs=St,E.VP8LMapColor32b=ka,E.VP8LMapColor8b=Ku,c)}function Ii(c,u,v,b,j){var P=1,C=[c],F=[u],D=b.m,U=b.s,te=null,ve=0;e:for(;;){if(v)for(;P&&ae(D,1);){var ye=C,oe=F,Pe=b,Se=1,re=Pe.m,se=Pe.gc[Pe.ab],ke=ae(re,2);if(Pe.Oc&1<<ke)P=0;else{switch(Pe.Oc|=1<<ke,se.hc=ke,se.Ea=ye[0],se.nc=oe[0],se.K=[null],++Pe.ab,t(4>=Pe.ab),ke){case 0:case 1:se.b=ae(re,3)+2,Se=Ii(B(se.Ea,se.b),B(se.nc,se.b),0,Pe,se.K),se.K=se.K[0];break;case 3:var Ee,Le=ae(re,8)+1,ze=16<Le?0:4<Le?1:2<Le?2:3;if(ye[0]=B(se.Ea,ze),se.b=ze,Ee=Se=Ii(Le,1,0,Pe,se.K)){var Me,Qe=Le,Ue=se,_t=1<<(8>>Ue.b),kt=s(_t);if(kt==null)Ee=0;else{var xt=Ue.K[0],gt=Ue.w;for(kt[0]=Ue.K[0][0],Me=1;Me<1*Qe;++Me)kt[Me]=H(xt[gt+Me],kt[Me-1]);for(;Me<4*_t;++Me)kt[Me]=0;Ue.K[0]=null,Ue.K[0]=kt,Ee=1}}Se=Ee;break;case 2:break;default:t(0)}P=Se}}if(C=C[0],F=F[0],P&&ae(D,1)&&!(P=1<=(ve=ae(D,4))&&11>=ve)){b.a=3;break e}var It;if(It=P)t:{var Ct,ut,pr,mn=b,mr=C,gn=F,At=ve,Pn=v,Cn=mn.m,jr=mn.s,Tr=[null],rn=1,Kn=0,Di=Ix[At];r:for(;;){if(Pn&&ae(Cn,1)){var kr=ae(Cn,3)+2,os=B(mr,kr),Eo=B(gn,kr),Ea=os*Eo;if(!Ii(os,Eo,0,mn,Tr))break r;for(Tr=Tr[0],jr.xc=kr,Ct=0;Ct<Ea;++Ct){var Is=Tr[Ct]>>8&65535;Tr[Ct]=Is,Is>=rn&&(rn=Is+1)}}if(Cn.h)break r;for(ut=0;5>ut;++ut){var er=ng[ut];!ut&&0<At&&(er+=1<<At),Kn<er&&(Kn=er)}var op=o(rn*Di,I),pg=rn,mg=o(pg,q);if(mg==null)var ad=null;else t(65536>=pg),ad=mg;var ac=s(Kn);if(ad==null||ac==null||op==null){mn.a=1;break r}var ld=op;for(Ct=pr=0;Ct<rn;++Ct){var hi=ad[Ct],Ia=hi.G,Fa=hi.H,gg=0,cd=1,vg=0;for(ut=0;5>ut;++ut){er=ng[ut],Ia[ut]=ld,Fa[ut]=pr,!ut&&0<At&&(er+=1<<At);i:{var ud,ap=er,dd=mn,lc=ac,Zx=ld,eb=pr,lp=0,Fs=dd.m,tb=ae(Fs,1);if(i(lc,0,0,ap),tb){var rb=ae(Fs,1)+1,nb=ae(Fs,1),yg=ae(Fs,nb==0?1:8);lc[yg]=1,rb==2&&(lc[yg=ae(Fs,8)]=1);var fd=1}else{var wg=s(19),xg=ae(Fs,4)+4;if(19<xg){dd.a=3;var hd=0;break i}for(ud=0;ud<xg;++ud)wg[Cx[ud]]=ae(Fs,3);var cp=void 0,cc=void 0,bg=dd,ib=wg,pd=ap,_g=lc,up=0,Ts=bg.m,Sg=8,Ng=o(128,I);n:for(;T(Ng,0,7,ib,19);){if(ae(Ts,1)){var sb=2+2*ae(Ts,3);if((cp=2+ae(Ts,sb))>pd)break n}else cp=pd;for(cc=0;cc<pd&&cp--;){Z(Ts);var jg=Ng[0+(127&M(Ts))];K(Ts,Ts.u+jg.g);var Ta=jg.value;if(16>Ta)_g[cc++]=Ta,Ta!=0&&(Sg=Ta);else{var ob=Ta==16,kg=Ta-16,ab=Lx[kg],Ag=ae(Ts,Ax[kg])+ab;if(cc+Ag>pd)break n;for(var lb=ob?Sg:0;0<Ag--;)_g[cc++]=lb}}up=1;break n}up||(bg.a=3),fd=up}(fd=fd&&!Fs.h)&&(lp=T(Zx,eb,8,lc,ap)),fd&&lp!=0?hd=lp:(dd.a=3,hd=0)}if(hd==0)break r;if(cd&&Px[ut]==1&&(cd=ld[pr].g==0),gg+=ld[pr].g,pr+=hd,3>=ut){var uc,dp=ac[0];for(uc=1;uc<er;++uc)ac[uc]>dp&&(dp=ac[uc]);vg+=dp}}if(hi.nd=cd,hi.Qb=0,cd&&(hi.qb=(Ia[3][Fa[3]+0].value<<24|Ia[1][Fa[1]+0].value<<16|Ia[2][Fa[2]+0].value)>>>0,gg==0&&256>Ia[0][Fa[0]+0].value&&(hi.Qb=1,hi.qb+=Ia[0][Fa[0]+0].value<<8)),hi.jc=!hi.Qb&&6>vg,hi.jc){var md,as=hi;for(md=0;md<Fr;++md){var Os=md,Ds=as.pd[Os],gd=as.G[0][as.H[0]+Os];256<=gd.value?(Ds.g=gd.g+256,Ds.value=gd.value):(Ds.g=0,Ds.value=0,Os>>=yr(gd,8,Ds),Os>>=yr(as.G[1][as.H[1]+Os],16,Ds),Os>>=yr(as.G[2][as.H[2]+Os],0,Ds),yr(as.G[3][as.H[3]+Os],24,Ds))}}}jr.vc=Tr,jr.Wb=rn,jr.Ya=ad,jr.yc=op,It=1;break t}It=0}if(!(P=It)){b.a=3;break e}if(0<ve){if(U.ua=1<<ve,!Re(U.Wa,ve)){b.a=1,P=0;break e}}else U.ua=0;var fp=b,Lg=C,cb=F,hp=fp.s,pp=hp.xc;if(fp.c=Lg,fp.i=cb,hp.md=B(Lg,pp),hp.wc=pp==0?-1:(1<<pp)-1,v){b.xb=Ux;break e}if((te=s(C*F))==null){b.a=1,P=0;break e}P=(P=li(b,te,0,C,F,F,null))&&!D.h;break e}return P?(j!=null?j[0]=te:(t(te==null),t(v)),b.$=0,v||Ei(U)):Ei(U),P}function bo(c,u){var v=c.c*c.i,b=v+u+16*u;return t(c.c<=u),c.V=s(b),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+v+u,1)}function aa(c,u){var v=c.C,b=u-v,j=c.V,P=c.Ba+c.c*v;for(t(u<=c.l.o);0<b;){var C=16<b?16:b,F=c.l.ma,D=c.l.width,U=D*C,te=F.ca,ve=F.tb+D*v,ye=c.Ta,oe=c.Ua;kn(c,C,j,P),or(ye,oe,te,ve,U),oi(F,v,v+C,te,ve,D),b-=C,j+=C*c.c,v+=C}t(v==u),c.C=c.Ma=u}function la(){this.ub=this.yd=this.td=this.Rb=0}function ca(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ua(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Au(){this.Yb=function(){var c=[];return function u(v,b,j){for(var P=j[b],C=0;C<P&&(v.push(j.length>b+1?[]:0),!(j.length<b+1));C++)u(v[C],b+1,j)}(c,0,[3,11]),c}()}function Ah(){this.jb=s(3),this.Wc=a([4,8],Au),this.Xc=a([4,17],Au)}function Lh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function da(){this.ld=this.La=this.dd=this.tc=0}function Lu(){this.Na=this.la=0}function Ph(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ol(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ch(){this.uc=this.M=this.Nb=0,this.wa=Array(new da),this.Y=0,this.ya=Array(new Ol),this.aa=0,this.l=new fa}function Pu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Eh(){this.cb=this.a=0,this.sc="",this.m=new Ae,this.Od=new la,this.Kc=new ca,this.ed=new Lh,this.Qa=new ua,this.Ic=this.$c=this.Aa=0,this.D=new Ch,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ae),this.ia=0,this.pb=o(4,Ph),this.Pa=new Ah,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pu),this.Hd=0,this.rb=Array(new Lu),this.sb=0,this.wa=Array(new da),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ol),this.L=this.aa=0,this.gd=a([4,2],da),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ih(){var c=new Eh;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,sc||(sc=Iu)),c}function ir(c,u,v){return c.a==0&&(c.a=u,c.sc=v,c.cb=0),0}function Cu(c,u,v){return 3<=v&&c[u+0]==157&&c[u+1]==1&&c[u+2]==42}function Eu(c,u){if(c==null)return 0;if(c.a=0,c.sc="OK",u==null)return ir(c,2,"null VP8Io passed to VP8GetHeaders()");var v=u.data,b=u.w,j=u.ha;if(4>j)return ir(c,7,"Truncated header.");var P=v[b+0]|v[b+1]<<8|v[b+2]<<16,C=c.Od;if(C.Rb=!(1&P),C.td=P>>1&7,C.yd=P>>4&1,C.ub=P>>5,3<C.td)return ir(c,3,"Incorrect keyframe parameters.");if(!C.yd)return ir(c,4,"Frame not displayable.");b+=3,j-=3;var F=c.Kc;if(C.Rb){if(7>j)return ir(c,7,"cannot parse picture header");if(!Cu(v,b,j))return ir(c,3,"Bad code word");F.c=16383&(v[b+4]<<8|v[b+3]),F.Td=v[b+4]>>6,F.i=16383&(v[b+6]<<8|v[b+5]),F.Ud=v[b+6]>>6,b+=7,j-=7,c.za=F.c+15>>4,c.Ub=F.i+15>>4,u.width=F.c,u.height=F.i,u.Da=0,u.j=0,u.v=0,u.va=u.width,u.o=u.height,u.da=0,u.ib=u.width,u.hb=u.height,u.U=u.width,u.T=u.height,i((P=c.Pa).jb,0,255,P.jb.length),t((P=c.Qa)!=null),P.Cb=0,P.Bb=0,P.Fb=1,i(P.Zb,0,0,P.Zb.length),i(P.Lb,0,0,P.Lb)}if(C.ub>j)return ir(c,7,"bad partition length");fe(P=c.m,v,b,C.ub),b+=C.ub,j-=C.ub,C.Rb&&(F.Ld=me(P),F.Kd=me(P)),F=c.Qa;var D,U=c.Pa;if(t(P!=null),t(F!=null),F.Cb=me(P),F.Cb){if(F.Bb=me(P),me(P)){for(F.Fb=me(P),D=0;4>D;++D)F.Zb[D]=me(P)?he(P,7):0;for(D=0;4>D;++D)F.Lb[D]=me(P)?he(P,6):0}if(F.Bb)for(D=0;3>D;++D)U.jb[D]=me(P)?ue(P,8):255}else F.Bb=0;if(P.Ka)return ir(c,3,"cannot parse segment header");if((F=c.ed).zd=me(P),F.Tb=ue(P,6),F.wb=ue(P,3),F.Pc=me(P),F.Pc&&me(P)){for(U=0;4>U;++U)me(P)&&(F.vd[U]=he(P,6));for(U=0;4>U;++U)me(P)&&(F.od[U]=he(P,6))}if(c.L=F.Tb==0?0:F.zd?1:2,P.Ka)return ir(c,3,"cannot parse filter header");var te=j;if(j=D=b,b=D+te,F=te,c.Xb=(1<<ue(c.m,2))-1,te<3*(U=c.Xb))v=7;else{for(D+=3*U,F-=3*U,te=0;te<U;++te){var ve=v[j+0]|v[j+1]<<8|v[j+2]<<16;ve>F&&(ve=F),fe(c.Jc[+te],v,D,ve),D+=ve,F-=ve,j+=3}fe(c.Jc[+U],v,D,F),v=D<b?0:5}if(v!=0)return ir(c,v,"cannot parse partitions");for(v=ue(D=c.m,7),j=me(D)?he(D,4):0,b=me(D)?he(D,4):0,F=me(D)?he(D,4):0,U=me(D)?he(D,4):0,D=me(D)?he(D,4):0,te=c.Qa,ve=0;4>ve;++ve){if(te.Cb){var ye=te.Zb[ve];te.Fb||(ye+=v)}else{if(0<ve){c.pb[ve]=c.pb[0];continue}ye=v}var oe=c.pb[ve];oe.Sc[0]=np[An(ye+j,127)],oe.Sc[1]=ip[An(ye+0,127)],oe.Eb[0]=2*np[An(ye+b,127)],oe.Eb[1]=101581*ip[An(ye+F,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=np[An(ye+U,117)],oe.Qc[1]=ip[An(ye+D,127)],oe.lc=ye+D}if(!C.Rb)return ir(c,4,"Not a key frame.");for(me(P),C=c.Pa,v=0;4>v;++v){for(j=0;8>j;++j)for(b=0;3>b;++b)for(F=0;11>F;++F)U=le(P,Mx[v][j][b][F])?ue(P,8):Dx[v][j][b][F],C.Wc[v][j].Yb[b][F]=U;for(j=0;17>j;++j)C.Xc[v][j]=C.Wc[v][Bx[j]]}return c.kc=me(P),c.kc&&(c.Bd=ue(P,8)),c.cb=1}function Iu(c,u,v,b,j,P,C){var F=u[j].Yb[v];for(v=0;16>j;++j){if(!le(c,F[v+0]))return j;for(;!le(c,F[v+1]);)if(F=u[++j].Yb[0],v=0,j==16)return 16;var D=u[j+1].Yb;if(le(c,F[v+2])){var U=c,te=0;if(le(U,(ye=F)[(ve=v)+3]))if(le(U,ye[ve+6])){for(F=0,ve=2*(te=le(U,ye[ve+8]))+(ye=le(U,ye[ve+9+te])),te=0,ye=Tx[ve];ye[F];++F)te+=te+le(U,ye[F]);te+=3+(8<<ve)}else le(U,ye[ve+7])?(te=7+2*le(U,165),te+=le(U,145)):te=5+le(U,159);else te=le(U,ye[ve+4])?3+le(U,ye[ve+5]):2;F=D[2]}else te=1,F=D[1];D=C+Ox[j],0>(U=c).b&&ce(U);var ve,ye=U.b,oe=(ve=U.Ca>>1)-(U.I>>ye)>>31;--U.b,U.Ca+=oe,U.Ca|=1,U.I-=(ve+1&oe)<<ye,P[D]=((te^oe)-oe)*b[(0<j)+0]}return 16}function Dl(c){var u=c.rb[c.sb-1];u.la=0,u.Na=0,i(c.zc,0,0,c.zc.length),c.ja=0}function Fh(c,u){if(c==null)return 0;if(u==null)return ir(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!Eu(c,u))return 0;if(t(c.cb),u.ac==null||u.ac(u)){u.ob&&(c.L=0);var v=od[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=u.v-v>>4,c.zb=u.j-v>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=u.o+15+v>>4,c.Hb=u.va+15+v>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var b=c.ed;for(v=0;4>v;++v){var j;if(c.Qa.Cb){var P=c.Qa.Lb[v];c.Qa.Fb||(P+=b.Tb)}else P=b.Tb;for(j=0;1>=j;++j){var C=c.gd[v][j],F=P;if(b.Pc&&(F+=b.vd[0],j&&(F+=b.od[0])),0<(F=0>F?0:63<F?63:F)){var D=F;0<b.wb&&(D=4<b.wb?D>>2:D>>1)>9-b.wb&&(D=9-b.wb),1>D&&(D=1),C.dd=D,C.tc=2*F+D,C.ld=40<=F?2:15<=F?1:0}else C.tc=0;C.La=j}}}v=0}else ir(c,6,"Frame setup failed"),v=c.a;if(v=v==0){if(v){c.$c=0,0<c.Aa||(c.Ic=Qx);e:{v=c.Ic,b=4*(D=c.za);var U=32*D,te=D+1,ve=0<c.L?D*(0<c.Aa?2:1):0,ye=(c.Aa==2?2:1)*D;if((C=b+832+(j=3*(16*v+od[c.L])/2*U)+(P=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=C)v=0;else{if(C>c.Vb){if(c.Vb=0,c.Ec=s(C),c.Fc=0,c.Ec==null){v=ir(c,1,"no memory during frame initialization.");break e}c.Vb=C}C=c.Ec,F=c.Fc,c.Ac=C,c.Bc=F,F+=b,c.Gd=o(U,Pu),c.Hd=0,c.rb=o(te+1,Lu),c.sb=1,c.wa=ve?o(ve,da):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=D),t(!0),c.oc=C,c.pc=F,F+=832,c.ya=o(ye,Ol),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=D),c.R=16*D,c.B=8*D,D=(U=od[c.L])*c.R,U=U/2*c.B,c.sa=C,c.ta=F+D,c.qa=c.sa,c.ra=c.ta+16*v*c.R+U,c.Ha=c.qa,c.Ia=c.ra+8*v*c.B+U,c.$c=0,F+=j,c.mb=P?C:null,c.nb=P?F:null,t(F+P<=c.Fc+c.Vb),Dl(c),i(c.Ac,c.Bc,0,b),v=1}}if(v){if(u.ka=0,u.y=c.sa,u.O=c.ta,u.f=c.qa,u.N=c.ra,u.ea=c.Ha,u.Vd=c.Ia,u.fa=c.R,u.Rc=c.B,u.F=null,u.J=0,!Yu){for(v=-255;255>=v;++v)wr[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)is[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)ic[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)Ca[255+v]=0>v?0:255<v?255:v;Yu=1}Aa=Dh,ns=Th,tc=Tu,tn=Oh,Vn=Ou,sr=Fu,La=zl,Xu=No,rc=Kh,Ao=ql,Lo=Jh,Ls=ya,Po=Vl,Pa=Vu,Co=qu,Ps=Ti,nc=es,Wn=Gh,fi[0]=Fi,fi[1]=Rh,fi[2]=$h,fi[3]=zh,fi[4]=Mu,fi[5]=ga,fi[6]=Bu,fi[7]=Bl,fi[8]=Vh,fi[9]=qh,Cs[0]=Du,Cs[1]=Bh,Cs[2]=Zi,Cs[3]=pa,Cs[4]=$r,Cs[5]=Uh,Cs[6]=Ru,ss[0]=Ss,ss[1]=Mh,ss[2]=Wh,ss[3]=Ul,ss[4]=So,ss[5]=Hh,ss[6]=$l,v=1}else v=0}v&&(v=function(oe,Pe){for(oe.M=0;oe.M<oe.Va;++oe.M){var Se,re=oe.Jc[oe.M&oe.Xb],se=oe.m,ke=oe;for(Se=0;Se<ke.za;++Se){var Ee=se,Le=ke,ze=Le.Ac,Me=Le.Bc+4*Se,Qe=Le.zc,Ue=Le.ya[Le.aa+Se];if(Le.Qa.Bb?Ue.$b=le(Ee,Le.Pa.jb[0])?2+le(Ee,Le.Pa.jb[2]):le(Ee,Le.Pa.jb[1]):Ue.$b=0,Le.kc&&(Ue.Ad=le(Ee,Le.Bd)),Ue.Za=!le(Ee,145)+0,Ue.Za){var _t=Ue.Ob,kt=0;for(Le=0;4>Le;++Le){var xt,gt=Qe[0+Le];for(xt=0;4>xt;++xt){gt=Rx[ze[Me+xt]][gt];for(var It=ig[le(Ee,gt[0])];0<It;)It=ig[2*It+le(Ee,gt[It])];gt=-It,ze[Me+xt]=gt}n(_t,kt,ze,Me,4),kt+=4,Qe[0+Le]=gt}}else gt=le(Ee,156)?le(Ee,128)?1:3:le(Ee,163)?2:0,Ue.Ob[0]=gt,i(ze,Me,gt,4),i(Qe,0,gt,4);Ue.Dd=le(Ee,142)?le(Ee,114)?le(Ee,183)?1:3:2:0}if(ke.m.Ka)return ir(oe,7,"Premature end-of-partition0 encountered.");for(;oe.ja<oe.za;++oe.ja){if(ke=re,Ee=(se=oe).rb[se.sb-1],ze=se.rb[se.sb+se.ja],Se=se.ya[se.aa+se.ja],Me=se.kc?Se.Ad:0)Ee.la=ze.la=0,Se.Za||(Ee.Na=ze.Na=0),Se.Hc=0,Se.Gc=0,Se.ia=0;else{var Ct,ut;if(Ee=ze,ze=ke,Me=se.Pa.Xc,Qe=se.ya[se.aa+se.ja],Ue=se.pb[Qe.$b],Le=Qe.ad,_t=0,kt=se.rb[se.sb-1],gt=xt=0,i(Le,_t,0,384),Qe.Za)var pr=0,mn=Me[3];else{It=s(16);var mr=Ee.Na+kt.Na;if(mr=sc(ze,Me[1],mr,Ue.Eb,0,It,0),Ee.Na=kt.Na=(0<mr)+0,1<mr)Aa(It,0,Le,_t);else{var gn=It[0]+3>>3;for(It=0;256>It;It+=16)Le[_t+It]=gn}pr=1,mn=Me[0]}var At=15&Ee.la,Pn=15&kt.la;for(It=0;4>It;++It){var Cn=1&Pn;for(gn=ut=0;4>gn;++gn)At=At>>1|(Cn=(mr=sc(ze,mn,mr=Cn+(1&At),Ue.Sc,pr,Le,_t))>pr)<<7,ut=ut<<2|(3<mr?3:1<mr?2:Le[_t+0]!=0),_t+=16;At>>=4,Pn=Pn>>1|Cn<<7,xt=(xt<<8|ut)>>>0}for(mn=At,pr=Pn>>4,Ct=0;4>Ct;Ct+=2){for(ut=0,At=Ee.la>>4+Ct,Pn=kt.la>>4+Ct,It=0;2>It;++It){for(Cn=1&Pn,gn=0;2>gn;++gn)mr=Cn+(1&At),At=At>>1|(Cn=0<(mr=sc(ze,Me[2],mr,Ue.Qc,0,Le,_t)))<<3,ut=ut<<2|(3<mr?3:1<mr?2:Le[_t+0]!=0),_t+=16;At>>=2,Pn=Pn>>1|Cn<<5}gt|=ut<<4*Ct,mn|=At<<4<<Ct,pr|=(240&Pn)<<Ct}Ee.la=mn,kt.la=pr,Qe.Hc=xt,Qe.Gc=gt,Qe.ia=43690&gt?0:Ue.ia,Me=!(xt|gt)}if(0<se.L&&(se.wa[se.Y+se.ja]=se.gd[Se.$b][Se.Za],se.wa[se.Y+se.ja].La|=!Me),ke.Ka)return ir(oe,7,"Premature end-of-file encountered.")}if(Dl(oe),se=Pe,ke=1,Se=(re=oe).D,Ee=0<re.L&&re.M>=re.zb&&re.M<=re.Va,re.Aa==0)e:{if(Se.M=re.M,Se.uc=Ee,Xl(re,Se),ke=1,Se=(ut=re.D).Nb,Ee=(gt=od[re.L])*re.R,ze=gt/2*re.B,It=16*Se*re.R,gn=8*Se*re.B,Me=re.sa,Qe=re.ta-Ee+It,Ue=re.qa,Le=re.ra-ze+gn,_t=re.Ha,kt=re.Ia-ze+gn,Pn=(At=ut.M)==0,xt=At>=re.Va-1,re.Aa==2&&Xl(re,ut),ut.uc)for(Cn=(mr=re).D.M,t(mr.D.uc),ut=mr.yb;ut<mr.Hb;++ut){pr=ut,mn=Cn;var jr=(Tr=(er=mr).D).Nb;Ct=er.R;var Tr=Tr.wa[Tr.Y+pr],rn=er.sa,Kn=er.ta+16*jr*Ct+16*pr,Di=Tr.dd,kr=Tr.tc;if(kr!=0)if(t(3<=kr),er.L==1)0<pr&&Ps(rn,Kn,Ct,kr+4),Tr.La&&Wn(rn,Kn,Ct,kr),0<mn&&Co(rn,Kn,Ct,kr+4),Tr.La&&nc(rn,Kn,Ct,kr);else{var os=er.B,Eo=er.qa,Ea=er.ra+8*jr*os+8*pr,Is=er.Ha,er=er.Ia+8*jr*os+8*pr;jr=Tr.ld,0<pr&&(Xu(rn,Kn,Ct,kr+4,Di,jr),Ao(Eo,Ea,Is,er,os,kr+4,Di,jr)),Tr.La&&(Ls(rn,Kn,Ct,kr,Di,jr),Pa(Eo,Ea,Is,er,os,kr,Di,jr)),0<mn&&(La(rn,Kn,Ct,kr+4,Di,jr),rc(Eo,Ea,Is,er,os,kr+4,Di,jr)),Tr.La&&(Lo(rn,Kn,Ct,kr,Di,jr),Po(Eo,Ea,Is,er,os,kr,Di,jr))}}if(re.ia&&alert("todo:DitherRow"),se.put!=null){if(ut=16*At,At=16*(At+1),Pn?(se.y=re.sa,se.O=re.ta+It,se.f=re.qa,se.N=re.ra+gn,se.ea=re.Ha,se.W=re.Ia+gn):(ut-=gt,se.y=Me,se.O=Qe,se.f=Ue,se.N=Le,se.ea=_t,se.W=kt),xt||(At-=gt),At>se.o&&(At=se.o),se.F=null,se.J=null,re.Fa!=null&&0<re.Fa.length&&ut<At&&(se.J=Jl(re,se,ut,At-ut),se.F=re.mb,se.F==null&&se.F.length==0)){ke=ir(re,3,"Could not decode alpha data.");break e}ut<se.j&&(gt=se.j-ut,ut=se.j,t(!(1&gt)),se.O+=re.R*gt,se.N+=re.B*(gt>>1),se.W+=re.B*(gt>>1),se.F!=null&&(se.J+=se.width*gt)),ut<At&&(se.O+=se.v,se.N+=se.v>>1,se.W+=se.v>>1,se.F!=null&&(se.J+=se.v),se.ka=ut-se.j,se.U=se.va-se.v,se.T=At-ut,ke=se.put(se))}Se+1!=re.Ic||xt||(n(re.sa,re.ta-Ee,Me,Qe+16*re.R,Ee),n(re.qa,re.ra-ze,Ue,Le+8*re.B,ze),n(re.Ha,re.Ia-ze,_t,kt+8*re.B,ze))}if(!ke)return ir(oe,6,"Output aborted.")}return 1}(c,u)),u.bc!=null&&u.bc(u),v&=1}return v?(c.cb=0,v):0}function ci(c,u,v,b,j){j=c[u+v+32*b]+(j>>3),c[u+v+32*b]=-256&j?0>j?0:255:j}function ha(c,u,v,b,j,P){ci(c,u,0,v,b+j),ci(c,u,1,v,b+P),ci(c,u,2,v,b-P),ci(c,u,3,v,b-j)}function fn(c){return(20091*c>>16)+c}function Rl(c,u,v,b){var j,P=0,C=s(16);for(j=0;4>j;++j){var F=c[u+0]+c[u+8],D=c[u+0]-c[u+8],U=(35468*c[u+4]>>16)-fn(c[u+12]),te=fn(c[u+4])+(35468*c[u+12]>>16);C[P+0]=F+te,C[P+1]=D+U,C[P+2]=D-U,C[P+3]=F-te,P+=4,u++}for(j=P=0;4>j;++j)F=(c=C[P+0]+4)+C[P+8],D=c-C[P+8],U=(35468*C[P+4]>>16)-fn(C[P+12]),ci(v,b,0,0,F+(te=fn(C[P+4])+(35468*C[P+12]>>16))),ci(v,b,1,0,D+U),ci(v,b,2,0,D-U),ci(v,b,3,0,F-te),P++,b+=32}function Fu(c,u,v,b){var j=c[u+0]+4,P=35468*c[u+4]>>16,C=fn(c[u+4]),F=35468*c[u+1]>>16;ha(v,b,0,j+C,c=fn(c[u+1]),F),ha(v,b,1,j+P,c,F),ha(v,b,2,j-P,c,F),ha(v,b,3,j-C,c,F)}function Th(c,u,v,b,j){Rl(c,u,v,b),j&&Rl(c,u+16,v,b+4)}function Tu(c,u,v,b){ns(c,u+0,v,b,1),ns(c,u+32,v,b+128,1)}function Oh(c,u,v,b){var j;for(c=c[u+0]+4,j=0;4>j;++j)for(u=0;4>u;++u)ci(v,b,u,j,c)}function Ou(c,u,v,b){c[u+0]&&tn(c,u+0,v,b),c[u+16]&&tn(c,u+16,v,b+4),c[u+32]&&tn(c,u+32,v,b+128),c[u+48]&&tn(c,u+48,v,b+128+4)}function Dh(c,u,v,b){var j,P=s(16);for(j=0;4>j;++j){var C=c[u+0+j]+c[u+12+j],F=c[u+4+j]+c[u+8+j],D=c[u+4+j]-c[u+8+j],U=c[u+0+j]-c[u+12+j];P[0+j]=C+F,P[8+j]=C-F,P[4+j]=U+D,P[12+j]=U-D}for(j=0;4>j;++j)C=(c=P[0+4*j]+3)+P[3+4*j],F=P[1+4*j]+P[2+4*j],D=P[1+4*j]-P[2+4*j],U=c-P[3+4*j],v[b+0]=C+F>>3,v[b+16]=U+D>>3,v[b+32]=C-F>>3,v[b+48]=U-D>>3,b+=64}function Ml(c,u,v){var b,j=u-32,P=Ln,C=255-c[j-1];for(b=0;b<v;++b){var F,D=P,U=C+c[u-1];for(F=0;F<v;++F)c[u+F]=D[U+c[j+F]];u+=32}}function Rh(c,u){Ml(c,u,4)}function Mh(c,u){Ml(c,u,8)}function Bh(c,u){Ml(c,u,16)}function Zi(c,u){var v;for(v=0;16>v;++v)n(c,u+32*v,c,u-32,16)}function pa(c,u){var v;for(v=16;0<v;--v)i(c,u,c[u-1],16),u+=32}function ma(c,u,v){var b;for(b=0;16>b;++b)i(u,v+32*b,c,16)}function Du(c,u){var v,b=16;for(v=0;16>v;++v)b+=c[u-1+32*v]+c[u+v-32];ma(b>>5,c,u)}function $r(c,u){var v,b=8;for(v=0;16>v;++v)b+=c[u-1+32*v];ma(b>>4,c,u)}function Uh(c,u){var v,b=8;for(v=0;16>v;++v)b+=c[u+v-32];ma(b>>4,c,u)}function Ru(c,u){ma(128,c,u)}function nt(c,u,v){return c+2*u+v+2>>2}function $h(c,u){var v,b=u-32;for(b=new Uint8Array([nt(c[b-1],c[b+0],c[b+1]),nt(c[b+0],c[b+1],c[b+2]),nt(c[b+1],c[b+2],c[b+3]),nt(c[b+2],c[b+3],c[b+4])]),v=0;4>v;++v)n(c,u+32*v,b,0,b.length)}function zh(c,u){var v=c[u-1],b=c[u-1+32],j=c[u-1+64],P=c[u-1+96];Ce(c,u+0,16843009*nt(c[u-1-32],v,b)),Ce(c,u+32,16843009*nt(v,b,j)),Ce(c,u+64,16843009*nt(b,j,P)),Ce(c,u+96,16843009*nt(j,P,P))}function Fi(c,u){var v,b=4;for(v=0;4>v;++v)b+=c[u+v-32]+c[u-1+32*v];for(b>>=3,v=0;4>v;++v)i(c,u+32*v,b,4)}function Mu(c,u){var v=c[u-1+0],b=c[u-1+32],j=c[u-1+64],P=c[u-1-32],C=c[u+0-32],F=c[u+1-32],D=c[u+2-32],U=c[u+3-32];c[u+0+96]=nt(b,j,c[u-1+96]),c[u+1+96]=c[u+0+64]=nt(v,b,j),c[u+2+96]=c[u+1+64]=c[u+0+32]=nt(P,v,b),c[u+3+96]=c[u+2+64]=c[u+1+32]=c[u+0+0]=nt(C,P,v),c[u+3+64]=c[u+2+32]=c[u+1+0]=nt(F,C,P),c[u+3+32]=c[u+2+0]=nt(D,F,C),c[u+3+0]=nt(U,D,F)}function Bu(c,u){var v=c[u+1-32],b=c[u+2-32],j=c[u+3-32],P=c[u+4-32],C=c[u+5-32],F=c[u+6-32],D=c[u+7-32];c[u+0+0]=nt(c[u+0-32],v,b),c[u+1+0]=c[u+0+32]=nt(v,b,j),c[u+2+0]=c[u+1+32]=c[u+0+64]=nt(b,j,P),c[u+3+0]=c[u+2+32]=c[u+1+64]=c[u+0+96]=nt(j,P,C),c[u+3+32]=c[u+2+64]=c[u+1+96]=nt(P,C,F),c[u+3+64]=c[u+2+96]=nt(C,F,D),c[u+3+96]=nt(F,D,D)}function ga(c,u){var v=c[u-1+0],b=c[u-1+32],j=c[u-1+64],P=c[u-1-32],C=c[u+0-32],F=c[u+1-32],D=c[u+2-32],U=c[u+3-32];c[u+0+0]=c[u+1+64]=P+C+1>>1,c[u+1+0]=c[u+2+64]=C+F+1>>1,c[u+2+0]=c[u+3+64]=F+D+1>>1,c[u+3+0]=D+U+1>>1,c[u+0+96]=nt(j,b,v),c[u+0+64]=nt(b,v,P),c[u+0+32]=c[u+1+96]=nt(v,P,C),c[u+1+32]=c[u+2+96]=nt(P,C,F),c[u+2+32]=c[u+3+96]=nt(C,F,D),c[u+3+32]=nt(F,D,U)}function Bl(c,u){var v=c[u+0-32],b=c[u+1-32],j=c[u+2-32],P=c[u+3-32],C=c[u+4-32],F=c[u+5-32],D=c[u+6-32],U=c[u+7-32];c[u+0+0]=v+b+1>>1,c[u+1+0]=c[u+0+64]=b+j+1>>1,c[u+2+0]=c[u+1+64]=j+P+1>>1,c[u+3+0]=c[u+2+64]=P+C+1>>1,c[u+0+32]=nt(v,b,j),c[u+1+32]=c[u+0+96]=nt(b,j,P),c[u+2+32]=c[u+1+96]=nt(j,P,C),c[u+3+32]=c[u+2+96]=nt(P,C,F),c[u+3+64]=nt(C,F,D),c[u+3+96]=nt(F,D,U)}function qh(c,u){var v=c[u-1+0],b=c[u-1+32],j=c[u-1+64],P=c[u-1+96];c[u+0+0]=v+b+1>>1,c[u+2+0]=c[u+0+32]=b+j+1>>1,c[u+2+32]=c[u+0+64]=j+P+1>>1,c[u+1+0]=nt(v,b,j),c[u+3+0]=c[u+1+32]=nt(b,j,P),c[u+3+32]=c[u+1+64]=nt(j,P,P),c[u+3+64]=c[u+2+64]=c[u+0+96]=c[u+1+96]=c[u+2+96]=c[u+3+96]=P}function Vh(c,u){var v=c[u-1+0],b=c[u-1+32],j=c[u-1+64],P=c[u-1+96],C=c[u-1-32],F=c[u+0-32],D=c[u+1-32],U=c[u+2-32];c[u+0+0]=c[u+2+32]=v+C+1>>1,c[u+0+32]=c[u+2+64]=b+v+1>>1,c[u+0+64]=c[u+2+96]=j+b+1>>1,c[u+0+96]=P+j+1>>1,c[u+3+0]=nt(F,D,U),c[u+2+0]=nt(C,F,D),c[u+1+0]=c[u+3+32]=nt(v,C,F),c[u+1+32]=c[u+3+64]=nt(b,v,C),c[u+1+64]=c[u+3+96]=nt(j,b,v),c[u+1+96]=nt(P,j,b)}function Wh(c,u){var v;for(v=0;8>v;++v)n(c,u+32*v,c,u-32,8)}function Ul(c,u){var v;for(v=0;8>v;++v)i(c,u,c[u-1],8),u+=32}function _o(c,u,v){var b;for(b=0;8>b;++b)i(u,v+32*b,c,8)}function Ss(c,u){var v,b=8;for(v=0;8>v;++v)b+=c[u+v-32]+c[u-1+32*v];_o(b>>4,c,u)}function Hh(c,u){var v,b=4;for(v=0;8>v;++v)b+=c[u+v-32];_o(b>>3,c,u)}function So(c,u){var v,b=4;for(v=0;8>v;++v)b+=c[u-1+32*v];_o(b>>3,c,u)}function $l(c,u){_o(128,c,u)}function va(c,u,v){var b=c[u-v],j=c[u+0],P=3*(j-b)+Qh[1020+c[u-2*v]-c[u+v]],C=Qu[112+(P+4>>3)];c[u-v]=Ln[255+b+Qu[112+(P+3>>3)]],c[u+0]=Ln[255+j-C]}function Uu(c,u,v,b){var j=c[u+0],P=c[u+v];return Gn[255+c[u-2*v]-c[u-v]]>b||Gn[255+P-j]>b}function $u(c,u,v,b){return 4*Gn[255+c[u-v]-c[u+0]]+Gn[255+c[u-2*v]-c[u+v]]<=b}function zu(c,u,v,b,j){var P=c[u-3*v],C=c[u-2*v],F=c[u-v],D=c[u+0],U=c[u+v],te=c[u+2*v],ve=c[u+3*v];return 4*Gn[255+F-D]+Gn[255+C-U]>b?0:Gn[255+c[u-4*v]-P]<=j&&Gn[255+P-C]<=j&&Gn[255+C-F]<=j&&Gn[255+ve-te]<=j&&Gn[255+te-U]<=j&&Gn[255+U-D]<=j}function qu(c,u,v,b){var j=2*b+1;for(b=0;16>b;++b)$u(c,u+b,v,j)&&va(c,u+b,v)}function Ti(c,u,v,b){var j=2*b+1;for(b=0;16>b;++b)$u(c,u+b*v,1,j)&&va(c,u+b*v,1)}function es(c,u,v,b){var j;for(j=3;0<j;--j)qu(c,u+=4*v,v,b)}function Gh(c,u,v,b){var j;for(j=3;0<j;--j)Ti(c,u+=4,v,b)}function Ns(c,u,v,b,j,P,C,F){for(P=2*P+1;0<j--;){if(zu(c,u,v,P,C))if(Uu(c,u,v,F))va(c,u,v);else{var D=c,U=u,te=v,ve=D[U-2*te],ye=D[U-te],oe=D[U+0],Pe=D[U+te],Se=D[U+2*te],re=27*(ke=Qh[1020+3*(oe-ye)+Qh[1020+ve-Pe]])+63>>7,se=18*ke+63>>7,ke=9*ke+63>>7;D[U-3*te]=Ln[255+D[U-3*te]+ke],D[U-2*te]=Ln[255+ve+se],D[U-te]=Ln[255+ye+re],D[U+0]=Ln[255+oe-re],D[U+te]=Ln[255+Pe-se],D[U+2*te]=Ln[255+Se-ke]}u+=b}}function ui(c,u,v,b,j,P,C,F){for(P=2*P+1;0<j--;){if(zu(c,u,v,P,C))if(Uu(c,u,v,F))va(c,u,v);else{var D=c,U=u,te=v,ve=D[U-te],ye=D[U+0],oe=D[U+te],Pe=Qu[112+((Se=3*(ye-ve))+4>>3)],Se=Qu[112+(Se+3>>3)],re=Pe+1>>1;D[U-2*te]=Ln[255+D[U-2*te]+re],D[U-te]=Ln[255+ve+Se],D[U+0]=Ln[255+ye-Pe],D[U+te]=Ln[255+oe-re]}u+=b}}function zl(c,u,v,b,j,P){Ns(c,u,v,1,16,b,j,P)}function No(c,u,v,b,j,P){Ns(c,u,1,v,16,b,j,P)}function Jh(c,u,v,b,j,P){var C;for(C=3;0<C;--C)ui(c,u+=4*v,v,1,16,b,j,P)}function ya(c,u,v,b,j,P){var C;for(C=3;0<C;--C)ui(c,u+=4,1,v,16,b,j,P)}function Kh(c,u,v,b,j,P,C,F){Ns(c,u,j,1,8,P,C,F),Ns(v,b,j,1,8,P,C,F)}function ql(c,u,v,b,j,P,C,F){Ns(c,u,1,j,8,P,C,F),Ns(v,b,1,j,8,P,C,F)}function Vl(c,u,v,b,j,P,C,F){ui(c,u+4*j,j,1,8,P,C,F),ui(v,b+4*j,j,1,8,P,C,F)}function Vu(c,u,v,b,j,P,C,F){ui(c,u+4,1,j,8,P,C,F),ui(v,b+4,1,j,8,P,C,F)}function wa(){this.ba=new ii,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Wl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Hl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Wu(){this.ua=0,this.Wa=new V,this.vb=new V,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new q,this.yc=new I}function Xh(){this.xb=this.a=0,this.l=new fa,this.ca=new ii,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new A,this.Pb=0,this.wd=new A,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Wu,this.ab=0,this.gc=o(4,Hl),this.Oc=0}function xa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function jo(c,u,v,b,j,P,C){for(c=c==null?0:c[u+0],u=0;u<C;++u)j[P+u]=c+v[b+u]&255,c=j[P+u]}function Gl(c,u,v,b,j,P,C){var F;if(c==null)jo(null,null,v,b,j,P,C);else for(F=0;F<C;++F)j[P+F]=c[u+F]+v[b+F]&255}function js(c,u,v,b,j,P,C){if(c==null)jo(null,null,v,b,j,P,C);else{var F,D=c[u+0],U=D,te=D;for(F=0;F<C;++F)U=te+(D=c[u+F])-U,te=v[b+F]+(-256&U?0>U?0:255:U)&255,U=D,j[P+F]=te}}function Jl(c,u,v,b){var j=u.width,P=u.o;if(t(c!=null&&u!=null),0>v||0>=b||v+b>P)return null;if(!c.Cc){if(c.ga==null){var C;if(c.ga=new xa,(C=c.ga==null)||(C=u.width*u.o,t(c.Gb.length==0),c.Gb=s(C),c.Uc=0,c.Gb==null?C=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,C=1),C=!C),!C){C=c.ga;var F=c.Fa,D=c.P,U=c.qc,te=c.mb,ve=c.nb,ye=D+1,oe=U-1,Pe=C.l;if(t(F!=null&&te!=null&&u!=null),Es[0]=null,Es[1]=jo,Es[2]=Gl,Es[3]=js,C.ca=te,C.tb=ve,C.c=u.width,C.i=u.height,t(0<C.c&&0<C.i),1>=U)u=0;else if(C.$a=F[D+0]>>0&3,C.Z=F[D+0]>>2&3,C.Lc=F[D+0]>>4&3,D=F[D+0]>>6&3,0>C.$a||1<C.$a||4<=C.Z||1<C.Lc||D)u=0;else if(Pe.put=Li,Pe.ac=Ir,Pe.bc=Pi,Pe.ma=C,Pe.width=u.width,Pe.height=u.height,Pe.Da=u.Da,Pe.v=u.v,Pe.va=u.va,Pe.j=u.j,Pe.o=u.o,C.$a)e:{t(C.$a==1),u=zn();t:for(;;){if(u==null){u=0;break e}if(t(C!=null),C.mc=u,u.c=C.c,u.i=C.i,u.l=C.l,u.l.ma=C,u.l.width=C.c,u.l.height=C.i,u.a=0,J(u.m,F,ye,oe),!Ii(C.c,C.i,1,u,null)||(u.ab==1&&u.gc[0].hc==3&&Qi(u.s)?(C.ic=1,F=u.c*u.i,u.Ta=null,u.Ua=0,u.V=s(F),u.Ba=0,u.V==null?(u.a=1,u=0):u=1):(C.ic=0,u=bo(u,C.c)),!u))break t;u=1;break e}C.mc=null,u=0}else u=oe>=C.c*C.i;C=!u}if(C)return null;c.ga.Lc!=1?c.Ga=0:b=P-v}t(c.ga!=null),t(v+b<=P);e:{if(u=(F=c.ga).c,P=F.l.o,F.$a==0){if(ye=c.rc,oe=c.Vc,Pe=c.Fa,D=c.P+1+v*u,U=c.mb,te=c.nb+v*u,t(D<=c.P+c.qc),F.Z!=0)for(t(Es[F.Z]!=null),C=0;C<b;++C)Es[F.Z](ye,oe,Pe,D,U,te,u),ye=U,oe=te,te+=u,D+=u;else for(C=0;C<b;++C)n(U,te,Pe,D,u),ye=U,oe=te,te+=u,D+=u;c.rc=ye,c.Vc=oe}else{if(t(F.mc!=null),u=v+b,t((C=F.mc)!=null),t(u<=C.i),C.C>=u)u=1;else if(F.ic||de(),F.ic){F=C.V,ye=C.Ba,oe=C.c;var Se=C.i,re=(Pe=1,D=C.$/oe,U=C.$%oe,te=C.m,ve=C.s,C.$),se=oe*Se,ke=oe*u,Ee=ve.wc,Le=re<ke?fr(ve,U,D):null;t(re<=se),t(u<=Se),t(Qi(ve));t:for(;;){for(;!te.h&&re<ke;){if(U&Ee||(Le=fr(ve,U,D)),t(Le!=null),Z(te),256>(Se=dn(Le.G[0],Le.H[0],te)))F[ye+re]=Se,++re,++U>=oe&&(U=0,++D<=u&&!(D%16)&&ai(C,D));else{if(!(280>Se)){Pe=0;break t}Se=si(Se-256,te);var ze,Me=dn(Le.G[4],Le.H[4],te);if(Z(te),!(re>=(Me=Ci(oe,Me=si(Me,te)))&&se-re>=Se)){Pe=0;break t}for(ze=0;ze<Se;++ze)F[ye+re+ze]=F[ye+re+ze-Me];for(re+=Se,U+=Se;U>=oe;)U-=oe,++D<=u&&!(D%16)&&ai(C,D);re<ke&&U&Ee&&(Le=fr(ve,U,D))}t(te.h==$(te))}ai(C,D>u?u:D);break t}!Pe||te.h&&re<se?(Pe=0,C.a=te.h?5:3):C.$=re,u=Pe}else u=li(C,C.V,C.Ba,C.c,C.i,u,aa);if(!u){b=0;break e}}v+b>=P&&(c.Cc=1),b=1}if(!b)return null;if(c.Cc&&((b=c.ga)!=null&&(b.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+v*j}function g(c,u,v,b,j,P){for(;0<j--;){var C,F=c,D=u+(v?1:0),U=c,te=u+(v?0:3);for(C=0;C<b;++C){var ve=U[te+4*C];ve!=255&&(ve*=32897,F[D+4*C+0]=F[D+4*C+0]*ve>>23,F[D+4*C+1]=F[D+4*C+1]*ve>>23,F[D+4*C+2]=F[D+4*C+2]*ve>>23)}u+=P}}function k(c,u,v,b,j){for(;0<b--;){var P;for(P=0;P<v;++P){var C=c[u+2*P+0],F=15&(U=c[u+2*P+1]),D=4369*F,U=(240&U|U>>4)*D>>16;c[u+2*P+0]=(240&C|C>>4)*D>>16&240|(15&C|C<<4)*D>>16>>4&15,c[u+2*P+1]=240&U|F}u+=j}}function z(c,u,v,b,j,P,C,F){var D,U,te=255;for(U=0;U<j;++U){for(D=0;D<b;++D){var ve=c[u+D];P[C+4*D]=ve,te&=ve}u+=v,C+=F}return te!=255}function ee(c,u,v,b,j){var P;for(P=0;P<j;++P)v[b+P]=c[u+P]>>8}function de(){Hn=g,Ot=k,Dt=z,or=ee}function Ne(c,u,v){E[c]=function(b,j,P,C,F,D,U,te,ve,ye,oe,Pe,Se,re,se,ke,Ee){var Le,ze=Ee-1>>1,Me=F[D+0]|U[te+0]<<16,Qe=ve[ye+0]|oe[Pe+0]<<16;t(b!=null);var Ue=3*Me+Qe+131074>>2;for(u(b[j+0],255&Ue,Ue>>16,Se,re),P!=null&&(Ue=3*Qe+Me+131074>>2,u(P[C+0],255&Ue,Ue>>16,se,ke)),Le=1;Le<=ze;++Le){var _t=F[D+Le]|U[te+Le]<<16,kt=ve[ye+Le]|oe[Pe+Le]<<16,xt=Me+_t+Qe+kt+524296,gt=xt+2*(_t+Qe)>>3;Ue=gt+Me>>1,Me=(xt=xt+2*(Me+kt)>>3)+_t>>1,u(b[j+2*Le-1],255&Ue,Ue>>16,Se,re+(2*Le-1)*v),u(b[j+2*Le-0],255&Me,Me>>16,Se,re+(2*Le-0)*v),P!=null&&(Ue=xt+Qe>>1,Me=gt+kt>>1,u(P[C+2*Le-1],255&Ue,Ue>>16,se,ke+(2*Le-1)*v),u(P[C+2*Le+0],255&Me,Me>>16,se,ke+(2*Le+0)*v)),Me=_t,Qe=kt}1&Ee||(Ue=3*Me+Qe+131074>>2,u(b[j+Ee-1],255&Ue,Ue>>16,Se,re+(Ee-1)*v),P!=null&&(Ue=3*Qe+Me+131074>>2,u(P[C+Ee-1],255&Ue,Ue>>16,se,ke+(Ee-1)*v)))}}function Fe(){Jn[Zu]=$x,Jn[ed]=og,Jn[tg]=zx,Jn[td]=ag,Jn[rd]=lg,Jn[Zh]=cg,Jn[rg]=qx,Jn[ep]=og,Jn[tp]=ag,Jn[nd]=lg,Jn[rp]=cg}function $e(c){return c&~Vx?0>c?0:255:c>>ug}function Xe(c,u){return $e((19077*c>>8)+(26149*u>>8)-14234)}function ct(c,u,v){return $e((19077*c>>8)-(6419*u>>8)-(13320*v>>8)+8708)}function ot(c,u){return $e((19077*c>>8)+(33050*u>>8)-17685)}function wt(c,u,v,b,j){b[j+0]=Xe(c,v),b[j+1]=ct(c,u,v),b[j+2]=ot(c,u)}function Ht(c,u,v,b,j){b[j+0]=ot(c,u),b[j+1]=ct(c,u,v),b[j+2]=Xe(c,v)}function Zt(c,u,v,b,j){var P=ct(c,u,v);u=P<<3&224|ot(c,u)>>3,b[j+0]=248&Xe(c,v)|P>>5,b[j+1]=u}function hr(c,u,v,b,j){var P=240&ot(c,u)|15;b[j+0]=240&Xe(c,v)|ct(c,u,v)>>4,b[j+1]=P}function zr(c,u,v,b,j){b[j+0]=255,wt(c,u,v,b,j+1)}function Nr(c,u,v,b,j){Ht(c,u,v,b,j),b[j+3]=255}function di(c,u,v,b,j){wt(c,u,v,b,j),b[j+3]=255}function An(c,u){return 0>c?0:c>u?u:c}function Oi(c,u,v){E[c]=function(b,j,P,C,F,D,U,te,ve){for(var ye=te+(-2&ve)*v;te!=ye;)u(b[j+0],P[C+0],F[D+0],U,te),u(b[j+1],P[C+0],F[D+0],U,te+v),j+=2,++C,++D,te+=2*v;1&ve&&u(b[j+0],P[C+0],F[D+0],U,te)}}function Hu(c,u,v){return v==0?c==0?u==0?6:5:u==0?4:0:v}function Kl(c,u,v,b,j){switch(c>>>30){case 3:ns(u,v,b,j,0);break;case 2:sr(u,v,b,j);break;case 1:tn(u,v,b,j)}}function Xl(c,u){var v,b,j=u.M,P=u.Nb,C=c.oc,F=c.pc+40,D=c.oc,U=c.pc+584,te=c.oc,ve=c.pc+600;for(v=0;16>v;++v)C[F+32*v-1]=129;for(v=0;8>v;++v)D[U+32*v-1]=129,te[ve+32*v-1]=129;for(0<j?C[F-1-32]=D[U-1-32]=te[ve-1-32]=129:(i(C,F-32-1,127,21),i(D,U-32-1,127,9),i(te,ve-32-1,127,9)),b=0;b<c.za;++b){var ye=u.ya[u.aa+b];if(0<b){for(v=-1;16>v;++v)n(C,F+32*v-4,C,F+32*v+12,4);for(v=-1;8>v;++v)n(D,U+32*v-4,D,U+32*v+4,4),n(te,ve+32*v-4,te,ve+32*v+4,4)}var oe=c.Gd,Pe=c.Hd+b,Se=ye.ad,re=ye.Hc;if(0<j&&(n(C,F-32,oe[Pe].y,0,16),n(D,U-32,oe[Pe].f,0,8),n(te,ve-32,oe[Pe].ea,0,8)),ye.Za){var se=C,ke=F-32+16;for(0<j&&(b>=c.za-1?i(se,ke,oe[Pe].y[15],4):n(se,ke,oe[Pe+1].y,0,4)),v=0;4>v;v++)se[ke+128+v]=se[ke+256+v]=se[ke+384+v]=se[ke+0+v];for(v=0;16>v;++v,re<<=2)se=C,ke=F+fg[v],fi[ye.Ob[v]](se,ke),Kl(re,Se,16*+v,se,ke)}else if(se=Hu(b,j,ye.Ob[0]),Cs[se](C,F),re!=0)for(v=0;16>v;++v,re<<=2)Kl(re,Se,16*+v,C,F+fg[v]);for(v=ye.Gc,se=Hu(b,j,ye.Dd),ss[se](D,U),ss[se](te,ve),re=Se,se=D,ke=U,255&(ye=v>>0)&&(170&ye?tc(re,256,se,ke):Vn(re,256,se,ke)),ye=te,re=ve,255&(v>>=8)&&(170&v?tc(Se,320,ye,re):Vn(Se,320,ye,re)),j<c.Ub-1&&(n(oe[Pe].y,0,C,F+480,16),n(oe[Pe].f,0,D,U+224,8),n(oe[Pe].ea,0,te,ve+224,8)),v=8*P*c.B,oe=c.sa,Pe=c.ta+16*b+16*P*c.R,Se=c.qa,ye=c.ra+8*b+v,re=c.Ha,se=c.Ia+8*b+v,v=0;16>v;++v)n(oe,Pe+v*c.R,C,F+32*v,16);for(v=0;8>v;++v)n(Se,ye+v*c.B,D,U+32*v,8),n(re,se+v*c.B,te,ve+32*v,8)}}function ba(c,u,v,b,j,P,C,F,D){var U=[0],te=[0],ve=0,ye=D!=null?D.kd:0,oe=D??new Wl;if(c==null||12>v)return 7;oe.data=c,oe.w=u,oe.ha=v,u=[u],v=[v],oe.gb=[oe.gb];e:{var Pe=u,Se=v,re=oe.gb;if(t(c!=null),t(Se!=null),t(re!=null),re[0]=0,12<=Se[0]&&!r(c,Pe[0],"RIFF")){if(r(c,Pe[0]+8,"WEBP")){re=3;break e}var se=Te(c,Pe[0]+4);if(12>se||4294967286<se){re=3;break e}if(ye&&se>Se[0]-8){re=7;break e}re[0]=se,Pe[0]+=12,Se[0]-=12}re=0}if(re!=0)return re;for(se=0<oe.gb[0],v=v[0];;){e:{var ke=c;Se=u,re=v;var Ee=U,Le=te,ze=Pe=[0];if((Ue=ve=[ve])[0]=0,8>re[0])re=7;else{if(!r(ke,Se[0],"VP8X")){if(Te(ke,Se[0]+4)!=10){re=3;break e}if(18>re[0]){re=7;break e}var Me=Te(ke,Se[0]+8),Qe=1+je(ke,Se[0]+12);if(2147483648<=Qe*(ke=1+je(ke,Se[0]+15))){re=3;break e}ze!=null&&(ze[0]=Me),Ee!=null&&(Ee[0]=Qe),Le!=null&&(Le[0]=ke),Se[0]+=18,re[0]-=18,Ue[0]=1}re=0}}if(ve=ve[0],Pe=Pe[0],re!=0)return re;if(Se=!!(2&Pe),!se&&ve)return 3;if(P!=null&&(P[0]=!!(16&Pe)),C!=null&&(C[0]=Se),F!=null&&(F[0]=0),C=U[0],Pe=te[0],ve&&Se&&D==null){re=0;break}if(4>v){re=7;break}if(se&&ve||!se&&!ve&&!r(c,u[0],"ALPH")){v=[v],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{Me=c,re=u,se=v;var Ue=oe.gb;Ee=oe.na,Le=oe.P,ze=oe.Sa,Qe=22,t(Me!=null),t(se!=null),ke=re[0];var _t=se[0];for(t(Ee!=null),t(ze!=null),Ee[0]=null,Le[0]=null,ze[0]=0;;){if(re[0]=ke,se[0]=_t,8>_t){re=7;break e}var kt=Te(Me,ke+4);if(4294967286<kt){re=3;break e}var xt=8+kt+1&-2;if(Qe+=xt,0<Ue&&Qe>Ue){re=3;break e}if(!r(Me,ke,"VP8 ")||!r(Me,ke,"VP8L")){re=0;break e}if(_t[0]<xt){re=7;break e}r(Me,ke,"ALPH")||(Ee[0]=Me,Le[0]=ke+8,ze[0]=kt),ke+=xt,_t-=xt}}if(v=v[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],re!=0)break}v=[v],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(Ue=c,re=u,se=v,Ee=oe.gb[0],Le=oe.Ja,ze=oe.xa,Me=re[0],ke=!r(Ue,Me,"VP8 "),Qe=!r(Ue,Me,"VP8L"),t(Ue!=null),t(se!=null),t(Le!=null),t(ze!=null),8>se[0])re=7;else{if(ke||Qe){if(Ue=Te(Ue,Me+4),12<=Ee&&Ue>Ee-12){re=3;break e}if(ye&&Ue>se[0]-8){re=7;break e}Le[0]=Ue,re[0]+=8,se[0]-=8,ze[0]=Qe}else ze[0]=5<=se[0]&&Ue[Me+0]==47&&!(Ue[Me+4]>>5),Le[0]=se[0];re=0}if(v=v[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],u=u[0],re!=0)break;if(4294967286<oe.Ja)return 3;if(F==null||Se||(F[0]=oe.xa?2:1),C=[C],Pe=[Pe],oe.xa){if(5>v){re=7;break}F=C,ye=Pe,Se=P,c==null||5>v?c=0:5<=v&&c[u+0]==47&&!(c[u+4]>>5)?(se=[0],Ue=[0],Ee=[0],J(Le=new A,c,u,v),Ze(Le,se,Ue,Ee)?(F!=null&&(F[0]=se[0]),ye!=null&&(ye[0]=Ue[0]),Se!=null&&(Se[0]=Ee[0]),c=1):c=0):c=0}else{if(10>v){re=7;break}F=Pe,c==null||10>v||!Cu(c,u+3,v-3)?c=0:(ye=c[u+0]|c[u+1]<<8|c[u+2]<<16,Se=16383&(c[u+7]<<8|c[u+6]),c=16383&(c[u+9]<<8|c[u+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=oe.Ja||!Se||!c?c=0:(C&&(C[0]=Se),F&&(F[0]=c),c=1))}if(!c||(C=C[0],Pe=Pe[0],ve&&(U[0]!=C||te[0]!=Pe)))return 3;D!=null&&(D[0]=oe,D.offset=u-D.w,t(4294967286>u-D.w),t(D.offset==D.ha-v));break}return re==0||re==7&&ve&&D==null?(P!=null&&(P[0]|=oe.na!=null&&0<oe.na.length),b!=null&&(b[0]=C),j!=null&&(j[0]=Pe),0):re}function Yl(c,u,v){var b=u.width,j=u.height,P=0,C=0,F=b,D=j;if(u.Da=c!=null&&0<c.Da,u.Da&&(F=c.cd,D=c.bd,P=c.v,C=c.j,11>v||(P&=-2,C&=-2),0>P||0>C||0>=F||0>=D||P+F>b||C+D>j))return 0;if(u.v=P,u.j=C,u.va=P+F,u.o=C+D,u.U=F,u.T=D,u.da=c!=null&&0<c.da,u.da){if(!He(F,D,v=[c.ib],P=[c.hb]))return 0;u.ib=v[0],u.hb=P[0]}return u.ob=c!=null&&c.ob,u.Kb=c==null||!c.Sd,u.da&&(u.ob=u.ib<3*b/4&&u.hb<3*j/4,u.Kb=0),1}function Ql(c){if(c==null)return 2;if(11>c.S){var u=c.f.RGBA;u.fb+=(c.height-1)*u.A,u.A=-u.A}else u=c.f.kb,c=c.height,u.O+=(c-1)*u.fa,u.fa=-u.fa,u.N+=(c-1>>1)*u.Ab,u.Ab=-u.Ab,u.W+=(c-1>>1)*u.Db,u.Db=-u.Db,u.F!=null&&(u.J+=(c-1)*u.lb,u.lb=-u.lb);return 0}function _a(c,u,v,b){if(b==null||0>=c||0>=u)return 2;if(v!=null){if(v.Da){var j=v.cd,P=v.bd,C=-2&v.v,F=-2&v.j;if(0>C||0>F||0>=j||0>=P||C+j>c||F+P>u)return 2;c=j,u=P}if(v.da){if(!He(c,u,j=[v.ib],P=[v.hb]))return 2;c=j[0],u=P[0]}}b.width=c,b.height=u;e:{var D=b.width,U=b.height;if(c=b.S,0>=D||0>=U||!(c>=Zu&&13>c))c=2;else{if(0>=b.Rd&&b.sd==null){C=P=j=u=0;var te=(F=D*hg[c])*U;if(11>c||(P=(U+1)/2*(u=(D+1)/2),c==12&&(C=(j=D)*U)),(U=s(te+2*P+C))==null){c=1;break e}b.sd=U,11>c?((D=b.f.RGBA).eb=U,D.fb=0,D.A=F,D.size=te):((D=b.f.kb).y=U,D.O=0,D.fa=F,D.Fd=te,D.f=U,D.N=0+te,D.Ab=u,D.Cd=P,D.ea=U,D.W=0+te+P,D.Db=u,D.Ed=P,c==12&&(D.F=U,D.J=0+te+2*P),D.Tc=C,D.lb=j)}if(u=1,j=b.S,P=b.width,C=b.height,j>=Zu&&13>j)if(11>j)c=b.f.RGBA,u&=(F=Math.abs(c.A))*(C-1)+P<=c.size,u&=F>=P*hg[j],u&=c.eb!=null;else{c=b.f.kb,F=(P+1)/2,te=(C+1)/2,D=Math.abs(c.fa),U=Math.abs(c.Ab);var ve=Math.abs(c.Db),ye=Math.abs(c.lb),oe=ye*(C-1)+P;u&=D*(C-1)+P<=c.Fd,u&=U*(te-1)+F<=c.Cd,u=(u&=ve*(te-1)+F<=c.Ed)&D>=P&U>=F&ve>=F,u&=c.y!=null,u&=c.f!=null,u&=c.ea!=null,j==12&&(u&=ye>=P,u&=oe<=c.Tc,u&=c.F!=null)}else u=0;c=u?0:2}}return c!=0||v!=null&&v.fd&&(c=Ql(b)),c}var Fr=64,Sa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Na=24,ja=32,Zl=8,hn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Q("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(c){return c},E.Predictor2=function(c,u,v){return u[v+0]},E.Predictor3=function(c,u,v){return u[v+1]},E.Predictor4=function(c,u,v){return u[v-1]},E.Predictor5=function(c,u,v){return pe(pe(c,u[v+1]),u[v+0])},E.Predictor6=function(c,u,v){return pe(c,u[v-1])},E.Predictor7=function(c,u,v){return pe(c,u[v+0])},E.Predictor8=function(c,u,v){return pe(u[v-1],u[v+0])},E.Predictor9=function(c,u,v){return pe(u[v+0],u[v+1])},E.Predictor10=function(c,u,v){return pe(pe(c,u[v-1]),pe(u[v+0],u[v+1]))},E.Predictor11=function(c,u,v){var b=u[v+0];return 0>=De(b>>24&255,c>>24&255,(u=u[v-1])>>24&255)+De(b>>16&255,c>>16&255,u>>16&255)+De(b>>8&255,c>>8&255,u>>8&255)+De(255&b,255&c,255&u)?b:c},E.Predictor12=function(c,u,v){var b=u[v+0];return(xe((c>>24&255)+(b>>24&255)-((u=u[v-1])>>24&255))<<24|xe((c>>16&255)+(b>>16&255)-(u>>16&255))<<16|xe((c>>8&255)+(b>>8&255)-(u>>8&255))<<8|xe((255&c)+(255&b)-(255&u)))>>>0},E.Predictor13=function(c,u,v){var b=u[v-1];return(Ie((c=pe(c,u[v+0]))>>24&255,b>>24&255)<<24|Ie(c>>16&255,b>>16&255)<<16|Ie(c>>8&255,b>>8&255)<<8|Ie(c>>0&255,b>>0&255))>>>0};var Yh=E.PredictorAdd0;E.PredictorAdd1=Je,Q("Predictor2","PredictorAdd2"),Q("Predictor3","PredictorAdd3"),Q("Predictor4","PredictorAdd4"),Q("Predictor5","PredictorAdd5"),Q("Predictor6","PredictorAdd6"),Q("Predictor7","PredictorAdd7"),Q("Predictor8","PredictorAdd8"),Q("Predictor9","PredictorAdd9"),Q("Predictor10","PredictorAdd10"),Q("Predictor11","PredictorAdd11"),Q("Predictor12","PredictorAdd12"),Q("Predictor13","PredictorAdd13");var ec=E.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Gu,qn=E.ColorIndexInverseTransform,ka=E.MapARGB,Ju=E.VP8LColorIndexInverseTransformAlpha,Ku=E.MapAlpha,ks=E.VP8LPredictorsAdd=[];ks.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var ko,pn,en,As,ts,rs,Aa,ns,sr,tc,tn,Vn,La,Xu,rc,Ao,Lo,Ls,Po,Pa,Co,Ps,nc,Wn,Hn,Ot,Dt,or,wr=s(511),is=s(2041),ic=s(225),Ca=s(767),Yu=0,Qh=is,Qu=ic,Ln=Ca,Gn=wr,Zu=0,ed=1,tg=2,td=3,rd=4,Zh=5,rg=6,ep=7,tp=8,nd=9,rp=10,Ax=[2,3,7],Lx=[3,3,11],ng=[280,256,256,256,40],Px=[0,1,1,1,0],Cx=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ex=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ix=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Fx=8,np=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ip=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],sc=null,Tx=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ox=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ig=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Dx=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Rx=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Mx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Bx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Cs=[],fi=[],ss=[],Ux=1,sg=2,Es=[],Jn=[];Ne("UpsampleRgbLinePair",wt,3),Ne("UpsampleBgrLinePair",Ht,3),Ne("UpsampleRgbaLinePair",di,4),Ne("UpsampleBgraLinePair",Nr,4),Ne("UpsampleArgbLinePair",zr,4),Ne("UpsampleRgba4444LinePair",hr,2),Ne("UpsampleRgb565LinePair",Zt,2);var $x=E.UpsampleRgbLinePair,zx=E.UpsampleBgrLinePair,og=E.UpsampleRgbaLinePair,ag=E.UpsampleBgraLinePair,lg=E.UpsampleArgbLinePair,cg=E.UpsampleRgba4444LinePair,qx=E.UpsampleRgb565LinePair,id=16,sd=1<<id-1,oc=-227,sp=482,ug=6,Vx=(256<<ug)-1,dg=0,Wx=s(256),Hx=s(256),Gx=s(256),Jx=s(256),Kx=s(sp-oc),Xx=s(sp-oc);Oi("YuvToRgbRow",wt,3),Oi("YuvToBgrRow",Ht,3),Oi("YuvToRgbaRow",di,4),Oi("YuvToBgraRow",Nr,4),Oi("YuvToArgbRow",zr,4),Oi("YuvToRgba4444Row",hr,2),Oi("YuvToRgb565Row",Zt,2);var fg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],od=[0,2,8],Yx=[8,7,6,4,4,2,2,2,1,1,1,1],Qx=1;this.WebPDecodeRGBA=function(c,u,v,b,j){var P=ed,C=new wa,F=new ii;C.ba=F,F.S=P,F.width=[F.width],F.height=[F.height];var D=F.width,U=F.height,te=new Yi;if(te==null||c==null)var ve=2;else t(te!=null),ve=ba(c,u,v,te.width,te.height,te.Pd,te.Qd,te.format,null);if(ve!=0?D=0:(D!=null&&(D[0]=te.width[0]),U!=null&&(U[0]=te.height[0]),D=1),D){F.width=F.width[0],F.height=F.height[0],b!=null&&(b[0]=F.width),j!=null&&(j[0]=F.height);e:{if(b=new fa,(j=new Wl).data=c,j.w=u,j.ha=v,j.kd=1,u=[0],t(j!=null),((c=ba(j.data,j.w,j.ha,null,null,null,u,null,j))==0||c==7)&&u[0]&&(c=4),(u=c)==0){if(t(C!=null),b.data=j.data,b.w=j.w+j.offset,b.ha=j.ha-j.offset,b.put=Li,b.ac=Ir,b.bc=Pi,b.ma=C,j.xa){if((c=zn())==null){C=1;break e}if(function(ye,oe){var Pe=[0],Se=[0],re=[0];t:for(;;){if(ye==null)return 0;if(oe==null)return ye.a=2,0;if(ye.l=oe,ye.a=0,J(ye.m,oe.data,oe.w,oe.ha),!Ze(ye.m,Pe,Se,re)){ye.a=3;break t}if(ye.xb=sg,oe.width=Pe[0],oe.height=Se[0],!Ii(Pe[0],Se[0],1,ye,null))break t;return 1}return t(ye.a!=0),0}(c,b)){if(b=(u=_a(b.width,b.height,C.Oa,C.ba))==0){t:{b=c;r:for(;;){if(b==null){b=0;break t}if(t(b.s.yc!=null),t(b.s.Ya!=null),t(0<b.s.Wb),t((v=b.l)!=null),t((j=v.ma)!=null),b.xb!=0){if(b.ca=j.ba,b.tb=j.tb,t(b.ca!=null),!Yl(j.Oa,v,td)){b.a=2;break r}if(!bo(b,v.width)||v.da)break r;if((v.da||Nt(b.ca.S))&&de(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&de()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!Re(b.s.vb,b.s.Wa.Xa)){b.a=1;break r}b.xb=0}if(!li(b,b.V,b.Ba,b.c,b.i,v.o,oa))break r;j.Dc=b.Ma,b=1;break t}t(b.a!=0),b=0}b=!b}b&&(u=c.a)}else u=c.a}else{if((c=new Ih)==null){C=1;break e}if(c.Fa=j.na,c.P=j.P,c.qc=j.Sa,Eu(c,b)){if((u=_a(b.width,b.height,C.Oa,C.ba))==0){if(c.Aa=0,v=C.Oa,t((j=c)!=null),v!=null){if(0<(D=0>(D=v.Md)?0:100<D?255:255*D/100)){for(U=te=0;4>U;++U)12>(ve=j.pb[U]).lc&&(ve.ia=D*Yx[0>ve.lc?0:ve.lc]>>3),te|=ve.ia;te&&(alert("todo:VP8InitRandom"),j.ia=1)}j.Ga=v.Id,100<j.Ga?j.Ga=100:0>j.Ga&&(j.Ga=0)}Fh(c,b)||(u=c.a)}}else u=c.a}u==0&&C.Oa!=null&&C.Oa.fd&&(u=Ql(C.ba))}C=u}P=C!=0?null:11>P?F.f.RGBA.eb:F.f.kb.y}else P=null;return P};var hg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(E,Y){for(var ne="",T=0;T<4;T++)ne+=String.fromCharCode(E[Y++]);return ne}function h(E,Y){return(E[Y+0]<<0|E[Y+1]<<8|E[Y+2]<<16)>>>0}function m(E,Y){return(E[Y+0]<<0|E[Y+1]<<8|E[Y+2]<<16|E[Y+3]<<24)>>>0}new l;var y=[0],p=[0],S=[],_=new l,L=e,x=function(E,Y){var ne={},T=0,I=!1,G=0,q=0;if(ne.frames=[],!function(M,$,K,Z){for(var ce=0;ce<Z;ce++)if(M[$+ce]!=K.charCodeAt(ce))return!0;return!1}(E,Y,"RIFF",4)){var fe,ue;for(m(E,Y+=4),Y+=8;Y<E.length;){var he=d(E,Y),J=m(E,Y+=4);Y+=4;var ie=J+(1&J);switch(he){case"VP8 ":case"VP8L":ne.frames[T]===void 0&&(ne.frames[T]={}),(A=ne.frames[T]).src_off=I?q:Y-8,A.src_size=G+J+8,T++,I&&(I=!1,G=0,q=0);break;case"VP8X":(A=ne.header={}).feature_flags=E[Y];var ae=Y+4;A.canvas_width=1+h(E,ae),ae+=3,A.canvas_height=1+h(E,ae),ae+=3;break;case"ALPH":I=!0,G=ie+8,q=Y-8;break;case"ANIM":(A=ne.header).bgcolor=m(E,Y),ae=Y+4,A.loop_count=(fe=E)[(ue=ae)+0]<<0|fe[ue+1]<<8,ae+=2;break;case"ANMF":var Ae,A;(A=ne.frames[T]={}).offset_x=2*h(E,Y),Y+=3,A.offset_y=2*h(E,Y),Y+=3,A.width=1+h(E,Y),Y+=3,A.height=1+h(E,Y),Y+=3,A.duration=h(E,Y),Y+=3,Ae=E[Y++],A.dispose=1&Ae,A.blend=Ae>>1&1}he!="ANMF"&&(Y+=ie)}return ne}}(L,0);x.response=L,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,N=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,y=[w.canvas_height],p=[w.canvas_width];for(var R=0;R<N.length&&N[R].blend!=0;R++);}var W=N[0],X=_.WebPDecodeRGBA(L,W.src_off,W.src_size,p,y);W.rgba=X,W.imgwidth=p[0],W.imgheight=y[0];for(var O=0;O<p[0]*y[0]*4;O++)S[O]=X[O];return this.width=p,this.height=y,this.data=S,this}(function(e){var t=function(){return typeof F1=="function"},r=function(y,p,S,_){var L=4,x=o;switch(_){case e.image_compression.FAST:L=1,x=s;break;case e.image_compression.MEDIUM:L=6,x=a;break;case e.image_compression.SLOW:L=9,x=l}y=n(y,p,S,x);var w=F1(y,{level:L});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(y,p,S,_){for(var L,x,w,N=y.length/p,R=new Uint8Array(y.length+N),W=h(),X=0;X<N;X+=1){if(w=X*p,L=y.subarray(w,w+p),_)R.set(_(L,S,x),w+X);else{for(var O,E=W.length,Y=[];O<E;O+=1)Y[O]=W[O](L,S,x);var ne=m(Y.concat());R.set(Y[ne],w+X)}x=L}return R},i=function(y){var p=Array.apply([],y);return p.unshift(0),p},s=function(y,p){var S,_=[],L=y.length;_[0]=1;for(var x=0;x<L;x+=1)S=y[x-p]||0,_[x+1]=y[x]-S+256&255;return _},o=function(y,p,S){var _,L=[],x=y.length;L[0]=2;for(var w=0;w<x;w+=1)_=S&&S[w]||0,L[w+1]=y[w]-_+256&255;return L},a=function(y,p,S){var _,L,x=[],w=y.length;x[0]=3;for(var N=0;N<w;N+=1)_=y[N-p]||0,L=S&&S[N]||0,x[N+1]=y[N]+256-(_+L>>>1)&255;return x},l=function(y,p,S){var _,L,x,w,N=[],R=y.length;N[0]=4;for(var W=0;W<R;W+=1)_=y[W-p]||0,L=S&&S[W]||0,x=S&&S[W-p]||0,w=d(_,L,x),N[W+1]=y[W]-w+256&255;return N},d=function(y,p,S){if(y===p&&p===S)return y;var _=Math.abs(p-S),L=Math.abs(y-S),x=Math.abs(y+p-S-S);return _<=L&&_<=x?y:L<=x?p:S},h=function(){return[i,s,o,a,l]},m=function(y){var p=y.map(function(S){return S.reduce(function(_,L){return _+Math.abs(L)},0)});return p.indexOf(Math.min.apply(null,p))};e.processPNG=function(y,p,S,_){var L,x,w,N,R,W,X,O,E,Y,ne,T,I,G,q,fe=this.decode.FLATE_DECODE,ue="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(w=new ak(y)).imgData,x=w.bits,L=w.colorSpace,R=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){E=(O=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,ne=new Uint8Array(E*w.colors),Y=new Uint8Array(E);var he,J=w.pixelBitlength-w.bits;for(G=0,q=0;G<E;G++){for(I=O[G],he=0;he<J;)ne[q++]=I>>>he&255,he+=w.bits;Y[G]=I>>>he&255}}if(w.bits===16){E=(O=new Uint32Array(w.decodePixels().buffer)).length,ne=new Uint8Array(E*(32/w.pixelBitlength)*w.colors),Y=new Uint8Array(E*(32/w.pixelBitlength)),T=w.colors>1,G=0,q=0;for(var ie=0;G<E;)I=O[G++],ne[q++]=I>>>0&255,T&&(ne[q++]=I>>>16&255,I=O[G++],ne[q++]=I>>>0&255),Y[ie++]=I>>>16&255;x=8}_!==e.image_compression.NONE&&t()?(y=r(ne,w.width*w.colors,w.colors,_),X=r(Y,w.width,1,_)):(y=ne,X=Y,fe=void 0)}if(w.colorType===3&&(L=this.color_spaces.INDEXED,W=w.palette,w.transparency.indexed)){var ae=w.transparency.indexed,Ae=0;for(G=0,E=ae.length;G<E;++G)Ae+=ae[G];if((Ae/=255)===E-1&&ae.indexOf(0)!==-1)N=[ae.indexOf(0)];else if(Ae!==E){for(O=w.decodePixels(),Y=new Uint8Array(O.length),G=0,E=O.length;G<E;G++)Y[G]=ae[O[G]];X=r(Y,w.width,1)}}var A=function(M){var $;switch(M){case e.image_compression.FAST:$=11;break;case e.image_compression.MEDIUM:$=13;break;case e.image_compression.SLOW:$=14;break;default:$=12}return $}(_);return fe===this.decode.FLATE_DECODE&&(ue="/Predictor "+A+" "),ue+="/Colors "+R+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(X&&this.__addimage__.isArrayBuffer(X)||this.__addimage__.isArrayBufferView(X))&&(X=this.__addimage__.arrayBufferToBinaryString(X)),{alias:S,data:y,index:p,filter:fe,decodeParameters:ue,transparency:N,palette:W,sMask:X,predictor:A,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:L}}}})(tt.API),function(e){e.processGIF89A=function(t,r,n,i){var s=new lk(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var d={data:l,width:o,height:a},h=new p0(100).encode(d,100);return e.processJPEG.call(this,h,r,n,i)},e.processGIF87A=e.processGIF89A}(tt.API),gi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},gi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Tt.log("bit decode error:"+r)}},gi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}r!==0&&(this.pos+=4-r)}},gi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,a=s>>4,l=15&s,d=this.palette[a];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*i+1>=this.width)break;d=this.palette[l],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},gi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},gi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,d=s>>15?255:0,h=n*this.width*4+4*i;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=d}this.pos+=e}},gi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,d=(o>>11)/t*255|0,h=i*this.width*4+4*s;this.data[h]=d,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=e}},gi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},gi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=o}},gi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var s=new gi(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},d=new p0(100).encode(l,100);return e.processJPEG.call(this,d,r,n,i)}}(tt.API),M5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var s=new M5(t),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},d=new p0(100).encode(l,100);return e.processJPEG.call(this,d,r,n,i)}}(tt.API),tt.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,d=0;d<i;d+=4){var h=n[d],m=n[d+1],y=n[d+2],p=n[d+3];s[a++]=h,s[a++]=m,s[a++]=y,o[l++]=p}var S=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:S,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},tt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},$a=tt.API,Vd=$a.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,d=t.kerning?t.kerning:i.metadata.Unicode.kerning,h=d.fof?d.fof:1,m=t.doKerning!==!1,y=0,p=e.length,S=0,_=a[0]||l,L=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?L.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(y=m&&Lt(d[n])==="object"&&!isNaN(parseInt(d[n][S],10))?d[n][S]/h:0,L.push((a[n]||_)/l+y)),S=n;return L},T5=$a.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return $a.processArabic&&(e=$a.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:Vd.apply(this,arguments).reduce(function(s,o){return s+o},0)},O5=function(e,t,r,n){for(var i=[],s=0,o=e.length,a=0;s!==o&&a+t[s]<r;)a+=t[s],s++;i.push(e.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>n&&(i.push(e.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},D5=function(e,t,r){r||(r={});var n,i,s,o,a,l,d,h=[],m=[h],y=r.textIndent||0,p=0,S=0,_=e.split(" "),L=Vd.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),w=[];_.map(function(R){(R=R.split(/\s*\n/)).length>1?w=w.concat(R.map(function(W,X){return(X&&W.length?`
`:"")+W})):w.push(R[0])}),_=w,l=T5.apply(this,[x,r])}for(s=0,o=_.length;s<o;s++){var N=0;if(n=_[s],l&&n[0]==`
`&&(n=n.substr(1),N=1),y+p+(S=(i=Vd.apply(this,[n,r])).reduce(function(R,W){return R+W},0))>t||N){if(S>t){for(a=O5.apply(this,[n,i,t-(y+p),t]),h.push(a.shift()),h=[a.pop()];a.length;)m.push([a.shift()]);S=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(R,W){return R+W},0)}else h=[n];m.push(h),y=S+l,p=L}else h.push(n),y+=p+S,p=L}return d=l?function(R,W){return(W?x:"")+R.join(" ")}:function(R){return R.join(" ")},m.map(d)},$a.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var m=this.internal.getFont(h.fontName,h.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var a,l,d=[];for(a=0,l=n.length;a<l;a++)d=d.concat(D5.apply(this,[n[a],o,s]));return d},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},i=0;i<t.length;i++)r[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},o=e.__fontmetrics__.compress=function(m){var y,p,S,_,L=["{"];for(var x in m){if(y=m[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=s(x).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof y=="number")y<0?(S=s(y).slice(3),_="-"):(S=s(y).slice(2),_=""),S=_+S.slice(0,-1)+n[S.slice(-1)];else{if(Lt(y)!=="object")throw new Error("Don't know what to do with value type "+Lt(y)+".");S=o(y)}L.push(p+S)}return L.push("}"),L.join("")},a=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,p,S,_,L={},x=1,w=L,N=[],R="",W="",X=m.length-1,O=1;O<X;O+=1)(_=m[O])=="'"?y?(S=y.join(""),y=void 0):y=[]:y?y.push(_):_=="{"?(N.push([w,S]),w={},S=void 0):_=="}"?((p=N.pop())[0][p[1]]=w,S=void 0,w=p[0]):_=="-"?x=-1:S===void 0?r.hasOwnProperty(_)?(R+=r[_],S=parseInt(R,16)*x,x=1,R=""):R+=_:r.hasOwnProperty(_)?(W+=r[_],w[S]=parseInt(W,16)*x,x=1,S=void 0,W=""):W+=_;return L},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var y=m.font,p=h.Unicode[y.postScriptName];p&&(y.metadata.Unicode={},y.metadata.Unicode.widths=p.widths,y.metadata.Unicode.kerning=p.kerning);var S=d.Unicode[y.postScriptName];S&&(y.metadata.Unicode.encoding=S,y.encoding=S.codePages[0])}])}(tt.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(zc(a)),o.metadata=e.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(tt),function(e){function t(){return(rt.canvg?Promise.resolve(rt.canvg):xs(()=>import("./index.es-pfg3QH4c.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}tt.API.addSvgAsImage=function(r,n,i,s,o,a,l,d){if(isNaN(n)||isNaN(i))throw Tt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Tt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=o;var m=h.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,h.width,h.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(S){return S.fromString(m,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(y)}).then(function(){p.addImage(h.toDataURL("image/jpeg",1),n,i,s,o,l,d)})}}(),tt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},tt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],d=0,h=0,m=0;function y(S,_){var L,x=!1;for(L=0;L<S.length;L+=1)S[L]===_&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=a.length;for(m=0;m<p;m+=1)r[a[m]].value=r[a[m]].defaultValue,r[a[m]].explicitSet=!1}if(Lt(e)==="object"){for(i in e)if(s=e[i],y(a,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&y(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")l.push(String(s[d]-1));else if(s[d].length>1){for(h=0;h<s[d].length;h+=1)typeof s[d][h]!="number"&&(n=!1);n===!0&&l.push([s[d][0]-1,s[d][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,_=[];for(S in r)r[S].explicitSet===!0&&(r[S].type==="name"?_.push("/"+S+" /"+r[S].value):_.push("/"+S+" "+r[S].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(tt.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,d=["","0","00","000","0000"],h=[""],m=0,y=s.length;m<y;++m){if(a=o.metadata.characterToGlyph(s.charCodeAt(m)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(m),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(d[4-a.length],a)}return h.join("")},n=function(s){var o,a,l,d,h,m,y;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,y=(a=Object.keys(s).sort(function(p,S){return p-S})).length;m<y;m++)o=a[m],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(d=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+d+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,d=o.newObject,h=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var m=a.metadata.Unicode.widths,y=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",S=0;S<y.length;S++)p+=String.fromCharCode(y[S]);var _=d();h({data:p,addLength1:!0,objectId:_}),l("endobj");var L=d();h({data:n(a.metadata.toUnicode),addLength1:!0,objectId:L}),l("endobj");var x=d();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Wa(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var w=d();l("<<"),l("/Type /Font"),l("/BaseFont /"+Wa(a.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+e.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=d(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+L+" 0 R"),l("/BaseFont /"+Wa(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,d=o.newObject,h=o.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var m=a.metadata.rawData,y="",p=0;p<m.length;p++)y+=String.fromCharCode(m[p]);var S=d();h({data:y,addLength1:!0,objectId:S}),l("endobj");var _=d();h({data:n(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var L=d();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Wa(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=d();for(var x=0;x<a.metadata.hmtx.widths.length;x++)a.metadata.hmtx.widths[x]=parseInt(a.metadata.hmtx.widths[x]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+Wa(a.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,d=s.y,h=s.options||{},m=s.mutex||{},y=m.pdfEscape,p=m.activeFontKey,S=m.fonts,_=p,L="",x=0,w="",N=S[_].encoding;if(S[_].encoding!=="Identity-H")return{text:a,x:l,y:d,options:h,mutex:m};for(w=a,_=p,Array.isArray(a)&&(w=a[0]),x=0;x<w.length;x+=1)S[_].metadata.hasOwnProperty("cmap")&&(o=S[_].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),o||w[x].charCodeAt(0)<256&&S[_].metadata.hasOwnProperty("Unicode")?L+=w[x]:L+="";var R="";return parseInt(_.slice(1))<14||N==="WinAnsiEncoding"?R=y(L,_).split("").map(function(W){return W.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(R=r(L,S[_])),m.isHex=!0,{text:R,x:l,y:d,options:h,mutex:m}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?a.push([i(Object.assign({},l,{text:o[d][0]})).text,o[d][1],o[d][2]]):a.push(i(Object.assign({},l,{text:o[d]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(tt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(tt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,s,o,a,l,d,h,m=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,N=0;this.__bidiEngine__={};var R=function(T){var I=T.charCodeAt(),G=I>>8,q=_[G];return q!==void 0?m[256*q+(255&I)]:G===252||G===253?"AL":x.test(G)?"L":G===8?"R":"N"},W=function(T){for(var I,G=0;G<T.length;G++){if((I=R(T.charAt(G)))==="L")return!1;if(I==="R")return!0}return!1},X=function(T,I,G,q){var fe,ue,he,J,ie=I[q];switch(ie){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(ie="AN");break;case"AL":w=!0,ie="R";break;case"WS":ie="N";break;case"CS":q<1||q+1>=I.length||(fe=G[q-1])!=="EN"&&fe!=="AN"||(ue=I[q+1])!=="EN"&&ue!=="AN"?ie="N":w&&(ue="AN"),ie=ue===fe?ue:"N";break;case"ES":ie=(fe=q>0?G[q-1]:"B")==="EN"&&q+1<I.length&&I[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&G[q-1]==="EN"){ie="EN";break}if(w){ie="N";break}for(he=q+1,J=I.length;he<J&&I[he]==="ET";)he++;ie=he<J&&I[he]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(J=I.length,he=q+1;he<J&&I[he]==="NSM";)he++;if(he<J){var ae=T[q],Ae=ae>=1425&&ae<=2303||ae===64286;if(fe=I[he],Ae&&(fe==="R"||fe==="AL")){ie="R";break}}}ie=q<1||(fe=I[q-1])==="B"?"N":G[q-1];break;case"B":w=!1,i=!0,ie=N;break;case"S":s=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":ie="N"}return ie},O=function(T,I,G){var q=T.split("");return G&&E(q,G,{hiLevel:N}),q.reverse(),I&&I.reverse(),q.join("")},E=function(T,I,G){var q,fe,ue,he,J,ie=-1,ae=T.length,Ae=0,A=[],M=N?p:y,$=[];for(w=!1,i=!1,s=!1,fe=0;fe<ae;fe++)$[fe]=R(T[fe]);for(ue=0;ue<ae;ue++){if(J=Ae,A[ue]=X(T,$,A,ue),q=240&(Ae=M[J][S[A[ue]]]),Ae&=15,I[ue]=he=M[Ae][5],q>0)if(q===16){for(fe=ie;fe<ue;fe++)I[fe]=1;ie=-1}else ie=-1;if(M[Ae][6])ie===-1&&(ie=ue);else if(ie>-1){for(fe=ie;fe<ue;fe++)I[fe]=he;ie=-1}$[ue]==="B"&&(I[ue]=0),G.hiLevel|=he}s&&function(K,Z,ce){for(var me=0;me<ce;me++)if(K[me]==="S"){Z[me]=N;for(var le=me-1;le>=0&&K[le]==="WS";le--)Z[le]=N}}($,I,ae)},Y=function(T,I,G,q,fe){if(!(fe.hiLevel<T)){if(T===1&&N===1&&!i)return I.reverse(),void(G&&G.reverse());for(var ue,he,J,ie,ae=I.length,Ae=0;Ae<ae;){if(q[Ae]>=T){for(J=Ae+1;J<ae&&q[J]>=T;)J++;for(ie=Ae,he=J-1;ie<he;ie++,he--)ue=I[ie],I[ie]=I[he],I[he]=ue,G&&(ue=G[ie],G[ie]=G[he],G[he]=ue);Ae=J}Ae++}}},ne=function(T,I,G){var q=T.split(""),fe={hiLevel:N};return G||(G=[]),E(q,G,fe),function(ue,he,J){if(J.hiLevel!==0&&h)for(var ie,ae=0;ae<ue.length;ae++)he[ae]===1&&(ie=L.indexOf(ue[ae]))>=0&&(ue[ae]=L[ie+1])}(q,G,fe),Y(2,q,I,G,fe),Y(1,q,I,G,fe),q.join("")};return this.__bidiEngine__.doBidiReorder=function(T,I,G){if(function(fe,ue){if(ue)for(var he=0;he<fe.length;he++)ue[he]=he;a===void 0&&(a=W(fe)),d===void 0&&(d=W(fe))}(T,I),o||!l||d)if(o&&l&&a^d)N=a?1:0,T=O(T,I,G);else if(!o&&l&&d)N=a?1:0,T=ne(T,I,G),T=O(T,I);else if(!o||a||l||d){if(o&&!l&&a^d)T=O(T,I),a?(N=0,T=ne(T,I,G)):(N=1,T=ne(T,I,G),T=O(T,I));else if(o&&a&&!l&&d)N=1,T=ne(T,I,G),T=O(T,I);else if(!o&&!l&&a^d){var q=h;a?(N=1,T=ne(T,I,G),N=0,h=!1,T=ne(T,I,G),h=q):(N=0,T=ne(T,I,G),T=O(T,I),N=1,h=!1,T=ne(T,I,G),h=q,T=O(T,I))}}else N=0,T=ne(T,I,G);else N=a?1:0,T=ne(T,I,G);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,d=T.isOutputRtl,h=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),o=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([r.doBidiReorder(i[a])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(tt),tt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new po(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Sk(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new ck(this.contents),this.head=new dk(this),this.name=new gk(this),this.cmap=new bx(this),this.toUnicode={},this.hhea=new fk(this),this.maxp=new vk(this),this.hmtx=new yk(this),this.post=new pk(this),this.os2=new hk(this),this.loca=new _k(this),this.glyf=new wk(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,d;for(d=[],o=0,a=(l=this.bbox).length;o<a;o++)t=l[o],d.push(Math.round(t*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ki,po=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,s,o,a,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*a+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,s;for(s=[],n=0,i=t.length;n<i;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),ck=function(){var e;function t(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,s,o,a,l,d,h,m,y,p,S,_;for(_ in p=Object.keys(r).length,l=Math.log(2),m=16*Math.floor(Math.log(p)/l),o=Math.floor(m/l),h=16*p-m,(i=new po).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(o),i.writeShort(h),s=16*p,d=i.pos+s,a=null,S=[],r)for(y=r[_],i.writeString(_),i.writeInt(e(y)),i.writeInt(d),i.writeInt(y.length),S=S.concat(y),_==="head"&&(a=d),d+=y.length;d%4;)S.push(0),d++;return i.write(S),n=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(n),i.data},e=function(r){var n,i,s,o;for(r=_x.call(r);r.length%4;)r.push(0);for(s=new po(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},t}(),uk={}.hasOwnProperty,Xi=function(e,t){for(var r in t)uk.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ki=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var dk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xi(t,ki),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new po).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),B5=function(){function e(t,r){var n,i,s,o,a,l,d,h,m,y,p,S,_,L,x,w,N;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),m=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),y=p/2,t.pos+=6,s=function(){var R,W;for(W=[],l=R=0;0<=y?R<y:R>y;l=0<=y?++R:--R)W.push(t.readUInt16());return W}(),t.pos+=2,_=function(){var R,W;for(W=[],l=R=0;0<=y?R<y:R>y;l=0<=y?++R:--R)W.push(t.readUInt16());return W}(),d=function(){var R,W;for(W=[],l=R=0;0<=y?R<y:R>y;l=0<=y?++R:--R)W.push(t.readUInt16());return W}(),h=function(){var R,W;for(W=[],l=R=0;0<=y?R<y:R>y;l=0<=y?++R:--R)W.push(t.readUInt16());return W}(),i=(this.length-t.pos+this.offset)/2,a=function(){var R,W;for(W=[],l=R=0;0<=i?R<i:R>i;l=0<=i?++R:--R)W.push(t.readUInt16());return W}(),l=x=0,N=s.length;x<N;l=++x)for(L=s[l],n=w=S=_[l];S<=L?w<=L:w>=L;n=S<=L?++w:--w)h[l]===0?o=n+d[l]:(o=a[h[l]/2+(n-S)-(y-l)]||0)!==0&&(o+=d[l]),this.codeMap[n]=65535&o}t.pos=m}return e.encode=function(t,r){var n,i,s,o,a,l,d,h,m,y,p,S,_,L,x,w,N,R,W,X,O,E,Y,ne,T,I,G,q,fe,ue,he,J,ie,ae,Ae,A,M,$,K,Z,ce,me,le,Ce,ge,je;switch(q=new po,o=Object.keys(t).sort(function(Te,Re){return Te-Re}),r){case"macroman":for(_=0,L=function(){var Te=[];for(S=0;S<256;++S)Te.push(0);return Te}(),w={0:0},s={},fe=0,ie=o.length;fe<ie;fe++)w[le=t[i=o[fe]]]==null&&(w[le]=++_),s[i]={old:t[i],new:w[t[i]]},L[i]=w[t[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(L),{charMap:s,subtable:q.data,maxGlyphID:_+1};case"unicode":for(I=[],m=[],N=0,w={},n={},x=d=null,ue=0,ae=o.length;ue<ae;ue++)w[W=t[i=o[ue]]]==null&&(w[W]=++N),n[i]={old:W,new:w[W]},a=w[W]-i,x!=null&&a===d||(x&&m.push(x),I.push(i),d=a),x=i;for(x&&m.push(x),m.push(65535),I.push(65535),ne=2*(Y=I.length),E=2*Math.pow(Math.log(Y)/Math.LN2,2),y=Math.log(E/2)/Math.LN2,O=2*Y-E,l=[],X=[],p=[],S=he=0,Ae=I.length;he<Ae;S=++he){if(T=I[S],h=m[S],T===65535){l.push(0),X.push(0);break}if(T-(G=n[T].new)>=32768)for(l.push(0),X.push(2*(p.length+Y-S)),i=J=T;T<=h?J<=h:J>=h;i=T<=h?++J:--J)p.push(n[i].new);else l.push(G-T),X.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*Y+2*p.length),q.writeUInt16(0),q.writeUInt16(ne),q.writeUInt16(E),q.writeUInt16(y),q.writeUInt16(O),ce=0,A=m.length;ce<A;ce++)i=m[ce],q.writeUInt16(i);for(q.writeUInt16(0),me=0,M=I.length;me<M;me++)i=I[me],q.writeUInt16(i);for(Ce=0,$=l.length;Ce<$;Ce++)a=l[Ce],q.writeUInt16(a);for(ge=0,K=X.length;ge<K;ge++)R=X[ge],q.writeUInt16(R);for(je=0,Z=p.length;je<Z;je++)_=p[je],q.writeUInt16(_);return{charMap:n,subtable:q.data,maxGlyphID:N+1}}},e}(),bx=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xi(t,ki),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new B5(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=B5.encode(r,n),(s=new po).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),fk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xi(t,ki),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),hk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xi(t,ki),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),pk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xi(t,ki),t.prototype.tag="post",t.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(i=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,d;for(d=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)d.push(r.readUInt32());return d}).call(this)}},t}(),mk=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},gk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xi(t,ki),t.prototype.tag="name",t.prototype.parse=function(r){var n,i,s,o,a,l,d,h,m,y,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(d={},o=m=0,y=i.length;m<y;o=++m)s=i[o],r.pos=s.offset,h=r.readString(s.length),a=new mk(h,s),d[p=s.nameID]==null&&(d[p]=[]),d[s.nameID].push(a);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t}(),vk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xi(t,ki),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),yk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xi(t,ki),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,i,s,o,a,l,d;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,m;for(m=[],n=h=0;0<=s?h<s:h>s;n=0<=s?++h:--h)m.push(r.readInt16());return m}(),this.widths=(function(){var h,m,y,p;for(p=[],h=0,m=(y=this.metrics).length;h<m;h++)o=y[h],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],d=[],n=a=0;0<=s?a<s:a>s;n=0<=s?++a:--a)d.push(this.widths.push(i));return d},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),_x=[].slice,wk=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xi(t,ki),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,i,s,o,a,l,d,h,m,y;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,a=(l=new po(n.read(s))).readShort(),h=l.readShort(),y=l.readShort(),d=l.readShort(),m=l.readShort(),this.cache[r]=a===-1?new bk(l,h,y,d,m):new xk(l,a,h,y,d,m),this.cache[r]))},t.prototype.encode=function(r,n,i){var s,o,a,l,d;for(a=[],o=[],l=0,d=n.length;l<d;l++)s=r[n[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},t}(),xk=function(){function e(t,r,n,i,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),bk=function(){function e(t,r,n,i,s){var o,a;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new po(_x.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),_k=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Xi(t,ki),t.prototype.tag="loca",t.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<n.length&&n[o]==a){++o,i[a]=s;var l=this.offsets[a],d=this.offsets[a+1]-l;d>0&&(s+=d)}for(var h=new Array(4*i.length),m=0;m<i.length;++m)h[4*m+3]=255&i[m],h[4*m+2]=(65280&i[m])>>8,h[4*m+1]=(16711680&i[m])>>16,h[4*m]=(4278190080&i[m])>>24;return h},t}(),Sk=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,s,o,a,l;for(i={},o=0,a=t.length;o<a;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},e.prototype.encode=function(t,r){var n,i,s,o,a,l,d,h,m,y,p,S,_,L,x;for(i in n=bx.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),p={0:0},x=n.charMap)p[(l=x[i]).old]=l.new;for(S in y=n.maxGlyphID,o)S in p||(p[S]=y++);return h=function(w){var N,R;for(N in R={},w)R[w[N]]=N;return R}(p),m=Object.keys(h).sort(function(w,N){return w-N}),_=function(){var w,N,R;for(R=[],w=0,N=m.length;w<N;w++)a=m[w],R.push(h[a]);return R}(),s=this.font.glyf.encode(o,_,p),d=this.font.loca.encode(s.offsets,_),L={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},e}();tt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var a,l,d;for(d=[],a=0,l=r.length;a<l;a++)n=r[a],d.push(t.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();const Sx=e=>`<?xml version="1.0" encoding="UTF-8"?>
<cfdi:Comprobante 
  xmlns:cfdi="http://www.sat.gob.mx/cfd/4" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  Version="4.0" 
  Serie="${e.serie||"A"}" 
  Folio="${e.folio||"1"}" 
  Fecha="${e.fechaEmision}" 
  FormaPago="${e.informacionPago.formaPago}" 
  MetodoPago="${e.informacionPago.metodoPago}" 
  Moneda="${e.informacionPago.moneda}" 
  ${e.informacionPago.tipoCambio?`TipoCambio="${e.informacionPago.tipoCambio}"`:""} 
  SubTotal="${e.subtotal.toFixed(2)}" 
  Total="${e.total.toFixed(2)}">
  <cfdi:Emisor 
    Rfc="${e.emisor.rfc}" 
    Nombre="${e.emisor.nombre}" 
    RegimenFiscal="${e.emisor.regimenFiscal}" />
  <cfdi:Receptor 
    Rfc="${e.receptor.rfc}" 
    Nombre="${e.receptor.nombre}" 
    UsoCFDI="${e.receptor.usoCFDI}" 
    ${e.receptor.domicilioFiscal?`DomicilioFiscalReceptor="${e.receptor.domicilioFiscal}"`:""} 
    ${e.receptor.regimenFiscalReceptor?`RegimenFiscalReceptor="${e.receptor.regimenFiscalReceptor}"`:""} />
  <cfdi:Conceptos>
    ${e.conceptos.map(r=>`
    <cfdi:Concepto 
      ClaveProdServ="${r.claveProductoServicio}" 
      Cantidad="${r.cantidad}" 
      Descripcion="${r.descripcion}" 
      ValorUnitario="${r.precioUnitario.toFixed(2)}" 
      Importe="${r.importe.toFixed(2)}">
      <cfdi:Impuestos>
        <cfdi:Traslados>
          ${r.impuestos.map(n=>`
          <cfdi:Traslado 
            Base="${r.importe.toFixed(2)}" 
            Impuesto="${n.tipo==="IVA"?"002":n.tipo==="ISR"?"001":"003"}" 
            TipoFactor="Tasa" 
            TasaOCuota="${(n.tasa/100).toFixed(6)}" 
            Importe="${n.importe.toFixed(2)}" />
          `).join("")}
        </cfdi:Traslados>
      </cfdi:Impuestos>
    </cfdi:Concepto>
    `).join("")}
  </cfdi:Conceptos>
  ${e.timbreFiscalDigital.uuid?`
  <cfdi:Complemento>
    <tfd:TimbreFiscalDigital 
      xmlns:tfd="http://www.sat.gob.mx/TimbreFiscalDigital" 
      xsi:schemaLocation="http://www.sat.gob.mx/TimbreFiscalDigital http://www.sat.gob.mx/sitio_internet/cfd/TimbreFiscalDigital/TimbreFiscalDigitalv11.xsd" 
      Version="1.1" 
      UUID="${e.timbreFiscalDigital.uuid}" 
      FechaTimbrado="${e.timbreFiscalDigital.fechaTimbrado}" 
      SelloCFD="${e.timbreFiscalDigital.selloCFD}" 
      NoCertificadoSAT="${e.timbreFiscalDigital.noCertificadoSAT}" 
      SelloSAT="${e.timbreFiscalDigital.selloSAT}" />
  </cfdi:Complemento>
  `:""}
</cfdi:Comprobante>`,U1=e=>{const t=new tt;t.setFontSize(18),t.text("Comprobante Fiscal Digital",105,20,{align:"center"}),t.setFontSize(12),e.estado==="timbrado"?t.setTextColor(0,128,0):e.estado==="cancelado"?t.setTextColor(255,0,0):t.setTextColor(0,0,0),t.text(`Estado: ${e.estado.toUpperCase()}`,105,30,{align:"center"}),t.setTextColor(0,0,0),t.setFontSize(10),t.text("EMISOR",20,45),t.text(`RFC: ${e.emisor.rfc}`,20,50),t.text(`Nombre: ${e.emisor.nombre}`,20,55),t.text(`Rgimen Fiscal: ${e.emisor.regimenFiscal}`,20,60),t.text("RECEPTOR",120,45),t.text(`RFC: ${e.receptor.rfc}`,120,50),t.text(`Nombre: ${e.receptor.nombre}`,120,55),t.text(`Uso CFDI: ${e.receptor.usoCFDI}`,120,60),t.text(`Serie: ${e.serie||"A"}`,20,75),t.text(`Folio: ${e.folio||"1"}`,60,75),t.text(`Fecha: ${new Date(e.fechaEmision).toLocaleString()}`,100,75),t.text(`Mtodo de Pago: ${e.informacionPago.metodoPago}`,20,85),t.text(`Forma de Pago: ${e.informacionPago.formaPago}`,80,85),t.text(`Moneda: ${e.informacionPago.moneda}`,140,85),t.line(20,95,190,95),t.text("Cantidad",20,100),t.text("Descripcin",50,100),t.text("Precio Unit.",120,100),t.text("Importe",160,100),t.line(20,102,190,102);let r=110;return e.conceptos.forEach(n=>{t.text(n.cantidad.toString(),20,r),t.text(n.descripcion,50,r),t.text(n.precioUnitario.toFixed(2),120,r),t.text(n.importe.toFixed(2),160,r),r+=10}),t.line(20,r,190,r),r+=10,t.text("Subtotal:",120,r),t.text(e.subtotal.toFixed(2),160,r),r+=10,t.text("Impuestos:",120,r),t.text(e.totalImpuestos.toFixed(2),160,r),r+=10,t.setFontSize(12),t.text("Total:",120,r),t.text(e.total.toFixed(2),160,r),e.timbreFiscalDigital.uuid&&(r+=20,t.setFontSize(10),t.text("TIMBRE FISCAL DIGITAL",105,r,{align:"center"}),r+=10,t.text(`UUID: ${e.timbreFiscalDigital.uuid}`,20,r),r+=10,t.text(`Fecha de Timbrado: ${e.timbreFiscalDigital.fechaTimbrado}`,20,r),r+=10,t.text(`No. Certificado SAT: ${e.timbreFiscalDigital.noCertificadoSAT}`,20,r)),t},Zm=e=>{var r,n,i,s,o,a,l,d,h;const t={};return(r=e.emisor)!=null&&r.rfc?/^[A-Z&]{3,4}\d{6}(?:[A-Z\d]{3})?$/.test(e.emisor.rfc)||(t.emisorRfc="El RFC del emisor no tiene un formato vlido"):t.emisorRfc="El RFC del emisor es obligatorio",(n=e.emisor)!=null&&n.nombre||(t.emisorNombre="El nombre del emisor es obligatorio"),(i=e.emisor)!=null&&i.regimenFiscal||(t.emisorRegimenFiscal="El rgimen fiscal del emisor es obligatorio"),(s=e.receptor)!=null&&s.rfc?/^[A-Z&]{3,4}\d{6}(?:[A-Z\d]{3})?$/.test(e.receptor.rfc)||(t.receptorRfc="El RFC del receptor no tiene un formato vlido"):t.receptorRfc="El RFC del receptor es obligatorio",(o=e.receptor)!=null&&o.nombre||(t.receptorNombre="El nombre del receptor es obligatorio"),(a=e.receptor)!=null&&a.usoCFDI||(t.receptorUsoCFDI="El uso de CFDI es obligatorio"),!e.conceptos||e.conceptos.length===0?t.conceptos="Debe agregar al menos un concepto":e.conceptos.forEach((m,y)=>{m.claveProductoServicio||(t[`concepto${y}ClaveProductoServicio`]=`La clave de producto/servicio del concepto ${y+1} es obligatoria`),m.descripcion||(t[`concepto${y}Descripcion`]=`La descripcin del concepto ${y+1} es obligatoria`),(!m.cantidad||m.cantidad<=0)&&(t[`concepto${y}Cantidad`]=`La cantidad del concepto ${y+1} debe ser mayor a cero`),(!m.precioUnitario||m.precioUnitario<=0)&&(t[`concepto${y}PrecioUnitario`]=`El precio unitario del concepto ${y+1} debe ser mayor a cero`)}),(l=e.informacionPago)!=null&&l.metodoPago||(t.metodoPago="El mtodo de pago es obligatorio"),(d=e.informacionPago)!=null&&d.formaPago||(t.formaPago="La forma de pago es obligatoria"),(h=e.informacionPago)!=null&&h.moneda||(t.moneda="La moneda es obligatoria"),{isValid:Object.keys(t).length===0,errors:t}};function Nx({columns:e,data:t,keyExtractor:r,onRowClick:n,isLoading:i=!1,emptyMessage:s="No hay datos disponibles"}){const o=(a,l)=>typeof l.accessor=="function"?l.accessor(a):a[l.accessor];return i?f.jsx("div",{className:"w-full bg-white rounded-lg shadow overflow-hidden",children:f.jsxs("div",{className:"animate-pulse p-4",children:[f.jsx("div",{className:"h-6 bg-gray-200 rounded w-full mb-4"}),[...Array(5)].map((a,l)=>f.jsx("div",{className:"h-12 bg-gray-100 rounded w-full mb-2"},l))]})}):f.jsx("div",{className:"w-full bg-white rounded-lg shadow overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsx("tr",{children:e.map((a,l)=>f.jsx("th",{scope:"col",className:`px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${a.className||""}`,children:a.header},l))})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.length>0?t.map(a=>f.jsx("tr",{onClick:()=>n&&n(a),className:n?"cursor-pointer hover:bg-gray-50":"",children:e.map((l,d)=>f.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm text-gray-500 ${l.className||""}`,children:o(a,l)},d))},r(a))):f.jsx("tr",{children:f.jsx("td",{colSpan:e.length,className:"px-6 py-4 text-center text-sm text-gray-500",children:s})})})]})})})}const pu=({isOpen:e,onClose:t,title:r,children:n,footer:i,size:s="md"})=>{const o=be.useRef(null);if(be.useEffect(()=>{const l=h=>{h.key==="Escape"&&t()},d=h=>{o.current&&!o.current.contains(h.target)&&t()};return e&&(document.addEventListener("keydown",l),document.addEventListener("mousedown",d),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",l),document.removeEventListener("mousedown",d),document.body.style.overflow="unset"}},[e,t]),!e)return null;const a={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:f.jsxs("div",{ref:o,className:`bg-white rounded-lg shadow-xl w-full ${a[s]} max-h-[90vh] flex flex-col`,children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),f.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:f.jsx(Nu,{size:20})})]}),f.jsx("div",{className:"flex-1 p-6 overflow-y-auto",children:n}),i&&f.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:i})]})})},eg=({cfdis:e,isLoading:t,editPath:r="/facturas/editar",viewPath:n="/facturas"})=>{const[i,s]=be.useState(null),[o,a]=be.useState(!1),[l,d]=be.useState(!1),{deleteCFDI:h,cancelCFDI:m}=yo(),y=Zr(),p=O=>{y(`${n||"/facturas"}/${O.id}`)},S=O=>{y(`${r||"/facturas/editar"}/${O.id}`)},_=O=>{s(O),a(!0)},L=O=>{s(O),d(!0)},x=async()=>{if(i)try{await h(i.id),Ke.success("Factura eliminada correctamente")}catch(O){Ke.error(`Error al eliminar la factura: ${O.message}`)}finally{a(!1),s(null)}},w=async()=>{if(i)try{await m(i.id),Ke.success("Factura cancelada correctamente")}catch(O){Ke.error(`Error al cancelar la factura: ${O.message}`)}finally{d(!1),s(null)}},N=O=>{const E=Sx(O),Y=new Blob([E],{type:"application/xml"}),ne=URL.createObjectURL(Y),T=document.createElement("a");T.href=ne,T.download=`CFDI_${O.id}.xml`,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(ne)},R=O=>{U1(O).save(`CFDI_${O.id}.pdf`)},W=O=>{switch(O){case"timbrado":return f.jsx(b1,{size:18,className:"text-green-500"});case"cancelado":return f.jsx(uu,{size:18,className:"text-red-500"});default:return f.jsx(_1,{size:18,className:"text-yellow-500"})}},X=[{header:"Estado",accessor:O=>f.jsxs("div",{className:"flex items-center",children:[W(O.estado),f.jsx("span",{className:"ml-2 capitalize",children:O.estado})]}),className:"w-24"},{header:"Fecha",accessor:O=>new Date(O.fechaEmision).toLocaleDateString(),className:"w-32"},{header:"Receptor",accessor:O=>f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:O.receptor.nombre}),f.jsx("div",{className:"text-xs text-gray-500",children:O.receptor.rfc})]})},{header:"Total",accessor:O=>f.jsxs("div",{className:"font-medium text-right",children:["$",O.total.toFixed(2)," ",O.informacionPago.moneda]}),className:"w-32 text-right"},{header:"Acciones",accessor:O=>f.jsxs("div",{className:"flex space-x-2 justify-end",children:[f.jsx(it,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),p(O)},leftIcon:f.jsx(In,{size:16}),children:"Ver"}),O.estado==="timbrado"&&f.jsx(it,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),L(O)},leftIcon:f.jsx(uu,{size:16}),children:"Cancelar"}),O.estado==="borrador"&&f.jsxs(f.Fragment,{children:[f.jsx(it,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),S(O)},children:"Editar"}),f.jsx(it,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),_(O)},leftIcon:f.jsx(Su,{size:16}),children:"Eliminar"})]}),f.jsx(it,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),N(O)},leftIcon:f.jsx(Uf,{size:16}),children:"XML"}),f.jsx(it,{variant:"outline",size:"sm",onClick:E=>{E.stopPropagation(),R(O)},leftIcon:f.jsx(Uf,{size:16}),children:"PDF"})]}),className:"w-auto"}];return f.jsxs("div",{children:[f.jsx(Nx,{columns:X,data:e,keyExtractor:O=>O.id,onRowClick:p,isLoading:t,emptyMessage:"No hay facturas disponibles"}),f.jsxs(pu,{isOpen:o,onClose:()=>a(!1),title:"Confirmar Eliminacin",footer:f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx(it,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),f.jsx(it,{variant:"danger",onClick:x,children:"Eliminar"})]}),children:[f.jsx("p",{children:"Est seguro que desea eliminar esta factura?"}),f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Esta accin no se puede deshacer."})]}),f.jsxs(pu,{isOpen:l,onClose:()=>d(!1),title:"Confirmar Cancelacin",footer:f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx(it,{variant:"outline",onClick:()=>d(!1),children:"No Cancelar"}),f.jsx(it,{variant:"danger",onClick:w,children:"S, Cancelar Factura"})]}),children:[f.jsx("p",{children:"Est seguro que desea cancelar esta factura?"}),f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Esta accin notificar al SAT sobre la cancelacin del CFDI. Dependiendo del tiempo transcurrido desde su emisin, podra requerir la aceptacin del receptor."})]})]})},Nk=()=>{const{user:e}=Mr(),{cfdis:t,loading:r,fetchCFDIs:n}=yo(),i=Zr();be.useEffect(()=>{if(!e){i("/login");return}n()},[e,i,n]);const s=()=>{i("/facturas/nueva")},o=t.filter(a=>a.type==="factura");return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Facturas"}),f.jsx("p",{className:"text-gray-600",children:"Gestiona tus comprobantes fiscales digitales"})]}),f.jsx(it,{onClick:s,leftIcon:f.jsx(na,{size:18}),children:"Nueva Factura"})]}),f.jsx(eg,{cfdis:o,isLoading:r,editPath:"/facturas/editar",viewPath:"/facturas"})]})},jk=({cfdi:e})=>{const[t,r]=be.useState(!1),{cancelCFDI:n}=yo(),i=Zr(),s=()=>{i("/facturas")},o=async()=>{try{await n(e.id),Ke.success("Factura cancelada correctamente"),r(!1)}catch(m){Ke.error(`Error al cancelar la factura: ${m.message}`)}},a=()=>{const m=Sx(e),y=new Blob([m],{type:"application/xml"}),p=URL.createObjectURL(y),S=document.createElement("a");S.href=p,S.download=`CFDI_${e.id}.xml`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(p)},l=()=>{U1(e).save(`CFDI_${e.id}.pdf`)},d=()=>{const m=U1(e);m.autoPrint(),window.open(m.output("bloburl"),"_blank")},h=m=>{switch(m){case"timbrado":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx(it,{variant:"outline",onClick:s,leftIcon:f.jsx(AN,{size:18}),children:"Volver"}),f.jsxs("div",{className:"flex space-x-2",children:[e.estado==="timbrado"&&f.jsx(it,{variant:"danger",onClick:()=>r(!0),leftIcon:f.jsx(uu,{size:18}),children:"Cancelar CFDI"}),f.jsx(it,{variant:"outline",onClick:a,leftIcon:f.jsx(Uf,{size:18}),children:"Descargar XML"}),f.jsx(it,{variant:"outline",onClick:l,leftIcon:f.jsx(Uf,{size:18}),children:"Descargar PDF"}),f.jsx(it,{variant:"outline",onClick:d,leftIcon:f.jsx(EN,{size:18}),children:"Imprimir"})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Comprobante Fiscal Digital"}),f.jsxs("p",{className:"text-gray-500",children:[e.serie||"A","-",e.folio||"1"," | Fecha: ",new Date(e.fechaEmision).toLocaleString()]})]}),f.jsx("div",{className:`px-4 py-2 rounded-full ${h(e.estado)}`,children:f.jsx("span",{className:"text-sm font-medium capitalize",children:e.estado})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[f.jsx(Et,{title:"Datos del Emisor",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"RFC:"})," ",e.emisor.rfc]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Nombre:"})," ",e.emisor.nombre]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Rgimen Fiscal:"})," ",e.emisor.regimenFiscal]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Cdigo Postal:"})," ",e.emisor.codigoPostal]})]})}),f.jsx(Et,{title:"Datos del Receptor",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"RFC:"})," ",e.receptor.rfc]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Nombre:"})," ",e.receptor.nombre]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Uso CFDI:"})," ",e.receptor.usoCFDI]}),e.receptor.domicilioFiscal&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Domicilio Fiscal:"})," ",e.receptor.domicilioFiscal]})]})})]}),f.jsxs(Et,{title:"Conceptos",className:"mb-6",children:[f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cantidad"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio Unitario"}),f.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Importe"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.conceptos.map((m,y)=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.cantidad}),f.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:f.jsxs("div",{children:[f.jsx("p",{children:m.descripcion}),f.jsxs("p",{className:"text-xs text-gray-400",children:["Clave: ",m.claveProductoServicio]})]})}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",m.precioUnitario.toFixed(2)]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",m.importe.toFixed(2)]})]},y))})]})}),f.jsxs("div",{className:"mt-4 space-y-2",children:[f.jsx("h4",{className:"font-medium",children:"Impuestos:"}),e.conceptos.map((m,y)=>f.jsxs("div",{className:"ml-4",children:[f.jsxs("p",{className:"text-sm text-gray-600",children:["Concepto ",y+1,":"]}),f.jsx("ul",{className:"list-disc list-inside ml-4",children:m.impuestos.map((p,S)=>f.jsxs("li",{className:"text-sm text-gray-500",children:[p.tipo," (",p.tasa,"%): $",p.importe.toFixed(2)]},S))})]},y))]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[f.jsx(Et,{title:"Informacin de Pago",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Mtodo de Pago:"})," ",e.informacionPago.metodoPago]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Forma de Pago:"})," ",e.informacionPago.formaPago]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Moneda:"})," ",e.informacionPago.moneda]}),e.informacionPago.tipoCambio&&f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Tipo de Cambio:"})," ",e.informacionPago.tipoCambio]})]})}),f.jsx(Et,{title:"Totales",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{className:"flex justify-between",children:[f.jsx("span",{className:"font-medium",children:"Subtotal:"}),f.jsxs("span",{children:["$",e.subtotal.toFixed(2)]})]}),f.jsxs("p",{className:"flex justify-between",children:[f.jsx("span",{className:"font-medium",children:"Impuestos:"}),f.jsxs("span",{children:["$",e.totalImpuestos.toFixed(2)]})]}),f.jsxs("p",{className:"flex justify-between text-lg font-bold",children:[f.jsx("span",{children:"Total:"}),f.jsxs("span",{children:["$",e.total.toFixed(2)," ",e.informacionPago.moneda]})]})]})})]}),e.timbreFiscalDigital.uuid&&f.jsx(Et,{title:"Timbre Fiscal Digital",children:f.jsxs("div",{className:"space-y-2",children:[f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"UUID:"})," ",e.timbreFiscalDigital.uuid]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"Fecha de Timbrado:"})," ",e.timbreFiscalDigital.fechaTimbrado]}),f.jsxs("p",{children:[f.jsx("span",{className:"font-medium",children:"No. Certificado SAT:"})," ",e.timbreFiscalDigital.noCertificadoSAT]})]})})]}),f.jsxs(pu,{isOpen:t,onClose:()=>r(!1),title:"Confirmar Cancelacin",footer:f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx(it,{variant:"outline",onClick:()=>r(!1),children:"No Cancelar"}),f.jsx(it,{variant:"danger",onClick:o,children:"S, Cancelar Factura"})]}),children:[f.jsx("p",{children:"Est seguro que desea cancelar esta factura?"}),f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Esta accin notificar al SAT sobre la cancelacin del CFDI. Dependiendo del tiempo transcurrido desde su emisin, podra requerir la aceptacin del receptor."})]})]})},m0=()=>{const{id:e}=dh(),{user:t}=Mr(),{currentCFDI:r,loading:n,getCFDI:i,clearCurrentCFDI:s}=yo(),o=Zr();return be.useEffect(()=>{if(!t){o("/login");return}return e&&i(e),()=>{s()}},[e,t,o,i,s]),n?f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?f.jsx(jk,{cfdi:r}):f.jsx(Et,{children:f.jsxs("div",{className:"text-center py-8",children:[f.jsx("h2",{className:"text-xl font-medium text-gray-900",children:"Factura no encontrada"}),f.jsx("p",{className:"mt-2 text-gray-500",children:"La factura que ests buscando no existe o no tienes permisos para verla."}),f.jsx("button",{className:"mt-4 text-blue-600 hover:text-blue-800",onClick:()=>o("/facturas"),children:"Volver a la lista de facturas"})]})})},Cr=be.forwardRef(({label:e,options:t,error:r,fullWidth:n=!1,className:i="",...s},o)=>{const a=`
      block w-full rounded-md border border-gray-400 
      focus:border-blue-500 focus:ring-blue-500 focus:outline-none appearance-none
      disabled:cursor-not-allowed disabled:bg-gray-100 disabled:text-gray-500
      ${r?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
      ${i}
    `;return f.jsxs("div",{className:`${n?"w-full":""}`,children:[e&&f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{ref:o,className:a,...s,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),t.map(l=>f.jsx("option",{value:l.value,children:l.label},l.value))]}),f.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-500",children:f.jsx(LN,{size:16})})]}),r&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:r})]})});Cr.displayName="Select";const kk=({initialData:e,onSubmit:t,onCancel:r})=>{var T,I,G,q,fe,ue,he,J,ie,ae,Ae,A,M,$,K,Z,ce,me,le,Ce;const{user:n}=Mr(),{regimenesFiscales:i,usosCFDI:s,metodosPago:o,formasPago:a,productosServicios:l,fetchCatalogos:d}=Sh(),[h,m]=be.useState({}),y={type:"factura",emisor:{rfc:(n==null?void 0:n.rfc)||"",nombre:(n==null?void 0:n.nombre)||"",regimenFiscal:"",codigoPostal:""},receptor:{rfc:"",nombre:"",usoCFDI:""},conceptos:[{id:Qo(),descripcion:"",claveProductoServicio:"",cantidad:0,precioUnitario:0,importe:0,impuestos:[]}],informacionPago:{metodoPago:"",formaPago:"",moneda:"MXN"},timbreFiscalDigital:{},total:0,subtotal:0,totalImpuestos:0,estado:"borrador",fechaEmision:new Date().toISOString(),...e},{register:p,control:S,handleSubmit:_,watch:L,setValue:x,formState:{errors:w,isSubmitting:N}}=ia({defaultValues:y,mode:"onSubmit"}),{fields:R,append:W,remove:X}=Km({control:S,name:"conceptos"}),O=L("conceptos")||[];be.useEffect(()=>{d()},[d]),be.useEffect(()=>{if(!(O!=null&&O.length))return;let ge=0,je=0;O.forEach((Re,_e)=>{const V=Number(Re==null?void 0:Re.cantidad)||0,He=Number(Re==null?void 0:Re.precioUnitario)||0,B=V*He;B!==Number(Re==null?void 0:Re.importe)&&x(`conceptos.${_e}.importe`,B),ge+=B;const H=B*.16,Q=[{tipo:"IVA",tasa:16,importe:H}];x(`conceptos.${_e}.impuestos`,Q),je+=H});const Te=ge+je;x("subtotal",ge),x("totalImpuestos",je),x("total",Te)},[O,x]);const E=()=>{W({id:Qo(),descripcion:"",claveProductoServicio:"",cantidad:0,precioUnitario:0,importe:0,impuestos:[]})},Y=ge=>{if(R.length<=1){Ke.warning("Debe haber al menos un concepto");return}X(ge)},ne=ge=>{const{isValid:je,errors:Te}=Zm(ge);if(!je){m(Te),Ke.error("Por favor corrija los errores en el formulario");return}m({}),n&&(ge.userId=n.id),ge.type="factura",t(ge)};return f.jsxs("form",{onSubmit:_(ne),className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx(Et,{title:"Datos del Emisor",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(lt,{label:"RFC",fullWidth:!0,error:h.emisorRfc||((I=(T=w.emisor)==null?void 0:T.rfc)==null?void 0:I.message),...p("emisor.rfc",{required:"El RFC es obligatorio"})}),f.jsx(lt,{label:"Nombre",fullWidth:!0,error:h.emisorNombre||((q=(G=w.emisor)==null?void 0:G.nombre)==null?void 0:q.message),...p("emisor.nombre",{required:"El nombre es obligatorio"})}),f.jsx(Cr,{label:"Rgimen Fiscal",fullWidth:!0,options:i.map(ge=>({value:ge.codigo,label:`${ge.codigo} - ${ge.descripcion}`})),error:h.emisorRegimenFiscal||((ue=(fe=w.emisor)==null?void 0:fe.regimenFiscal)==null?void 0:ue.message),...p("emisor.regimenFiscal",{required:"El rgimen fiscal es obligatorio"})}),f.jsx(lt,{label:"Cdigo Postal",fullWidth:!0,error:h.emisorCodigoPostal||((J=(he=w.emisor)==null?void 0:he.codigoPostal)==null?void 0:J.message),...p("emisor.codigoPostal",{required:"El cdigo postal es obligatorio"})})]})}),f.jsx(Et,{title:"Datos del Receptor",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(lt,{label:"RFC",fullWidth:!0,error:h.receptorRfc||((ae=(ie=w.receptor)==null?void 0:ie.rfc)==null?void 0:ae.message),...p("receptor.rfc",{required:"El RFC es obligatorio"})}),f.jsx(lt,{label:"Nombre",fullWidth:!0,error:h.receptorNombre||((A=(Ae=w.receptor)==null?void 0:Ae.nombre)==null?void 0:A.message),...p("receptor.nombre",{required:"El nombre es obligatorio"})}),f.jsx(Cr,{label:"Uso CFDI",fullWidth:!0,options:s.map(ge=>({value:ge.codigo,label:`${ge.codigo} - ${ge.descripcion}`})),error:h.receptorUsoCFDI||(($=(M=w.receptor)==null?void 0:M.usoCFDI)==null?void 0:$.message),...p("receptor.usoCFDI",{required:"El uso de CFDI es obligatorio"})})]})})]}),f.jsxs(Et,{title:"Conceptos",children:[R.map((ge,je)=>{var Te,Re,_e,V,He,B,H,Q,we,pe,xe,Ie;return f.jsxs("div",{className:"space-y-4 p-4 border rounded-lg mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("h4",{className:"text-lg font-semibold",children:["Concepto ",je+1]}),f.jsx(it,{type:"button",variant:"danger",onClick:()=>Y(je),leftIcon:f.jsx(Su,{className:"w-4 h-4"}),children:"Eliminar"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Cr,{label:"Clave Producto/Servicio",fullWidth:!0,options:l.map(De=>({value:De.codigo,label:`${De.codigo} - ${De.descripcion}`})),error:(_e=(Re=(Te=w.conceptos)==null?void 0:Te[je])==null?void 0:Re.claveProductoServicio)==null?void 0:_e.message,...p(`conceptos.${je}.claveProductoServicio`,{required:"La clave de producto/servicio es obligatoria"})}),f.jsx(lt,{label:"Descripcin",fullWidth:!0,error:(B=(He=(V=w.conceptos)==null?void 0:V[je])==null?void 0:He.descripcion)==null?void 0:B.message,...p(`conceptos.${je}.descripcion`,{required:"La descripcin es obligatoria"})}),f.jsx(lt,{label:"Cantidad",type:"number",min:"0.01",step:"0.01",fullWidth:!0,error:(we=(Q=(H=w.conceptos)==null?void 0:H[je])==null?void 0:Q.cantidad)==null?void 0:we.message,...p(`conceptos.${je}.cantidad`,{required:"La cantidad es obligatoria",valueAsNumber:!0,min:{value:.01,message:"La cantidad debe ser mayor a cero"}})}),f.jsx(lt,{label:"Precio Unitario",type:"number",min:"0.01",step:"0.01",fullWidth:!0,error:(Ie=(xe=(pe=w.conceptos)==null?void 0:pe[je])==null?void 0:xe.precioUnitario)==null?void 0:Ie.message,...p(`conceptos.${je}.precioUnitario`,{required:"El precio unitario es obligatorio",valueAsNumber:!0,min:{value:.01,message:"El precio unitario debe ser mayor a cero"}})})]})]},ge.id)}),f.jsx(it,{type:"button",variant:"secondary",onClick:E,leftIcon:f.jsx(na,{className:"w-4 h-4"}),children:"Agregar Concepto"})]}),f.jsx(Et,{title:"Informacin de Pago",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(Cr,{label:"Mtodo de Pago",fullWidth:!0,options:o.map(ge=>({value:ge.codigo,label:`${ge.codigo} - ${ge.descripcion}`})),error:h.metodoPago||((Z=(K=w.informacionPago)==null?void 0:K.metodoPago)==null?void 0:Z.message),...p("informacionPago.metodoPago",{required:"El mtodo de pago es obligatorio"})}),f.jsx(Cr,{label:"Forma de Pago",fullWidth:!0,options:a.map(ge=>({value:ge.codigo,label:`${ge.codigo} - ${ge.descripcion}`})),error:h.formaPago||((me=(ce=w.informacionPago)==null?void 0:ce.formaPago)==null?void 0:me.message),...p("informacionPago.formaPago",{required:"La forma de pago es obligatoria"})}),f.jsx(Cr,{label:"Moneda",fullWidth:!0,options:[{value:"MXN",label:"Peso Mexicano (MXN)"},{value:"USD",label:"Dlar Americano (USD)"},{value:"EUR",label:"Euro (EUR)"}],error:h.moneda||((Ce=(le=w.informacionPago)==null?void 0:le.moneda)==null?void 0:Ce.message),...p("informacionPago.moneda",{required:"La moneda es obligatoria"})}),L("informacionPago.moneda")!=="MXN"&&f.jsx(lt,{label:"Tipo de Cambio",type:"number",min:"0.01",step:"0.01",fullWidth:!0,...p("informacionPago.tipoCambio",{valueAsNumber:!0,min:{value:.01,message:"El tipo de cambio debe ser mayor a cero"}})})]})}),f.jsx(Et,{title:"Totales",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(lt,{label:"Subtotal",type:"number",readOnly:!0,fullWidth:!0,...p("subtotal",{valueAsNumber:!0})}),f.jsx(lt,{label:"Impuestos",type:"number",readOnly:!0,fullWidth:!0,...p("totalImpuestos",{valueAsNumber:!0})}),f.jsx(lt,{label:"Total",type:"number",readOnly:!0,fullWidth:!0,...p("total",{valueAsNumber:!0})})]})}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx(it,{type:"button",variant:"secondary",onClick:r,leftIcon:f.jsx(Nu,{className:"w-4 h-4"}),children:"Cancelar"}),f.jsx(it,{type:"submit",variant:"primary",disabled:N,leftIcon:f.jsx(Vm,{className:"w-4 h-4"}),children:e?"Guardar Factura":"Crear Factura"})]})]})},Ak=({initialData:e,onSubmit:t,onCancel:r})=>{var T,I,G,q,fe,ue,he,J,ie,ae,Ae,A,M,$,K,Z,ce,me,le,Ce;const{user:n}=Mr(),{regimenesFiscales:i,usosCFDI:s,metodosPago:o,formasPago:a,productosServicios:l,fetchCatalogos:d}=Sh(),[h,m]=be.useState({}),y={type:"nota_credito",emisor:{rfc:(n==null?void 0:n.rfc)||"",nombre:(n==null?void 0:n.nombre)||"",regimenFiscal:"",codigoPostal:""},receptor:{rfc:"",nombre:"",usoCFDI:""},conceptos:[{id:Qo(),descripcion:"",claveProductoServicio:"",cantidad:0,precioUnitario:0,importe:0,impuestos:[]}],informacionPago:{metodoPago:"",formaPago:"",moneda:"MXN"},timbreFiscalDigital:{},total:0,subtotal:0,totalImpuestos:0,estado:"borrador",fechaEmision:new Date().toISOString(),...e},{register:p,control:S,handleSubmit:_,watch:L,setValue:x,formState:{errors:w,isSubmitting:N}}=ia({defaultValues:y,mode:"onSubmit"}),{fields:R,append:W,remove:X}=Km({control:S,name:"conceptos"}),O=L("conceptos")||[];be.useEffect(()=>{d()},[d]),be.useEffect(()=>{if(!(O!=null&&O.length))return;let ge=0,je=0;O.forEach((Re,_e)=>{const V=Number(Re==null?void 0:Re.cantidad)||0,He=Number(Re==null?void 0:Re.precioUnitario)||0,B=V*He;B!==Number(Re==null?void 0:Re.importe)&&x(`conceptos.${_e}.importe`,B),ge+=B;const H=B*.16,Q=[{tipo:"IVA",tasa:16,importe:H}];x(`conceptos.${_e}.impuestos`,Q),je+=H});const Te=ge+je;x("subtotal",-Math.abs(ge)),x("totalImpuestos",-Math.abs(je)),x("total",-Math.abs(Te))},[O,x]);const E=()=>{W({id:Qo(),descripcion:"",claveProductoServicio:"",cantidad:0,precioUnitario:0,importe:0,impuestos:[]})},Y=ge=>{if(R.length<=1){Ke.warning("Debe haber al menos un concepto");return}X(ge)},ne=ge=>{const{isValid:je,errors:Te}=Zm(ge);if(!je){m(Te),Ke.error("Por favor corrija los errores en el formulario");return}m({}),n&&(ge.userId=n.id),ge.type="nota_credito",t(ge)};return f.jsxs("form",{onSubmit:_(ne),className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx(Et,{title:"Datos del Emisor",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(lt,{label:"RFC",fullWidth:!0,error:h.emisorRfc||((I=(T=w.emisor)==null?void 0:T.rfc)==null?void 0:I.message),...p("emisor.rfc",{required:"El RFC es obligatorio"})}),f.jsx(lt,{label:"Nombre",fullWidth:!0,error:h.emisorNombre||((q=(G=w.emisor)==null?void 0:G.nombre)==null?void 0:q.message),...p("emisor.nombre",{required:"El nombre es obligatorio"})}),f.jsx(Cr,{label:"Rgimen Fiscal",fullWidth:!0,options:i.map(ge=>({value:ge.codigo,label:`${ge.codigo} - ${ge.descripcion}`})),error:h.emisorRegimenFiscal||((ue=(fe=w.emisor)==null?void 0:fe.regimenFiscal)==null?void 0:ue.message),...p("emisor.regimenFiscal",{required:"El rgimen fiscal es obligatorio"})}),f.jsx(lt,{label:"Cdigo Postal",fullWidth:!0,error:h.emisorCodigoPostal||((J=(he=w.emisor)==null?void 0:he.codigoPostal)==null?void 0:J.message),...p("emisor.codigoPostal",{required:"El cdigo postal es obligatorio"})})]})}),f.jsx(Et,{title:"Datos del Receptor",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(lt,{label:"RFC",fullWidth:!0,error:h.receptorRfc||((ae=(ie=w.receptor)==null?void 0:ie.rfc)==null?void 0:ae.message),...p("receptor.rfc",{required:"El RFC es obligatorio"})}),f.jsx(lt,{label:"Nombre",fullWidth:!0,error:h.receptorNombre||((A=(Ae=w.receptor)==null?void 0:Ae.nombre)==null?void 0:A.message),...p("receptor.nombre",{required:"El nombre es obligatorio"})}),f.jsx(Cr,{label:"Uso CFDI",fullWidth:!0,options:s.map(ge=>({value:ge.codigo,label:`${ge.codigo} - ${ge.descripcion}`})),error:h.receptorUsoCFDI||(($=(M=w.receptor)==null?void 0:M.usoCFDI)==null?void 0:$.message),...p("receptor.usoCFDI",{required:"El uso de CFDI es obligatorio"})})]})})]}),f.jsxs(Et,{title:"Conceptos",children:[R.map((ge,je)=>{var Te,Re,_e,V,He,B,H,Q,we,pe,xe,Ie;return f.jsxs("div",{className:"space-y-4 p-4 border rounded-lg mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("h4",{className:"text-lg font-semibold",children:["Concepto ",je+1]}),f.jsx(it,{type:"button",variant:"danger",onClick:()=>Y(je),leftIcon:f.jsx(Su,{className:"w-4 h-4"}),children:"Eliminar"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Cr,{label:"Clave Producto/Servicio",fullWidth:!0,options:l.map(De=>({value:De.codigo,label:`${De.codigo} - ${De.descripcion}`})),error:(_e=(Re=(Te=w.conceptos)==null?void 0:Te[je])==null?void 0:Re.claveProductoServicio)==null?void 0:_e.message,...p(`conceptos.${je}.claveProductoServicio`,{required:"La clave de producto/servicio es obligatoria"})}),f.jsx(lt,{label:"Descripcin",fullWidth:!0,error:(B=(He=(V=w.conceptos)==null?void 0:V[je])==null?void 0:He.descripcion)==null?void 0:B.message,...p(`conceptos.${je}.descripcion`,{required:"La descripcin es obligatoria"})}),f.jsx(lt,{label:"Cantidad",type:"number",min:"0.01",step:"0.01",fullWidth:!0,error:(we=(Q=(H=w.conceptos)==null?void 0:H[je])==null?void 0:Q.cantidad)==null?void 0:we.message,...p(`conceptos.${je}.cantidad`,{required:"La cantidad es obligatoria",valueAsNumber:!0,min:{value:.01,message:"La cantidad debe ser mayor a cero"}})}),f.jsx(lt,{label:"Precio Unitario",type:"number",min:"0.01",step:"0.01",fullWidth:!0,error:(Ie=(xe=(pe=w.conceptos)==null?void 0:pe[je])==null?void 0:xe.precioUnitario)==null?void 0:Ie.message,...p(`conceptos.${je}.precioUnitario`,{required:"El precio unitario es obligatorio",valueAsNumber:!0,min:{value:.01,message:"El precio unitario debe ser mayor a cero"}})})]})]},ge.id)}),f.jsx(it,{type:"button",variant:"secondary",onClick:E,leftIcon:f.jsx(na,{className:"w-4 h-4"}),children:"Agregar Concepto"})]}),f.jsx(Et,{title:"Informacin de Pago",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(Cr,{label:"Mtodo de Pago",fullWidth:!0,options:o.map(ge=>({value:ge.codigo,label:`${ge.codigo} - ${ge.descripcion}`})),error:h.metodoPago||((Z=(K=w.informacionPago)==null?void 0:K.metodoPago)==null?void 0:Z.message),...p("informacionPago.metodoPago",{required:"El mtodo de pago es obligatorio"})}),f.jsx(Cr,{label:"Forma de Pago",fullWidth:!0,options:a.map(ge=>({value:ge.codigo,label:`${ge.codigo} - ${ge.descripcion}`})),error:h.formaPago||((me=(ce=w.informacionPago)==null?void 0:ce.formaPago)==null?void 0:me.message),...p("informacionPago.formaPago",{required:"La forma de pago es obligatoria"})}),f.jsx(Cr,{label:"Moneda",fullWidth:!0,options:[{value:"MXN",label:"Peso Mexicano (MXN)"},{value:"USD",label:"Dlar Americano (USD)"},{value:"EUR",label:"Euro (EUR)"}],error:h.moneda||((Ce=(le=w.informacionPago)==null?void 0:le.moneda)==null?void 0:Ce.message),...p("informacionPago.moneda",{required:"La moneda es obligatoria"})}),L("informacionPago.moneda")!=="MXN"&&f.jsx(lt,{label:"Tipo de Cambio",type:"number",min:"0.01",step:"0.01",fullWidth:!0,...p("informacionPago.tipoCambio",{valueAsNumber:!0,min:{value:.01,message:"El tipo de cambio debe ser mayor a cero"}})})]})}),f.jsx(Et,{title:"Totales",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(lt,{label:"Subtotal",type:"number",readOnly:!0,fullWidth:!0,...p("subtotal",{valueAsNumber:!0})}),f.jsx(lt,{label:"Impuestos",type:"number",readOnly:!0,fullWidth:!0,...p("totalImpuestos",{valueAsNumber:!0})}),f.jsx(lt,{label:"Total",type:"number",readOnly:!0,fullWidth:!0,...p("total",{valueAsNumber:!0})})]})}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx(it,{type:"button",variant:"secondary",onClick:r,leftIcon:f.jsx(Nu,{className:"w-4 h-4"}),children:"Cancelar"}),f.jsx(it,{type:"submit",variant:"primary",disabled:N,leftIcon:f.jsx(Vm,{className:"w-4 h-4"}),children:e?"Guardar Nota de Crdito":"Crear Nota de Crdito"})]})]})},Lk=({initialData:e,onSubmit:t,onCancel:r})=>{var T,I,G,q,fe,ue,he,J,ie,ae,Ae,A,M,$,K,Z,ce,me;const{user:n}=Mr(),{regimenesFiscales:i,usosCFDI:s,metodosPago:o,formasPago:a,productosServicios:l,fetchCatalogos:d}=Sh(),[h,m]=be.useState({}),y={type:"factura_global",emisor:{rfc:(n==null?void 0:n.rfc)||"",nombre:(n==null?void 0:n.nombre)||"",regimenFiscal:"",codigoPostal:""},receptor:{rfc:"XAXX010101000",nombre:"PUBLICO EN GENERAL",usoCFDI:"S01"},conceptos:[{id:Qo(),descripcion:"",claveProductoServicio:"",cantidad:0,precioUnitario:0,importe:0,impuestos:[]}],informacionPago:{metodoPago:"PUE",formaPago:"01",moneda:"MXN"},timbreFiscalDigital:{},total:0,subtotal:0,totalImpuestos:0,estado:"borrador",fechaEmision:new Date().toISOString(),periodoGlobal:{fechaInicio:new Date().toISOString().split("T")[0],fechaFin:new Date().toISOString().split("T")[0]},...e},{register:p,control:S,handleSubmit:_,watch:L,setValue:x,formState:{errors:w,isSubmitting:N}}=ia({defaultValues:y,mode:"onSubmit"}),{fields:R,append:W,remove:X}=Km({control:S,name:"conceptos"}),O=L("conceptos")||[];be.useEffect(()=>{d()},[d]),be.useEffect(()=>{if(!(O!=null&&O.length))return;let le=0,Ce=0;O.forEach((je,Te)=>{const Re=Number(je==null?void 0:je.cantidad)||0,_e=Number(je==null?void 0:je.precioUnitario)||0,V=Re*_e;V!==Number(je==null?void 0:je.importe)&&x(`conceptos.${Te}.importe`,V),le+=V;const He=V*.16,B=[{tipo:"IVA",tasa:16,importe:He}];x(`conceptos.${Te}.impuestos`,B),Ce+=He});const ge=le+Ce;x("subtotal",le),x("totalImpuestos",Ce),x("total",ge)},[O,x]);const E=()=>{W({id:Qo(),descripcion:"",claveProductoServicio:"",cantidad:0,precioUnitario:0,importe:0,impuestos:[]})},Y=le=>{if(R.length<=1){Ke.warning("Debe haber al menos un concepto");return}X(le)},ne=le=>{const{isValid:Ce,errors:ge}=Zm(le);if(!Ce){m(ge),Ke.error("Por favor corrija los errores en el formulario");return}m({}),n&&(le.userId=n.id),le.type="factura_global",t(le)};return f.jsxs("form",{onSubmit:_(ne),className:"space-y-6",children:[f.jsx(Et,{title:"Periodo Global",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(lt,{label:"Fecha Inicio",type:"date",fullWidth:!0,error:h.fechaInicio||((I=(T=w.periodoGlobal)==null?void 0:T.fechaInicio)==null?void 0:I.message),...p("periodoGlobal.fechaInicio",{required:"La fecha de inicio es obligatoria"})}),f.jsx(lt,{label:"Fecha Fin",type:"date",fullWidth:!0,error:h.fechaFin||((q=(G=w.periodoGlobal)==null?void 0:G.fechaFin)==null?void 0:q.message),...p("periodoGlobal.fechaFin",{required:"La fecha fin es obligatoria"})})]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsx(Et,{title:"Datos del Emisor",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(lt,{label:"RFC",fullWidth:!0,error:h.emisorRfc||((ue=(fe=w.emisor)==null?void 0:fe.rfc)==null?void 0:ue.message),...p("emisor.rfc",{required:"El RFC es obligatorio"})}),f.jsx(lt,{label:"Nombre",fullWidth:!0,error:h.emisorNombre||((J=(he=w.emisor)==null?void 0:he.nombre)==null?void 0:J.message),...p("emisor.nombre",{required:"El nombre es obligatorio"})}),f.jsx(Cr,{label:"Rgimen Fiscal",fullWidth:!0,options:i.map(le=>({value:le.codigo,label:`${le.codigo} - ${le.descripcion}`})),error:h.emisorRegimenFiscal||((ae=(ie=w.emisor)==null?void 0:ie.regimenFiscal)==null?void 0:ae.message),...p("emisor.regimenFiscal",{required:"El rgimen fiscal es obligatorio"})}),f.jsx(lt,{label:"Cdigo Postal",fullWidth:!0,error:h.emisorCodigoPostal||((A=(Ae=w.emisor)==null?void 0:Ae.codigoPostal)==null?void 0:A.message),...p("emisor.codigoPostal",{required:"El cdigo postal es obligatorio"})})]})}),f.jsx(Et,{title:"Datos del Receptor",children:f.jsxs("div",{className:"space-y-4",children:[f.jsx(lt,{label:"RFC",fullWidth:!0,disabled:!0,value:"XAXX010101000"}),f.jsx(lt,{label:"Nombre",fullWidth:!0,disabled:!0,value:"PUBLICO EN GENERAL"}),f.jsx(lt,{label:"Uso CFDI",fullWidth:!0,disabled:!0,value:"S01 - Sin efectos fiscales"})]})})]}),f.jsxs(Et,{title:"Conceptos",children:[R.map((le,Ce)=>{var ge,je,Te,Re,_e,V,He,B,H,Q,we,pe;return f.jsxs("div",{className:"space-y-4 p-4 border rounded-lg mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("h4",{className:"text-lg font-semibold",children:["Concepto ",Ce+1]}),f.jsx(it,{type:"button",variant:"danger",onClick:()=>Y(Ce),leftIcon:f.jsx(Su,{className:"w-4 h-4"}),children:"Eliminar"})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsx(Cr,{label:"Clave Producto/Servicio",fullWidth:!0,options:l.map(xe=>({value:xe.codigo,label:`${xe.codigo} - ${xe.descripcion}`})),error:(Te=(je=(ge=w.conceptos)==null?void 0:ge[Ce])==null?void 0:je.claveProductoServicio)==null?void 0:Te.message,...p(`conceptos.${Ce}.claveProductoServicio`,{required:"La clave de producto/servicio es obligatoria"})}),f.jsx(lt,{label:"Descripcin",fullWidth:!0,error:(V=(_e=(Re=w.conceptos)==null?void 0:Re[Ce])==null?void 0:_e.descripcion)==null?void 0:V.message,...p(`conceptos.${Ce}.descripcion`,{required:"La descripcin es obligatoria"})}),f.jsx(lt,{label:"Cantidad",type:"number",min:"0.01",step:"0.01",fullWidth:!0,error:(H=(B=(He=w.conceptos)==null?void 0:He[Ce])==null?void 0:B.cantidad)==null?void 0:H.message,...p(`conceptos.${Ce}.cantidad`,{required:"La cantidad es obligatoria",valueAsNumber:!0,min:{value:.01,message:"La cantidad debe ser mayor a cero"}})}),f.jsx(lt,{label:"Precio Unitario",type:"number",min:"0.01",step:"0.01",fullWidth:!0,error:(pe=(we=(Q=w.conceptos)==null?void 0:Q[Ce])==null?void 0:we.precioUnitario)==null?void 0:pe.message,...p(`conceptos.${Ce}.precioUnitario`,{required:"El precio unitario es obligatorio",valueAsNumber:!0,min:{value:.01,message:"El precio unitario debe ser mayor a cero"}})})]})]},le.id)}),f.jsx(it,{type:"button",variant:"secondary",onClick:E,leftIcon:f.jsx(na,{className:"w-4 h-4"}),children:"Agregar Concepto"})]}),f.jsx(Et,{title:"Informacin de Pago",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(Cr,{label:"Mtodo de Pago",fullWidth:!0,options:o.map(le=>({value:le.codigo,label:`${le.codigo} - ${le.descripcion}`})),error:h.metodoPago||(($=(M=w.informacionPago)==null?void 0:M.metodoPago)==null?void 0:$.message),...p("informacionPago.metodoPago",{required:"El mtodo de pago es obligatorio"})}),f.jsx(Cr,{label:"Forma de Pago",fullWidth:!0,options:a.map(le=>({value:le.codigo,label:`${le.codigo} - ${le.descripcion}`})),error:h.formaPago||((Z=(K=w.informacionPago)==null?void 0:K.formaPago)==null?void 0:Z.message),...p("informacionPago.formaPago",{required:"La forma de pago es obligatoria"})}),f.jsx(Cr,{label:"Moneda",fullWidth:!0,options:[{value:"MXN",label:"Peso Mexicano (MXN)"}],disabled:!0,error:h.moneda||((me=(ce=w.informacionPago)==null?void 0:ce.moneda)==null?void 0:me.message),...p("informacionPago.moneda")})]})}),f.jsx(Et,{title:"Totales",children:f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsx(lt,{label:"Subtotal",type:"number",readOnly:!0,fullWidth:!0,...p("subtotal",{valueAsNumber:!0})}),f.jsx(lt,{label:"Impuestos",type:"number",readOnly:!0,fullWidth:!0,...p("totalImpuestos",{valueAsNumber:!0})}),f.jsx(lt,{label:"Total",type:"number",readOnly:!0,fullWidth:!0,...p("total",{valueAsNumber:!0})})]})}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx(it,{type:"button",variant:"secondary",onClick:r,leftIcon:f.jsx(Nu,{className:"w-4 h-4"}),children:"Cancelar"}),f.jsx(it,{type:"submit",variant:"primary",disabled:N,leftIcon:f.jsx(Vm,{className:"w-4 h-4"}),children:e?"Guardar Factura Global":"Crear Factura Global"})]})]})},za=({defaultType:e="factura"})=>{const t=Zr(),{id:r}=dh(),{addCFDI:n,updateCFDI:i,getCFDIById:s}=yo(),o=r?s(r):void 0,a=(o==null?void 0:o.type)||e,l=async m=>{try{switch(r?(await i(r,m),Ke.success("CFDI actualizado correctamente")):(await n(m),Ke.success("CFDI creado correctamente")),a){case"nota_credito":t("/notas-credito");break;case"factura_global":t("/facturas-globales");break;default:t("/facturas");break}}catch(y){Ke.error("Error al guardar el CFDI"),console.error(y)}},d=()=>{switch(a){case"nota_credito":t("/notas-credito");break;case"factura_global":t("/facturas-globales");break;default:t("/facturas");break}},h=()=>{switch(a){case"nota_credito":return f.jsx(Ak,{initialData:o,onSubmit:l,onCancel:d});case"factura_global":return f.jsx(Lk,{initialData:o,onSubmit:l,onCancel:d});default:return f.jsx(kk,{initialData:o,onSubmit:l,onCancel:d})}};return f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsxs("h1",{className:"text-2xl font-bold mb-6",children:[r?"Editar ":"Nueva ",a==="nota_credito"?"Nota de Crdito":a==="factura_global"?"Factura Global":"Factura"]}),h()]})},Pk=()=>{const[e,t]=be.useState([]),[r,n]=be.useState(!0),[i,s]=be.useState(null),[o,a]=be.useState(!1),[l,d]=be.useState(!1),[h,m]=be.useState("user");be.useEffect(()=>{y()},[]);const y=async()=>{try{n(!0);const{data:w,error:N}=await ht.from("users").select("*").order("created_at",{ascending:!1});if(N)throw N;t(w)}catch(w){Ke.error(`Error al cargar usuarios: ${w.message}`)}finally{n(!1)}},p=w=>{s(w),a(!0)},S=w=>{s(w),m(w.role==="admin"?"user":"admin"),d(!0)},_=async()=>{if(i)try{const{error:w}=await ht.auth.admin.deleteUser(i.id);if(w)throw w;const{error:N}=await ht.from("users").delete().eq("id",i.id);if(N)throw N;Ke.success("Usuario eliminado correctamente"),t(e.filter(R=>R.id!==i.id))}catch(w){Ke.error(`Error al eliminar usuario: ${w.message}`)}finally{a(!1),s(null)}},L=async()=>{if(i)try{const{error:w}=await ht.from("users").update({role:h}).eq("id",i.id);if(w)throw w;Ke.success(`Rol actualizado a ${h}`),t(e.map(N=>N.id===i.id?{...N,role:h}:N))}catch(w){Ke.error(`Error al actualizar rol: ${w.message}`)}finally{d(!1),s(null)}},x=[{header:"Email",accessor:"email"},{header:"Rol",accessor:w=>f.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${w.role==="admin"?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:w.role==="admin"?"Administrador":"Usuario"})},{header:"Fecha de Registro",accessor:w=>new Date(w.created_at).toLocaleDateString()},{header:"Acciones",accessor:w=>f.jsxs("div",{className:"flex space-x-2 justify-end",children:[f.jsx(it,{variant:"outline",size:"sm",onClick:N=>{N.stopPropagation(),S(w)},leftIcon:f.jsx(IN,{size:16}),children:"Cambiar Rol"}),f.jsx(it,{variant:"danger",size:"sm",onClick:N=>{N.stopPropagation(),p(w)},leftIcon:f.jsx(Su,{size:16}),children:"Eliminar"})]}),className:"w-auto"}];return f.jsxs(Et,{title:"Gestin de Usuarios",children:[f.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[f.jsx("h2",{className:"text-lg font-medium",children:"Usuarios Registrados"}),f.jsx(it,{variant:"primary",leftIcon:f.jsx(FN,{size:18}),onClick:()=>{},children:"Nuevo Usuario"})]}),f.jsx(Nx,{columns:x,data:e,keyExtractor:w=>w.id,isLoading:r,emptyMessage:"No hay usuarios registrados"}),f.jsxs(pu,{isOpen:o,onClose:()=>a(!1),title:"Confirmar Eliminacin",footer:f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx(it,{variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),f.jsx(it,{variant:"danger",onClick:_,children:"Eliminar"})]}),children:[f.jsxs("p",{children:["Est seguro que desea eliminar al usuario ",i==null?void 0:i.email,"?"]}),f.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Esta accin no se puede deshacer y eliminar todos los datos asociados a este usuario."})]}),f.jsxs(pu,{isOpen:l,onClose:()=>d(!1),title:"Cambiar Rol de Usuario",footer:f.jsxs("div",{className:"flex justify-end space-x-3",children:[f.jsx(it,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),f.jsx(it,{variant:"primary",onClick:L,children:"Guardar Cambios"})]}),children:[f.jsxs("p",{children:["Cambiar el rol de ",f.jsx("strong",{children:i==null?void 0:i.email})," a:"]}),f.jsxs("div",{className:"mt-4 space-y-2",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"radio",id:"role-user",name:"role",value:"user",checked:h==="user",onChange:()=>m("user"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),f.jsx("label",{htmlFor:"role-user",className:"ml-2 block text-sm text-gray-900",children:"Usuario"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("input",{type:"radio",id:"role-admin",name:"role",value:"admin",checked:h==="admin",onChange:()=>m("admin"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),f.jsx("label",{htmlFor:"role-admin",className:"ml-2 block text-sm text-gray-900",children:"Administrador"})]})]}),f.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Los administradores tienen acceso a todas las funciones de la aplicacin, incluyendo la gestin de usuarios."})]})]})},Ck=()=>{const{user:e}=Mr(),t=Zr();return be.useEffect(()=>{if(!e){t("/login");return}if(e.role!=="admin"){t("/dashboard");return}},[e,t]),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Panel de Administracin"}),f.jsx("p",{className:"text-gray-600",children:"Gestiona usuarios y configuraciones del sistema"})]}),f.jsx(Pk,{})]})},Ek=()=>{const{user:e}=Mr(),{cfdis:t,loading:r,fetchCFDIs:n}=yo(),i=Zr();be.useEffect(()=>{if(!e){i("/login");return}n()},[e,i,n]);const s=()=>{i("/notas-credito/nueva")},o=t.filter(a=>a.type==="nota_credito");return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notas de crdito"}),f.jsx("p",{className:"text-gray-600",children:"Gestiona tus notas de crdito"})]}),f.jsx(it,{onClick:s,leftIcon:f.jsx(na,{size:18}),children:"Nueva Nota de Crdito"})]}),f.jsx(eg,{cfdis:o,isLoading:r,editPath:"/notas-credito/editar",viewPath:"/notas-credito"})]})},Ik=()=>{const{cfdis:e,loading:t,error:r,fetchCFDIs:n}=yo();be.useEffect(()=>{n()},[n]);const i=e.filter(s=>s.type==="factura_global");return r&&Ke.error(r),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Facturas Globales"}),f.jsx("p",{className:"text-gray-600",children:"Administra tus facturas globales"})]}),f.jsx(lu,{to:"/facturas-globales/nueva",children:f.jsx(it,{variant:"primary",leftIcon:f.jsx(na,{className:"w-4 h-4"}),children:"Nueva Factura Global"})})]}),f.jsx(eg,{cfdis:i,isLoading:t,editPath:"/facturas-globales/editar",viewPath:"/facturas-globales"})]})},g0={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFmemN4ZXpkbmhjc3V0anRncXpmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA3NTA4NzEsImV4cCI6MjA1NjMyNjg3MX0.nSktJQyhcOEDU9R8xMUs7xpoZqk8V0UTb_avyejSIrc",VITE_SUPABASE_URL:"https://afzcxezdnhcsutjtgqzf.supabase.co"},$1=new Map,Wd=e=>{const t=$1.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([r,n])=>[r,n.getState()])):{}},Fk=(e,t,r)=>{if(e===void 0)return{type:"untracked",connection:t.connect(r)};const n=$1.get(r.name);if(n)return{type:"tracked",store:e,...n};const i={connection:t.connect(r),stores:{}};return $1.set(r.name,i),{type:"tracked",store:e,...i}},Tk=(e,t={})=>(r,n,i)=>{const{enabled:s,anonymousActionType:o,store:a,...l}=t;let d;try{d=(s??(g0?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!d)return(g0?"production":void 0)!=="production"&&s&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(r,n,i);const{connection:h,...m}=Fk(a,d,l);let y=!0;i.setState=(_,L,x)=>{const w=r(_,L);if(!y)return w;const N=x===void 0?{type:o||"anonymous"}:typeof x=="string"?{type:x}:x;return a===void 0?(h==null||h.send(N,n()),w):(h==null||h.send({...N,type:`${a}/${N.type}`},{...Wd(l.name),[a]:i.getState()}),w)};const p=(..._)=>{const L=y;y=!1,r(..._),y=L},S=e(i.setState,n,i);if(m.type==="untracked"?h==null||h.init(S):(m.stores[m.store]=i,h==null||h.init(Object.fromEntries(Object.entries(m.stores).map(([_,L])=>[_,_===m.store?S:L.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let _=!1;const L=i.dispatch;i.dispatch=(...x)=>{(g0?"production":void 0)!=="production"&&x[0].type==="__setState"&&!_&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),_=!0),L(...x)}}return h.subscribe(_=>{var L;switch(_.type){case"ACTION":if(typeof _.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return v0(_.payload,x=>{if(x.type==="__setState"){if(a===void 0){p(x.state);return}Object.keys(x.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const w=x.state[a];if(w==null)return;JSON.stringify(i.getState())!==JSON.stringify(w)&&p(w);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(x)});case"DISPATCH":switch(_.payload.type){case"RESET":return p(S),a===void 0?h==null?void 0:h.init(i.getState()):h==null?void 0:h.init(Wd(l.name));case"COMMIT":if(a===void 0){h==null||h.init(i.getState());return}return h==null?void 0:h.init(Wd(l.name));case"ROLLBACK":return v0(_.state,x=>{if(a===void 0){p(x),h==null||h.init(i.getState());return}p(x[a]),h==null||h.init(Wd(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return v0(_.state,x=>{if(a===void 0){p(x);return}JSON.stringify(i.getState())!==JSON.stringify(x[a])&&p(x[a])});case"IMPORT_STATE":{const{nextLiftedState:x}=_.payload,w=(L=x.computedStates.slice(-1)[0])==null?void 0:L.state;if(!w)return;p(a===void 0?w:w[a]),h==null||h.send(null,x);return}case"PAUSE_RECORDING":return y=!y}return}}),S},Ok=Tk,v0=(e,t)=>{let r;try{r=JSON.parse(e)}catch(n){console.error("[zustand devtools middleware] Could not parse the received json",n)}r!==void 0&&t(r)},jx=xu()(Ok((e,t)=>({productos:[],loading:!1,error:null,fetchProductos:async()=>{try{e({loading:!0,error:null});const{data:r}=await ht.auth.getUser();if(!r.user)throw new Error("Usuario no autenticado");const{data:n,error:i}=await ht.from("productos").select("*").eq("user_id",r.user.id).order("created_at",{ascending:!1});if(i)throw i;e({productos:n||[],loading:!1})}catch(r){console.error("Error fetching productos:",r),e({error:"Error al cargar los productos",loading:!1})}},addProducto:async r=>{var n,i,s;try{e({loading:!0,error:null});const{data:o}=await ht.auth.getUser();if(!o.user)throw new Error("Usuario no autenticado");const a={...r,impuestos_federales:{iva:((n=r.impuestos_federales)==null?void 0:n.iva)||{tasa:.16,tipo:"traslado"},ieps:((i=r.impuestos_federales)==null?void 0:i.ieps)||{tasa:0,cuota:0,tipo:"traslado"},isr:((s=r.impuestos_federales)==null?void 0:s.isr)||{tasa:0,tipo:"retencion"}},impuestos_locales:r.impuestos_locales||[],user_id:o.user.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:l,error:d}=await ht.from("productos").insert([a]).select().single();if(d)throw d;e(h=>({productos:[l,...h.productos],loading:!1}))}catch(o){throw console.error("Error adding producto:",o),e({error:"Error al crear el producto",loading:!1}),o}},updateProducto:async(r,n)=>{var i,s,o;try{e({loading:!0,error:null});const{data:a}=await ht.auth.getUser();if(!a.user)throw new Error("Usuario no autenticado");const l={...n,impuestos_federales:{iva:((i=n.impuestos_federales)==null?void 0:i.iva)||{tasa:.16,tipo:"traslado"},ieps:((s=n.impuestos_federales)==null?void 0:s.ieps)||{tasa:0,cuota:0,tipo:"traslado"},isr:((o=n.impuestos_federales)==null?void 0:o.isr)||{tasa:0,tipo:"retencion"}},impuestos_locales:n.impuestos_locales||[],updated_at:new Date().toISOString()},{data:d,error:h}=await ht.from("productos").update(l).eq("id",r).eq("user_id",a.user.id).select().single();if(h)throw h;e(m=>({productos:m.productos.map(y=>y.id===r?d:y),loading:!1}))}catch(a){throw console.error("Error updating producto:",a),e({error:"Error al actualizar el producto",loading:!1}),a}},deleteProducto:async r=>{try{e({loading:!0,error:null});const{data:n}=await ht.auth.getUser();if(!n.user)throw new Error("Usuario no autenticado");const{error:i}=await ht.from("productos").delete().eq("id",r).eq("user_id",n.user.id);if(i)throw i;e(s=>({productos:s.productos.filter(o=>o.id!==r),loading:!1}))}catch(n){throw console.error("Error deleting producto:",n),e({error:"Error al eliminar el producto",loading:!1}),n}},getProductoById:r=>t().productos.find(n=>n.id===r),searchProductos:r=>{const n=t().productos,i=r.toLowerCase();return n.filter(s=>{var o;return s.nombre_interno.toLowerCase().includes(i)||((o=s.codigo_interno)==null?void 0:o.toLowerCase().includes(i))||s.descripcion.toLowerCase().includes(i)||s.clave_producto_servicio.toLowerCase().includes(i)})}}))),Dk=()=>{const e=Zr(),{productos:t,loading:r,error:n,fetchProductos:i,deleteProducto:s,searchProductos:o}=jx(),[a,l]=be.useState("");be.useEffect(()=>{i()},[i]);const d=y=>{l(y.target.value)},h=a?o(a):t,m=async y=>{if(window.confirm("Ests seguro de eliminar este producto?"))try{await s(y),Ke.success("Producto eliminado correctamente")}catch{Ke.error("Error al eliminar el producto")}};return n?f.jsx("div",{className:"container mx-auto px-4 py-8",children:f.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),f.jsx("div",{className:"ml-3",children:f.jsx("p",{className:"text-sm text-red-700",children:"Error al cargar los productos. Por favor, intenta de nuevo ms tarde."})})]})})}):f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold",children:"Catlogo de Productos"}),f.jsx("button",{onClick:()=>e("/productos/nuevo"),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Nuevo Producto"})]}),f.jsx("div",{className:"mb-6",children:f.jsx("input",{type:"text",placeholder:"Buscar productos...",value:a,onChange:d,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})}),f.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:r?f.jsx("div",{className:"p-4 text-center text-gray-500",children:"Cargando productos..."}):f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nombre"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cdigo"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Clave SAT"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),f.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),f.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[h.map(y=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[f.jsx("div",{className:"text-sm font-medium text-gray-900",children:y.nombre_interno}),f.jsx("div",{className:"text-sm text-gray-500",children:y.descripcion})]}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.codigo_interno||"-"}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:y.clave_producto_servicio}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",y.precio_unitario.toFixed(2)]}),f.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[f.jsx("button",{onClick:()=>e(`/productos/editar/${y.id}`),className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Editar"}),f.jsx("button",{onClick:()=>m(y.id),className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})]},y.id)),h.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500",children:"No se encontraron productos"})})]})]})})]})},Rk=({initialData:e,onSubmit:t,onCancel:r})=>{const{register:n,handleSubmit:i,watch:s,formState:{errors:o}}=ia({defaultValues:e||{nombre_interno:"",codigo_interno:"",descripcion:"",precio_unitario:0,clave_producto_servicio:"",unidad:"",objeto_impuesto:"",cuenta_predial:"",numero_pedimento:"",impuestos_federales:{iva:{tasa:.16,tipo:"traslado"},ieps:{tasa:0,cuota:0,tipo:"traslado"},isr:{tasa:0,tipo:"retencion"}},impuestos_locales:[]}}),l=s("objeto_impuesto")==="02";return f.jsxs("form",{onSubmit:i(t),className:"space-y-8",children:[f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Datos bsicos"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre Interno"}),f.jsx("input",{type:"text",...n("nombre_interno",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500  focus:border-indigo-500 focus:ring-indigo-500"}),o.nombre_interno&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.nombre_interno.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cdigo Interno"}),f.jsx("input",{type:"text",...n("codigo_interno"),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Descripcin"}),f.jsx("textarea",{...n("descripcion",{required:"Este campo es requerido"}),rows:3,className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),o.descripcion&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.descripcion.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Precio Unitario"}),f.jsx("input",{type:"number",step:"0.01",...n("precio_unitario",{required:"Este campo es requerido",min:{value:0,message:"El precio debe ser mayor a 0"}}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),o.precio_unitario&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.precio_unitario.message})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Datos SAT"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Clave Producto/Servicio SAT"}),f.jsx("input",{type:"text",...n("clave_producto_servicio",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),o.clave_producto_servicio&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.clave_producto_servicio.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Unidad"}),f.jsx("input",{type:"text",...n("unidad",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),o.unidad&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.unidad.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Objeto de Impuesto"}),f.jsxs("select",{...n("objeto_impuesto",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500",children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"01",children:"01 - No objeto de impuesto"}),f.jsx("option",{value:"02",children:"02 - S objeto de impuesto"}),f.jsx("option",{value:"03",children:"03 - S objeto del impuesto y no obligado al desglose"})]}),o.objeto_impuesto&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.objeto_impuesto.message})]})]})]}),l&&f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Impuestos Federales"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"IVA"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo"}),f.jsxs("select",{...n("impuestos_federales.iva.tipo"),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500",children:[f.jsx("option",{value:"traslado",children:"Traslado"}),f.jsx("option",{value:"retencion",children:"Retencin"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tasa"}),f.jsx("input",{type:"number",step:"0.01",...n("impuestos_federales.iva.tasa"),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"})]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"IEPS"}),f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo"}),f.jsxs("select",{...n("impuestos_federales.ieps.tipo"),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500",children:[f.jsx("option",{value:"traslado",children:"Traslado"}),f.jsx("option",{value:"retencion",children:"Retencin"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tasa"}),f.jsx("input",{type:"number",step:"0.01",...n("impuestos_federales.ieps.tasa"),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cuota"}),f.jsx("input",{type:"number",step:"0.01",...n("impuestos_federales.ieps.cuota"),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"})]})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"ISR"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo"}),f.jsxs("select",{...n("impuestos_federales.isr.tipo"),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500",children:[f.jsx("option",{value:"traslado",children:"Traslado"}),f.jsx("option",{value:"retencion",children:"Retencin"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tasa"}),f.jsx("input",{type:"number",step:"0.01",...n("impuestos_federales.isr.tasa"),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"})]})]})]})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[f.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Datos Opcionales"}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cuenta Predial"}),f.jsx("input",{type:"text",...n("cuenta_predial"),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nmero de Pedimento"}),f.jsx("input",{type:"text",...n("numero_pedimento"),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"})]})]})]}),f.jsxs("div",{className:"flex justify-end space-x-4",children:[f.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancelar"}),f.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Guardar"})]})]})},U5=()=>{var m,y,p;const e=Zr(),{id:t}=dh(),{addProducto:r,updateProducto:n,getProductoById:i,loading:s,error:o}=jx(),a=t?i(t):void 0;be.useEffect(()=>{t&&!a&&(Ke.error("Producto no encontrado"),e("/productos"))},[t,a,e]);const l=async S=>{var _,L,x;try{const w={...S,impuestos_federales:{iva:((_=S.impuestos_federales)==null?void 0:_.iva)||{tasa:.16,tipo:"traslado"},ieps:((L=S.impuestos_federales)==null?void 0:L.ieps)||{tasa:0,cuota:0,tipo:"traslado"},isr:((x=S.impuestos_federales)==null?void 0:x.isr)||{tasa:0,tipo:"retencion"}},impuestos_locales:S.impuestos_locales||[]};t?(await n(t,w),Ke.success("Producto actualizado correctamente")):(await r(w),Ke.success("Producto creado correctamente")),e("/productos")}catch(w){console.error("Error:",w),Ke.error("Error al guardar el producto")}},d=()=>{e("/productos")};if(s)return f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx("div",{className:"text-lg text-gray-600",children:"Cargando..."})});if(o)return f.jsx("div",{className:"flex items-center justify-center min-h-screen",children:f.jsx("div",{className:"text-lg text-red-600",children:o})});const h=a?{...a,impuestos_federales:{iva:((m=a.impuestos_federales)==null?void 0:m.iva)||{tasa:.16,tipo:"traslado"},ieps:((y=a.impuestos_federales)==null?void 0:y.ieps)||{tasa:0,cuota:0,tipo:"traslado"},isr:((p=a.impuestos_federales)==null?void 0:p.isr)||{tasa:0,tipo:"retencion"}},impuestos_locales:a.impuestos_locales||[]}:void 0;return f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsx("h1",{className:"text-2xl font-bold mb-6",children:t?"Editar Producto":"Nuevo Producto"}),f.jsx(Rk,{initialData:h,onSubmit:l,onCancel:d})]})},kx=xu((e,t)=>({clientes:[],loading:!1,error:null,selectedCliente:null,fetchClientes:async()=>{e({loading:!0,error:null});try{const{data:r,error:n}=await ht.from("clientes").select("*").order("created_at",{ascending:!1});if(n)throw n;e({clientes:r})}catch(r){e({error:r.message})}finally{e({loading:!1})}},addCliente:async r=>{e({loading:!0,error:null});try{const n=await ht.auth.getUser();if(!n.data.user)throw new Error("No user logged in");const{data:i,error:s}=await ht.from("clientes").insert([{...r,user_id:n.data.user.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(s)throw s;return e(o=>({clientes:[i,...o.clientes]})),i}catch(n){return e({error:n.message}),null}finally{e({loading:!1})}},updateCliente:async(r,n)=>{e({loading:!0,error:null});try{const{error:i}=await ht.from("clientes").update({...n,updated_at:new Date().toISOString()}).eq("id",r);if(i)throw i;e(s=>({clientes:s.clientes.map(o=>o.id===r?{...o,...n}:o)}))}catch(i){e({error:i.message})}finally{e({loading:!1})}},deleteCliente:async r=>{e({loading:!0,error:null});try{const{error:n}=await ht.from("clientes").delete().eq("id",r);if(n)throw n;e(i=>({clientes:i.clientes.filter(s=>s.id!==r)}))}catch(n){e({error:n.message})}finally{e({loading:!1})}},getCliente:async r=>{e({loading:!0,error:null});try{const{data:n,error:i}=await ht.from("clientes").select("*").eq("id",r).single();if(i)throw i;e({selectedCliente:n})}catch(n){e({error:n.message})}finally{e({loading:!1})}}}));function Mk({title:e,titleId:t,...r},n){return be.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?be.createElement("title",{id:t},e):null,be.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Bk=be.forwardRef(Mk);function Uk(){const{clientes:e,loading:t,error:r,fetchClientes:n,deleteCliente:i}=kx();return be.useEffect(()=>{n()},[n]),t?f.jsx("div",{children:"Cargando..."}):r?f.jsxs("div",{children:["Error: ",r]}):f.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[f.jsxs("div",{className:"sm:flex sm:items-center",children:[f.jsxs("div",{className:"sm:flex-auto",children:[f.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Clientes"}),f.jsx("p",{className:"mt-2 text-sm text-gray-700",children:"Lista de todos los clientes registrados"})]}),f.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:f.jsxs(lu,{to:"/clientes/nuevo",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto",children:[f.jsx(Bk,{className:"-ml-1 mr-2 h-5 w-5"}),"Nuevo Cliente"]})})]}),f.jsx("div",{className:"mt-8 flex flex-col",children:f.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:f.jsx("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:f.jsx("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-300",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"RFC"}),f.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Razn Social"}),f.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Correo Electrnico"}),f.jsx("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Rgimen Fiscal"}),f.jsx("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:f.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),f.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:e.map(s=>f.jsxs("tr",{children:[f.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:s.rfc}),f.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:s.razon_social}),f.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:s.correo_electronico}),f.jsx("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:s.regimen_fiscal}),f.jsxs("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[f.jsx(lu,{to:`/clientes/editar/${s.id}`,className:"text-indigo-600 hover:text-indigo-900 mr-4",children:"Editar"}),f.jsx("button",{onClick:()=>{window.confirm("Ests seguro de eliminar este cliente?")&&i(s.id)},className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})]},s.id))})]})})})})})]})}function $k({initialData:e,onSubmit:t,isLoading:r}){const{register:n,handleSubmit:i,formState:{errors:s}}=ia({defaultValues:e});return f.jsxs("form",{onSubmit:i(t),className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"RFC"}),f.jsx("input",{type:"text",...n("rfc",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),s.rfc&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.rfc.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Razn Social"}),f.jsx("input",{type:"text",...n("razon_social",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),s.razon_social&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.razon_social.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tipo de Persona"}),f.jsxs("select",{...n("tipo_persona",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500",children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"fisica",children:"Fsica"}),f.jsx("option",{value:"moral",children:"Moral"})]}),s.tipo_persona&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.tipo_persona.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Cdigo Postal"}),f.jsx("input",{type:"text",...n("codigo_postal",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),s.codigo_postal&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.codigo_postal.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado"}),f.jsx("input",{type:"text",...n("estado",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),s.estado&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.estado.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Municipio"}),f.jsx("input",{type:"text",...n("municipio",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),s.municipio&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.municipio.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Calle"}),f.jsx("input",{type:"text",...n("calle",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),s.calle&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.calle.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Colonia"}),f.jsx("input",{type:"text",...n("colonia",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),s.colonia&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.colonia.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nmero"}),f.jsx("input",{type:"text",...n("numero",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),s.numero&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.numero.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nmero Interior"}),f.jsx("input",{type:"text",...n("numero_interior"),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Rgimen Fiscal"}),f.jsxs("select",{...n("regimen_fiscal",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500",children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"601",children:"601 - General de Ley Personas Morales"}),f.jsx("option",{value:"603",children:"603 - Personas Morales con Fines no Lucrativos"}),f.jsx("option",{value:"605",children:"605 - Sueldos y Salarios e Ingresos Asimilados a Salarios"}),f.jsx("option",{value:"606",children:"606 - Arrendamiento"}),f.jsx("option",{value:"608",children:"608 - Dems ingresos"}),f.jsx("option",{value:"609",children:"609 - Consolidacin"}),f.jsx("option",{value:"610",children:"610 - Residentes en el Extranjero sin Establecimiento Permanente en Mxico"}),f.jsx("option",{value:"611",children:"611 - Ingresos por Dividendos (socios y accionistas)"}),f.jsx("option",{value:"612",children:"612 - Personas Fsicas con Actividades Empresariales y Profesionales"}),f.jsx("option",{value:"614",children:"614 - Ingresos por intereses"}),f.jsx("option",{value:"616",children:"616 - Sin obligaciones fiscales"}),f.jsx("option",{value:"620",children:"620 - Sociedades Cooperativas de Produccin que optan por diferir sus ingresos"}),f.jsx("option",{value:"621",children:"621 - Incorporacin Fiscal"}),f.jsx("option",{value:"622",children:"622 - Actividades Agrcolas, Ganaderas, Silvcolas y Pesqueras"}),f.jsx("option",{value:"623",children:"623 - Opcional para Grupos de Sociedades"}),f.jsx("option",{value:"624",children:"624 - Coordinados"}),f.jsx("option",{value:"625",children:"625 - Rgimen de las Actividades Empresariales con ingresos a travs de Plataformas Tecnolgicas"}),f.jsx("option",{value:"626",children:"626 - Rgimen Simplificado de Confianza"})]}),s.regimen_fiscal&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.regimen_fiscal.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Uso del CFDI"}),f.jsxs("select",{...n("uso_cfdi",{required:"Este campo es requerido"}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500",children:[f.jsx("option",{value:"",children:"Seleccionar..."}),f.jsx("option",{value:"G01",children:"G01 - Adquisicin de mercancas"}),f.jsx("option",{value:"G02",children:"G02 - Devoluciones, descuentos o bonificaciones"}),f.jsx("option",{value:"G03",children:"G03 - Gastos en general"}),f.jsx("option",{value:"I01",children:"I01 - Construcciones"}),f.jsx("option",{value:"I02",children:"I02 - Mobiliario y equipo de oficina"}),f.jsx("option",{value:"I03",children:"I03 - Equipo de transporte"}),f.jsx("option",{value:"I04",children:"I04 - Equipo de cmputo"}),f.jsx("option",{value:"I05",children:"I05 - Dados, troqueles, moldes, matrices y herramental"}),f.jsx("option",{value:"I06",children:"I06 - Comunicaciones telefnicas"}),f.jsx("option",{value:"I07",children:"I07 - Comunicaciones satelitales"}),f.jsx("option",{value:"I08",children:"I08 - Otra maquinaria y equipo"}),f.jsx("option",{value:"D01",children:"D01 - Honorarios mdicos, dentales y gastos hospitalarios"}),f.jsx("option",{value:"D02",children:"D02 - Gastos mdicos por incapacidad o discapacidad"}),f.jsx("option",{value:"D03",children:"D03 - Gastos funerales"}),f.jsx("option",{value:"D04",children:"D04 - Donativos"}),f.jsx("option",{value:"D05",children:"D05 - Intereses reales efectivamente pagados por crditos hipotecarios"}),f.jsx("option",{value:"D06",children:"D06 - Aportaciones voluntarias al SAR"}),f.jsx("option",{value:"D07",children:"D07 - Primas por seguros de gastos mdicos"}),f.jsx("option",{value:"D08",children:"D08 - Gastos de transportacin escolar obligatoria"}),f.jsx("option",{value:"D09",children:"D09 - Depsitos en cuentas para el ahorro"}),f.jsx("option",{value:"D10",children:"D10 - Pagos por servicios educativos"}),f.jsx("option",{value:"P01",children:"P01 - Por definir"}),f.jsx("option",{value:"S01",children:"S01 - Sin efectos fiscales"}),f.jsx("option",{value:"CP01",children:"CP01 - Pagos"}),f.jsx("option",{value:"CN01",children:"CN01 - Nmina"})]}),s.uso_cfdi&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.uso_cfdi.message})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Correo Electrnico"}),f.jsx("input",{type:"email",...n("correo_electronico",{required:"Este campo es requerido",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Correo electrnico invlido"}}),className:"mt-1 block w-full rounded-md border-gray-500 focus:border-indigo-500 focus:ring-indigo-500"}),s.correo_electronico&&f.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.correo_electronico.message})]})]}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{type:"submit",disabled:r,className:"inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50",children:r?"Guardando...":"Guardar"})})]})}function $5(){const e=Zr(),{id:t}=dh(),{selectedCliente:r,loading:n,error:i,addCliente:s,updateCliente:o,getCliente:a}=kx();be.useEffect(()=>{t&&a(t)},[t,a]);const l=async d=>{try{t?await o(t,d):await s(d),e("/clientes")}catch(h){console.error("Error:",h)}};return t&&n?f.jsx("div",{children:"Cargando..."}):t&&i?f.jsxs("div",{children:["Error: ",i]}):f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"py-6",children:[f.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:t?"Editar Cliente":"Nuevo Cliente"}),f.jsx("div",{className:"mt-6",children:f.jsx($k,{initialData:t?r:void 0,onSubmit:l,isLoading:n})})]})})}NN();const xr=({children:e})=>{const{user:t,loading:r}=Mr();return r?f.jsx("div",{className:"flex justify-center items-center h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):t?f.jsx(f.Fragment,{children:e}):f.jsx(Mm,{to:"/login"})},zk=({children:e})=>{const{user:t,loading:r}=Mr();return r?f.jsx("div",{className:"flex justify-center items-center h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):!t||t.role!=="admin"?f.jsx(Mm,{to:"/dashboard"}):f.jsx(f.Fragment,{children:e})};function qk(){return f.jsx(R_,{children:f.jsxs(P_,{children:[f.jsx(Ut,{path:"/login",element:f.jsx(vj,{})}),f.jsx(Ut,{path:"/register",element:f.jsx(wj,{})}),f.jsxs(Ut,{path:"/",element:f.jsx(xr,{children:f.jsx(JN,{})}),children:[f.jsx(Ut,{index:!0,element:f.jsx(kj,{})}),f.jsx(Ut,{path:"facturas",element:f.jsx(xr,{children:f.jsx(Nk,{})})}),f.jsx(Ut,{path:"facturas/nueva",element:f.jsx(xr,{children:f.jsx(za,{defaultType:"factura"},"nueva-factura")})}),f.jsx(Ut,{path:"facturas/editar/:id",element:f.jsx(xr,{children:f.jsx(za,{defaultType:"factura"},"editar-factura")})}),f.jsx(Ut,{path:"facturas/:id",element:f.jsx(xr,{children:f.jsx(m0,{})})}),f.jsx(Ut,{path:"notas-credito",element:f.jsx(xr,{children:f.jsx(Ek,{})})}),f.jsx(Ut,{path:"notas-credito/nueva",element:f.jsx(xr,{children:f.jsx(za,{defaultType:"nota_credito"},"nueva-nota")})}),f.jsx(Ut,{path:"notas-credito/editar/:id",element:f.jsx(xr,{children:f.jsx(za,{defaultType:"nota_credito"},"editar-nota")})}),f.jsx(Ut,{path:"notas-credito/:id",element:f.jsx(xr,{children:f.jsx(m0,{})})}),f.jsx(Ut,{path:"facturas-globales",element:f.jsx(xr,{children:f.jsx(Ik,{})})}),f.jsx(Ut,{path:"facturas-globales/nueva",element:f.jsx(xr,{children:f.jsx(za,{defaultType:"factura_global"},"nueva-global")})}),f.jsx(Ut,{path:"facturas-globales/editar/:id",element:f.jsx(xr,{children:f.jsx(za,{defaultType:"factura_global"},"editar-global")})}),f.jsx(Ut,{path:"facturas-globales/:id",element:f.jsx(xr,{children:f.jsx(m0,{})})}),f.jsx(Ut,{path:"productos",element:f.jsx(xr,{children:f.jsx(Dk,{})})}),f.jsx(Ut,{path:"productos/nuevo",element:f.jsx(xr,{children:f.jsx(U5,{})})}),f.jsx(Ut,{path:"productos/editar/:id",element:f.jsx(xr,{children:f.jsx(U5,{})})}),f.jsx(Ut,{path:"clientes",element:f.jsx(xr,{children:f.jsx(Uk,{})})}),f.jsx(Ut,{path:"clientes/nuevo",element:f.jsx(xr,{children:f.jsx($5,{})})}),f.jsx(Ut,{path:"clientes/editar/:id",element:f.jsx(xr,{children:f.jsx($5,{})})}),f.jsx(Ut,{path:"admin",element:f.jsx(zk,{children:f.jsx(Ck,{})})}),f.jsx(Ut,{path:"*",element:f.jsx(Mm,{to:"/"})})]})]})})}tw(document.getElementById("root")).render(f.jsx(be.StrictMode,{children:f.jsx(qk,{})}));export{Lt as _,ti as c,z5 as g};
